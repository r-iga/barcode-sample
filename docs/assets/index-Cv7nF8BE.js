function t0(A,C){for(var x=0;x<C.length;x++){const N=C[x];if(typeof N!="string"&&!Array.isArray(N)){for(const R in N)if(R!=="default"&&!(R in A)){const S=Object.getOwnPropertyDescriptor(N,R);S&&Object.defineProperty(A,R,S.get?S:{enumerable:!0,get:()=>N[R]})}}}return Object.freeze(Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}))}(function(){const C=document.createElement("link").relList;if(C&&C.supports&&C.supports("modulepreload"))return;for(const R of document.querySelectorAll('link[rel="modulepreload"]'))N(R);new MutationObserver(R=>{for(const S of R)if(S.type==="childList")for(const H of S.addedNodes)H.tagName==="LINK"&&H.rel==="modulepreload"&&N(H)}).observe(document,{childList:!0,subtree:!0});function x(R){const S={};return R.integrity&&(S.integrity=R.integrity),R.referrerPolicy&&(S.referrerPolicy=R.referrerPolicy),R.crossOrigin==="use-credentials"?S.credentials="include":R.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function N(R){if(R.ep)return;R.ep=!0;const S=x(R);fetch(R.href,S)}})();var pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n0(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}var Ha={exports:{}},lo={},Wa={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function r0(){if(H1)return je;H1=1;var A=Symbol.for("react.element"),C=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),H=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),G=Symbol.iterator;function Ie(B){return B===null||typeof B!="object"?null:(B=G&&B[G]||B["@@iterator"],typeof B=="function"?B:null)}var Oe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ht=Object.assign,we={};function Ge(B,j,be){this.props=B,this.context=j,this.refs=we,this.updater=be||Oe}Ge.prototype.isReactComponent={},Ge.prototype.setState=function(B,j){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,j,"setState")},Ge.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function en(){}en.prototype=Ge.prototype;function Ye(B,j,be){this.props=B,this.context=j,this.refs=we,this.updater=be||Oe}var me=Ye.prototype=new en;me.constructor=Ye,ht(me,Ge.prototype),me.isPureReactComponent=!0;var De=Array.isArray,Ht=Object.prototype.hasOwnProperty,Fe={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function Ue(B,j,be){var ve,Qe={},se=null,lt=null;if(j!=null)for(ve in j.ref!==void 0&&(lt=j.ref),j.key!==void 0&&(se=""+j.key),j)Ht.call(j,ve)&&!$.hasOwnProperty(ve)&&(Qe[ve]=j[ve]);var Me=arguments.length-2;if(Me===1)Qe.children=be;else if(1<Me){for(var at=Array(Me),Xt=0;Xt<Me;Xt++)at[Xt]=arguments[Xt+2];Qe.children=at}if(B&&B.defaultProps)for(ve in Me=B.defaultProps,Me)Qe[ve]===void 0&&(Qe[ve]=Me[ve]);return{$$typeof:A,type:B,key:se,ref:lt,props:Qe,_owner:Fe.current}}function ne(B,j){return{$$typeof:A,type:B.type,key:j,ref:B.ref,props:B.props,_owner:B._owner}}function gn(B){return typeof B=="object"&&B!==null&&B.$$typeof===A}function Mt(B){var j={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(be){return j[be]})}var Ae=/\/+/g;function Ve(B,j){return typeof B=="object"&&B!==null&&B.key!=null?Mt(""+B.key):j.toString(36)}function ot(B,j,be,ve,Qe){var se=typeof B;(se==="undefined"||se==="boolean")&&(B=null);var lt=!1;if(B===null)lt=!0;else switch(se){case"string":case"number":lt=!0;break;case"object":switch(B.$$typeof){case A:case C:lt=!0}}if(lt)return lt=B,Qe=Qe(lt),B=ve===""?"."+Ve(lt,0):ve,De(Qe)?(be="",B!=null&&(be=B.replace(Ae,"$&/")+"/"),ot(Qe,j,be,"",function(Xt){return Xt})):Qe!=null&&(gn(Qe)&&(Qe=ne(Qe,be+(!Qe.key||lt&&lt.key===Qe.key?"":(""+Qe.key).replace(Ae,"$&/")+"/")+B)),j.push(Qe)),1;if(lt=0,ve=ve===""?".":ve+":",De(B))for(var Me=0;Me<B.length;Me++){se=B[Me];var at=ve+Ve(se,Me);lt+=ot(se,j,be,at,Qe)}else if(at=Ie(B),typeof at=="function")for(B=at.call(B),Me=0;!(se=B.next()).done;)se=se.value,at=ve+Ve(se,Me++),lt+=ot(se,j,be,at,Qe);else if(se==="object")throw j=String(B),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return lt}function W(B,j,be){if(B==null)return B;var ve=[],Qe=0;return ot(B,ve,"","",function(se){return j.call(be,se,Qe++)}),ve}function et(B){if(B._status===-1){var j=B._result;j=j(),j.then(function(be){(B._status===0||B._status===-1)&&(B._status=1,B._result=be)},function(be){(B._status===0||B._status===-1)&&(B._status=2,B._result=be)}),B._status===-1&&(B._status=0,B._result=j)}if(B._status===1)return B._result.default;throw B._result}var xe={current:null},le={transition:null},Ce={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:le,ReactCurrentOwner:Fe};function ae(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:W,forEach:function(B,j,be){W(B,function(){j.apply(this,arguments)},be)},count:function(B){var j=0;return W(B,function(){j++}),j},toArray:function(B){return W(B,function(j){return j})||[]},only:function(B){if(!gn(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},je.Component=Ge,je.Fragment=x,je.Profiler=R,je.PureComponent=Ye,je.StrictMode=N,je.Suspense=X,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ce,je.act=ae,je.cloneElement=function(B,j,be){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ve=ht({},B.props),Qe=B.key,se=B.ref,lt=B._owner;if(j!=null){if(j.ref!==void 0&&(se=j.ref,lt=Fe.current),j.key!==void 0&&(Qe=""+j.key),B.type&&B.type.defaultProps)var Me=B.type.defaultProps;for(at in j)Ht.call(j,at)&&!$.hasOwnProperty(at)&&(ve[at]=j[at]===void 0&&Me!==void 0?Me[at]:j[at])}var at=arguments.length-2;if(at===1)ve.children=be;else if(1<at){Me=Array(at);for(var Xt=0;Xt<at;Xt++)Me[Xt]=arguments[Xt+2];ve.children=Me}return{$$typeof:A,type:B.type,key:Qe,ref:se,props:ve,_owner:lt}},je.createContext=function(B){return B={$$typeof:H,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:S,_context:B},B.Consumer=B},je.createElement=Ue,je.createFactory=function(B){var j=Ue.bind(null,B);return j.type=B,j},je.createRef=function(){return{current:null}},je.forwardRef=function(B){return{$$typeof:K,render:B}},je.isValidElement=gn,je.lazy=function(B){return{$$typeof:Z,_payload:{_status:-1,_result:B},_init:et}},je.memo=function(B,j){return{$$typeof:T,type:B,compare:j===void 0?null:j}},je.startTransition=function(B){var j=le.transition;le.transition={};try{B()}finally{le.transition=j}},je.unstable_act=ae,je.useCallback=function(B,j){return xe.current.useCallback(B,j)},je.useContext=function(B){return xe.current.useContext(B)},je.useDebugValue=function(){},je.useDeferredValue=function(B){return xe.current.useDeferredValue(B)},je.useEffect=function(B,j){return xe.current.useEffect(B,j)},je.useId=function(){return xe.current.useId()},je.useImperativeHandle=function(B,j,be){return xe.current.useImperativeHandle(B,j,be)},je.useInsertionEffect=function(B,j){return xe.current.useInsertionEffect(B,j)},je.useLayoutEffect=function(B,j){return xe.current.useLayoutEffect(B,j)},je.useMemo=function(B,j){return xe.current.useMemo(B,j)},je.useReducer=function(B,j,be){return xe.current.useReducer(B,j,be)},je.useRef=function(B){return xe.current.useRef(B)},je.useState=function(B){return xe.current.useState(B)},je.useSyncExternalStore=function(B,j,be){return xe.current.useSyncExternalStore(B,j,be)},je.useTransition=function(){return xe.current.useTransition()},je.version="18.3.1",je}var W1;function Za(){return W1||(W1=1,Wa.exports=r0()),Wa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function i0(){if(G1)return lo;G1=1;var A=Za(),C=Symbol.for("react.element"),x=Symbol.for("react.fragment"),N=Object.prototype.hasOwnProperty,R=A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S={key:!0,ref:!0,__self:!0,__source:!0};function H(K,X,T){var Z,G={},Ie=null,Oe=null;T!==void 0&&(Ie=""+T),X.key!==void 0&&(Ie=""+X.key),X.ref!==void 0&&(Oe=X.ref);for(Z in X)N.call(X,Z)&&!S.hasOwnProperty(Z)&&(G[Z]=X[Z]);if(K&&K.defaultProps)for(Z in X=K.defaultProps,X)G[Z]===void 0&&(G[Z]=X[Z]);return{$$typeof:C,type:K,key:Ie,ref:Oe,props:G,_owner:R.current}}return lo.Fragment=x,lo.jsx=H,lo.jsxs=H,lo}var X1;function s0(){return X1||(X1=1,Ha.exports=i0()),Ha.exports}var lr=s0(),ms=Za(),wl={},Ga={exports:{}},Bn={},Xa={exports:{}},ja={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function o0(){return j1||(j1=1,function(A){function C(le,Ce){var ae=le.length;le.push(Ce);e:for(;0<ae;){var B=ae-1>>>1,j=le[B];if(0<R(j,Ce))le[B]=Ce,le[ae]=j,ae=B;else break e}}function x(le){return le.length===0?null:le[0]}function N(le){if(le.length===0)return null;var Ce=le[0],ae=le.pop();if(ae!==Ce){le[0]=ae;e:for(var B=0,j=le.length,be=j>>>1;B<be;){var ve=2*(B+1)-1,Qe=le[ve],se=ve+1,lt=le[se];if(0>R(Qe,ae))se<j&&0>R(lt,Qe)?(le[B]=lt,le[se]=ae,B=se):(le[B]=Qe,le[ve]=ae,B=ve);else if(se<j&&0>R(lt,ae))le[B]=lt,le[se]=ae,B=se;else break e}}return Ce}function R(le,Ce){var ae=le.sortIndex-Ce.sortIndex;return ae!==0?ae:le.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var S=performance;A.unstable_now=function(){return S.now()}}else{var H=Date,K=H.now();A.unstable_now=function(){return H.now()-K}}var X=[],T=[],Z=1,G=null,Ie=3,Oe=!1,ht=!1,we=!1,Ge=typeof setTimeout=="function"?setTimeout:null,en=typeof clearTimeout=="function"?clearTimeout:null,Ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function me(le){for(var Ce=x(T);Ce!==null;){if(Ce.callback===null)N(T);else if(Ce.startTime<=le)N(T),Ce.sortIndex=Ce.expirationTime,C(X,Ce);else break;Ce=x(T)}}function De(le){if(we=!1,me(le),!ht)if(x(X)!==null)ht=!0,et(Ht);else{var Ce=x(T);Ce!==null&&xe(De,Ce.startTime-le)}}function Ht(le,Ce){ht=!1,we&&(we=!1,en(Ue),Ue=-1),Oe=!0;var ae=Ie;try{for(me(Ce),G=x(X);G!==null&&(!(G.expirationTime>Ce)||le&&!Mt());){var B=G.callback;if(typeof B=="function"){G.callback=null,Ie=G.priorityLevel;var j=B(G.expirationTime<=Ce);Ce=A.unstable_now(),typeof j=="function"?G.callback=j:G===x(X)&&N(X),me(Ce)}else N(X);G=x(X)}if(G!==null)var be=!0;else{var ve=x(T);ve!==null&&xe(De,ve.startTime-Ce),be=!1}return be}finally{G=null,Ie=ae,Oe=!1}}var Fe=!1,$=null,Ue=-1,ne=5,gn=-1;function Mt(){return!(A.unstable_now()-gn<ne)}function Ae(){if($!==null){var le=A.unstable_now();gn=le;var Ce=!0;try{Ce=$(!0,le)}finally{Ce?Ve():(Fe=!1,$=null)}}else Fe=!1}var Ve;if(typeof Ye=="function")Ve=function(){Ye(Ae)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,W=ot.port2;ot.port1.onmessage=Ae,Ve=function(){W.postMessage(null)}}else Ve=function(){Ge(Ae,0)};function et(le){$=le,Fe||(Fe=!0,Ve())}function xe(le,Ce){Ue=Ge(function(){le(A.unstable_now())},Ce)}A.unstable_IdlePriority=5,A.unstable_ImmediatePriority=1,A.unstable_LowPriority=4,A.unstable_NormalPriority=3,A.unstable_Profiling=null,A.unstable_UserBlockingPriority=2,A.unstable_cancelCallback=function(le){le.callback=null},A.unstable_continueExecution=function(){ht||Oe||(ht=!0,et(Ht))},A.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<le?Math.floor(1e3/le):5},A.unstable_getCurrentPriorityLevel=function(){return Ie},A.unstable_getFirstCallbackNode=function(){return x(X)},A.unstable_next=function(le){switch(Ie){case 1:case 2:case 3:var Ce=3;break;default:Ce=Ie}var ae=Ie;Ie=Ce;try{return le()}finally{Ie=ae}},A.unstable_pauseExecution=function(){},A.unstable_requestPaint=function(){},A.unstable_runWithPriority=function(le,Ce){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ae=Ie;Ie=le;try{return Ce()}finally{Ie=ae}},A.unstable_scheduleCallback=function(le,Ce,ae){var B=A.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?B+ae:B):ae=B,le){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ae+j,le={id:Z++,callback:Ce,priorityLevel:le,startTime:ae,expirationTime:j,sortIndex:-1},ae>B?(le.sortIndex=ae,C(T,le),x(X)===null&&le===x(T)&&(we?(en(Ue),Ue=-1):we=!0,xe(De,ae-B))):(le.sortIndex=j,C(X,le),ht||Oe||(ht=!0,et(Ht))),le},A.unstable_shouldYield=Mt,A.unstable_wrapCallback=function(le){var Ce=Ie;return function(){var ae=Ie;Ie=Ce;try{return le.apply(this,arguments)}finally{Ie=ae}}}}(ja)),ja}var Y1;function l0(){return Y1||(Y1=1,Xa.exports=o0()),Xa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function a0(){if(Z1)return Bn;Z1=1;var A=Za(),C=l0();function x(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N=new Set,R={};function S(t,i){H(t,i),H(t+"Capture",i)}function H(t,i){for(R[t]=i,t=0;t<i.length;t++)N.add(i[t])}var K=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),X=Object.prototype.hasOwnProperty,T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z={},G={};function Ie(t){return X.call(G,t)?!0:X.call(Z,t)?!1:T.test(t)?G[t]=!0:(Z[t]=!0,!1)}function Oe(t,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ht(t,i,a,c){if(i===null||typeof i>"u"||Oe(t,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function we(t,i,a,c,h,g,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=t,this.type=i,this.sanitizeURL=g,this.removeEmptyString=E}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new we(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];Ge[i]=new we(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new we(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new we(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new we(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new we(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){Ge[t]=new we(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){Ge[t]=new we(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){Ge[t]=new we(t,5,!1,t.toLowerCase(),null,!1,!1)});var en=/[\-:]([a-z])/g;function Ye(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(en,Ye);Ge[i]=new we(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(en,Ye);Ge[i]=new we(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(en,Ye);Ge[i]=new we(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new we(t,1,!1,t.toLowerCase(),null,!1,!1)}),Ge.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){Ge[t]=new we(t,1,!1,t.toLowerCase(),null,!0,!0)});function me(t,i,a,c){var h=Ge.hasOwnProperty(i)?Ge[i]:null;(h!==null?h.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(ht(i,a,h,c)&&(a=null),c||h===null?Ie(i)&&(a===null?t.removeAttribute(i):t.setAttribute(i,""+a)):h.mustUseProperty?t[h.propertyName]=a===null?h.type===3?!1:"":a:(i=h.attributeName,c=h.attributeNamespace,a===null?t.removeAttribute(i):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?t.setAttributeNS(c,i,a):t.setAttribute(i,a))))}var De=A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ht=Symbol.for("react.element"),Fe=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Ue=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),gn=Symbol.for("react.provider"),Mt=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),le=Symbol.iterator;function Ce(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,B;function j(t){if(B===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);B=i&&i[1]||""}return`
`+B+t}var be=!1;function ve(t,i){if(!t||be)return"";be=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var c=z}Reflect.construct(t,[],i)}else{try{i.call()}catch(z){c=z}t.call(i.prototype)}else{try{throw Error()}catch(z){c=z}t()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var h=z.stack.split(`
`),g=c.stack.split(`
`),E=h.length-1,_=g.length-1;1<=E&&0<=_&&h[E]!==g[_];)_--;for(;1<=E&&0<=_;E--,_--)if(h[E]!==g[_]){if(E!==1||_!==1)do if(E--,_--,0>_||h[E]!==g[_]){var D=`
`+h[E].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=E&&0<=_);break}}}finally{be=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?j(t):""}function Qe(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=ve(t.type,!1),t;case 11:return t=ve(t.type.render,!1),t;case 1:return t=ve(t.type,!0),t;default:return""}}function se(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case Fe:return"Portal";case ne:return"Profiler";case Ue:return"StrictMode";case Ve:return"Suspense";case ot:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mt:return(t.displayName||"Context")+".Consumer";case gn:return(t._context.displayName||"Context")+".Provider";case Ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return i=t.displayName||null,i!==null?i:se(t.type)||"Memo";case et:i=t._payload,t=t._init;try{return se(t(i))}catch{}}return null}function lt(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(i);case 8:return i===Ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function at(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xt(t){var i=at(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function jt(t){t._valueTracker||(t._valueTracker=Xt(t))}function wi(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return t&&(c=at(t)?t.checked?"true":"false":t.value),t=c,t!==a?(i.setValue(t),!0):!1}function qe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wr(t,i){var a=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Pn(t,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Me(i.value!=null?i.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Wr(t,i){i=i.checked,i!=null&&me(t,"checked",i,!1)}function Pt(t,i){Wr(t,i);var a=Me(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?Ze(t,i.type,a):i.hasOwnProperty("defaultValue")&&Ze(t,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function ft(t,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,a||i===t.value||(t.value=i),t.defaultValue=i}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Ze(t,i,a){(i!=="number"||qe(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var mr=Array.isArray;function fe(t,i,a,c){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Gr(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(x(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cs(t,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(x(92));if(mr(a)){if(1<a.length)throw Error(x(93));a=a[0]}i=a}i==null&&(i=""),a=i}t._wrapperState={initialValue:Me(a)}}function Kn(t,i){var a=Me(i.value),c=Me(i.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),i.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function Wi(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function Tn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gi(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?Tn(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ln,tn=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,h){MSApp.execUnsafeLocalFunction(function(){return t(i,a,c,h)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(Ln=Ln||document.createElement("div"),Ln.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ln.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function Xr(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yl=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(t){yl.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),Er[i]=Er[t]})});function _t(t,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Er.hasOwnProperty(t)&&Er[t]?(""+i).trim():i+"px"}function oe(t,i){t=t.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=_t(a,i[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,h):t[a]=h}}var Lt=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function it(t,i){if(i){if(Lt[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(x(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(x(61))}if(i.style!=null&&typeof i.style!="object")throw Error(x(62))}}function wt(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nr=null;function mi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,Xe=null,_n=null;function ys(t){if(t=js(t)){if(typeof Xi!="function")throw Error(x(280));var i=t.stateNode;i&&(i=Do(i),Xi(t.stateNode,t.type,i))}}function As(t){Xe?_n?_n.push(t):_n=[t]:Xe=t}function Nn(){if(Xe){var t=Xe,i=_n;if(_n=Xe=null,ys(t),i)for(t=0;t<i.length;t++)ys(i[t])}}function ji(t,i){return t(i)}function Yt(){}var Cr=!1;function Ei(t,i,a){if(Cr)return t(i,a);Cr=!0;try{return ji(t,i,a)}finally{Cr=!1,(Xe!==null||_n!==null)&&(Yt(),Nn())}}function xn(t,i){var a=t.stateNode;if(a===null)return null;var c=Do(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(x(231,i,typeof a));return a}var Ss=!1;if(K)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Ss=!1}function Is(t,i,a,c,h,g,E,_,D){var z=Array.prototype.slice.call(arguments,3);try{i.apply(a,z)}catch(J){this.onError(J)}}var Wt=!1,Qn=null,an=!1,ue=null,jr={onError:function(t){Wt=!0,Qn=t}};function vs(t,i,a,c,h,g,E,_,D){Wt=!1,Qn=null,Is.apply(jr,arguments)}function pn(t,i,a,c,h,g,E,_,D){if(vs.apply(this,arguments),Wt){if(Wt){var z=Qn;Wt=!1,Qn=null}else throw Error(x(198));an||(an=!0,ue=z)}}function Rn(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ci(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function yi(t){if(Rn(t)!==t)throw Error(x(188))}function qn(t){var i=t.alternate;if(!i){if(i=Rn(t),i===null)throw Error(x(188));return i!==t?null:t}for(var a=t,c=i;;){var h=a.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===a)return yi(h),t;if(g===c)return yi(h),i;g=g.sibling}throw Error(x(188))}if(a.return!==c.return)a=h,c=g;else{for(var E=!1,_=h.child;_;){if(_===a){E=!0,a=h,c=g;break}if(_===c){E=!0,c=h,a=g;break}_=_.sibling}if(!E){for(_=g.child;_;){if(_===a){E=!0,a=g,c=h;break}if(_===c){E=!0,c=g,a=h;break}_=_.sibling}if(!E)throw Error(x(189))}}if(a.alternate!==c)throw Error(x(190))}if(a.tag!==3)throw Error(x(188));return a.stateNode.current===a?t:i}function uo(t){return t=qn(t),t!==null?co(t):null}function co(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=co(t);if(i!==null)return i;t=t.sibling}return null}var Un=C.unstable_scheduleCallback,nn=C.unstable_cancelCallback,mt=C.unstable_shouldYield,fo=C.unstable_requestPaint,ut=C.unstable_now,Ts=C.unstable_getCurrentPriorityLevel,Y=C.unstable_ImmediatePriority,ho=C.unstable_UserBlockingPriority,xt=C.unstable_NormalPriority,Yr=C.unstable_LowPriority,go=C.unstable_IdlePriority,$e=null,ze=null;function Ke(t){if(ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot($e,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Ft,_s=Math.log,Ns=Math.LN2;function Ft(t){return t>>>=0,t===0?32:31-(_s(t)/Ns|0)|0}var Vn=64,Yi=4194304;function pt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zn(t,i){var a=t.pendingLanes;if(a===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes,E=a&268435455;if(E!==0){var _=E&~h;_!==0?c=pt(_):(g&=E,g!==0&&(c=pt(g)))}else E=a&~h,E!==0?c=pt(E):g!==0&&(c=pt(g));if(c===0)return 0;if(i!==0&&i!==c&&!(i&h)&&(h=c&-c,g=i&-i,h>=g||h===16&&(g&4194240)!==0))return i;if(c&4&&(c|=a&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=c;0<i;)a=31-Sn(i),h=1<<a,c|=t[a],i&=~h;return c}function Al(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(t,i){for(var a=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,g=t.pendingLanes;0<g;){var E=31-Sn(g),_=1<<E,D=h[E];D===-1?(!(_&a)||_&c)&&(h[E]=Al(_,i)):D<=i&&(t.expiredLanes|=_),g&=~_}}function ct(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zt(){var t=Vn;return Vn<<=1,!(Vn&4194240)&&(Vn=64),t}function P(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function I(t,i,a){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-Sn(i),t[i]=a}function ye(t,i){var a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var h=31-Sn(a),g=1<<h;i[h]=0,c[h]=-1,t[h]=-1,a&=~g}}function bt(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var c=31-Sn(a),h=1<<c;h&i|t[c]&i&&(t[c]|=i),a&=~h}}var He=0;function xo(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zi,wn,Se,Et,Rs,Os=!1,Kr=[],Hn=null,Jn=null,yr=null,vt=new Map,ar=new Map,un=[],Re="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function po(t,i){switch(t){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":vt.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ar.delete(i.pointerId)}}function Be(t,i,a,c,h,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},i!==null&&(i=js(i),i!==null&&wn(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Kt(t,i,a,c,h){switch(i){case"focusin":return Hn=Be(Hn,t,i,a,c,h),!0;case"dragenter":return Jn=Be(Jn,t,i,a,c,h),!0;case"mouseover":return yr=Be(yr,t,i,a,c,h),!0;case"pointerover":var g=h.pointerId;return vt.set(g,Be(vt.get(g)||null,t,i,a,c,h)),!0;case"gotpointercapture":return g=h.pointerId,ar.set(g,Be(ar.get(g)||null,t,i,a,c,h)),!0}return!1}function wo(t){var i=Di(t.target);if(i!==null){var a=Rn(i);if(a!==null){if(i=a.tag,i===13){if(i=Ci(a),i!==null){t.blockedOn=i,Rs(t.priority,function(){Se(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ki(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Nr=c,a.target.dispatchEvent(c),Nr=null}else return i=js(a),i!==null&&wn(i),t.blockedOn=a,!1;i.shift()}return!0}function Ds(t,i,a){Qr(t)&&a.delete(i)}function Rr(){Os=!1,Hn!==null&&Qr(Hn)&&(Hn=null),Jn!==null&&Qr(Jn)&&(Jn=null),yr!==null&&Qr(yr)&&(yr=null),vt.forEach(Ds),ar.forEach(Ds)}function Ai(t,i){t.blockedOn===i&&(t.blockedOn=null,Os||(Os=!0,C.unstable_scheduleCallback(C.unstable_NormalPriority,Rr)))}function ur(t){function i(h){return Ai(h,t)}if(0<Kr.length){Ai(Kr[0],t);for(var a=1;a<Kr.length;a++){var c=Kr[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Hn!==null&&Ai(Hn,t),Jn!==null&&Ai(Jn,t),yr!==null&&Ai(yr,t),vt.forEach(i),ar.forEach(i),a=0;a<un.length;a++)c=un[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<un.length&&(a=un[0],a.blockedOn===null);)wo(a),a.blockedOn===null&&un.shift()}var $n=De.ReactCurrentBatchConfig,Ar=!0;function mo(t,i,a,c){var h=He,g=$n.transition;$n.transition=null;try{He=1,Or(t,i,a,c)}finally{He=h,$n.transition=g}}function Si(t,i,a,c){var h=He,g=$n.transition;$n.transition=null;try{He=4,Or(t,i,a,c)}finally{He=h,$n.transition=g}}function Or(t,i,a,c){if(Ar){var h=Ki(t,i,a,c);if(h===null)Ml(t,i,c,Qt,a),po(t,c);else if(Kt(h,t,i,a,c))c.stopPropagation();else if(po(t,c),i&4&&-1<Re.indexOf(t)){for(;h!==null;){var g=js(h);if(g!==null&&Zi(g),g=Ki(t,i,a,c),g===null&&Ml(t,i,c,Qt,a),g===h)break;h=g}h!==null&&c.stopPropagation()}else Ml(t,i,c,null,a)}}var Qt=null;function Ki(t,i,a,c){if(Qt=null,t=mi(c),t=Di(t),t!==null)if(i=Rn(t),i===null)t=null;else if(a=i.tag,a===13){if(t=Ci(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return Qt=t,null}function Ms(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ts()){case Y:return 1;case ho:return 4;case xt:case Yr:return 16;case go:return 536870912;default:return 16}default:return 16}}var cr=null,bs=null,Qi=null;function Eo(){if(Qi)return Qi;var t,i=bs,a=i.length,c,h="value"in cr?cr.value:cr.textContent,g=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(c=1;c<=E&&i[a-c]===h[g-c];c++);return Qi=h.slice(t,1<c?1-c:void 0)}function tt(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ii(){return!0}function vi(){return!1}function kt(t){function i(a,c,h,g,E){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(a=t[_],this[_]=a?a(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ii:vi,this.isPropagationStopped=vi,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),i}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V=kt(qr),Le=ae({},qr,{view:0,detail:0}),qt=kt(Le),Jr,qi,Ti,Ji=ae({},Le,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_i,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Jr=t.screenX-Ti.screenX,qi=t.screenY-Ti.screenY):qi=Jr=0,Ti=t),Jr)},movementY:function(t){return"movementY"in t?t.movementY:qi}}),Co=kt(Ji),ks=ae({},Ji,{dataTransfer:0}),Ut=kt(ks),Bs=ae({},Le,{relatedTarget:0}),Ct=kt(Bs),$i=ae({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Dr=kt($i),dt=ae({},qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Te=kt(dt),Sl=ae({},qr,{data:0}),gt=kt(Sl),Mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Il={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function er(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Il[t])?!!i[t]:!1}function _i(){return er}var yo=ae({},Le,{key:function(t){if(t.key){var i=Mr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=tt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$r[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_i,charCode:function(t){return t.type==="keypress"?tt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ps=kt(yo),Ao=ae({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ls=kt(Ao),vl=ae({},Le,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_i}),ei=kt(vl),Fs=ae({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tl=kt(Fs),Ni=ae({},Ji,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_l=kt(Ni),Sr=[9,13,27,32],ti=K&&"CompositionEvent"in window,rn=null;K&&"documentMode"in document&&(rn=document.documentMode);var So=K&&"TextEvent"in window&&!rn,Wn=K&&(!ti||rn&&8<rn&&11>=rn),Io=" ",es=!1;function vo(t,i){switch(t){case"keyup":return Sr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Us(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cn=!1;function Nl(t,i){switch(t){case"compositionend":return Us(i);case"keypress":return i.which!==32?null:(es=!0,Io);case"textInput":return t=i.data,t===Io&&es?null:t;default:return null}}function Vs(t,i){if(cn)return t==="compositionend"||!ti&&vo(t,i)?(t=Eo(),Qi=bs=cr=null,cn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wn&&i.locale!=="ko"?null:i.data;default:return null}}var Ri={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Je(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ri[t.type]:i==="textarea"}function Oi(t,i,a,c){As(c),i=No(i,"onChange"),0<i.length&&(a=new V("onChange","change",null,a,c),t.push({event:a,listeners:i}))}var w=null,e=null;function n(t){iu(t,0)}function r(t){var i=rs(t);if(wi(i))return t}function s(t,i){if(t==="change")return i}var o=!1;if(K){var l;if(K){var u="oninput"in document;if(!u){var f=document.createElement("div");f.setAttribute("oninput","return;"),u=typeof f.oninput=="function"}l=u}else l=!1;o=l&&(!document.documentMode||9<document.documentMode)}function d(){w&&(w.detachEvent("onpropertychange",p),e=w=null)}function p(t){if(t.propertyName==="value"&&r(e)){var i=[];Oi(i,e,t,mi(t)),Ei(n,i)}}function m(t,i,a){t==="focusin"?(d(),w=i,e=a,w.attachEvent("onpropertychange",p)):t==="focusout"&&d()}function y(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r(e)}function v(t,i){if(t==="click")return r(i)}function O(t,i){if(t==="input"||t==="change")return r(i)}function M(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var k=typeof Object.is=="function"?Object.is:M;function U(t,i){if(k(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!X.call(i,h)||!k(t[h],i[h]))return!1}return!0}function te(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function re(t,i){var a=te(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=i&&c>=i)return{node:a,offset:i-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=te(a)}}function q(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?q(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function We(){for(var t=window,i=qe();i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=qe(t.document)}return i}function Pe(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function mn(t){var i=We(),a=t.focusedElem,c=t.selectionRange;if(i!==a&&a&&a.ownerDocument&&q(a.ownerDocument.documentElement,a)){if(c!==null&&Pe(a)){if(i=c.start,t=c.end,t===void 0&&(t=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(t,a.value.length);else if(t=(i=a.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var h=a.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!t.extend&&g>c&&(h=c,c=g,g=h),h=re(a,g);var E=re(a,c);h&&E&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==E.node||t.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),t.removeAllRanges(),g>c?(t.addRange(i),t.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),t.addRange(i)))}}for(i=[],t=a;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)t=i[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gn=K&&"documentMode"in document&&11>=document.documentMode,Vt=null,st=null,Nt=null,fn=!1;function br(t,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fn||Vt==null||Vt!==qe(c)||(c=Vt,"selectionStart"in c&&Pe(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Nt&&U(Nt,c)||(Nt=c,c=No(st,"onSelect"),0<c.length&&(i=new V("onSelect","select",null,i,a),t.push({event:i,listeners:c}),i.target=Vt)))}function fr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ni={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionend:fr("Transition","TransitionEnd")},zs={},Qa={};K&&(Qa=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function To(t){if(zs[t])return zs[t];if(!ni[t])return t;var i=ni[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qa)return zs[t]=i[a];return t}var qa=To("animationend"),Ja=To("animationiteration"),$a=To("animationstart"),eu=To("transitionend"),tu=new Map,nu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(t,i){tu.set(t,i),S(i,[t])}for(var Rl=0;Rl<nu.length;Rl++){var Ol=nu[Rl],fc=Ol.toLowerCase(),dc=Ol[0].toUpperCase()+Ol.slice(1);ri(fc,"on"+dc)}ri(qa,"onAnimationEnd"),ri(Ja,"onAnimationIteration"),ri($a,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(eu,"onTransitionEnd"),H("onMouseEnter",["mouseout","mouseover"]),H("onMouseLeave",["mouseout","mouseover"]),H("onPointerEnter",["pointerout","pointerover"]),H("onPointerLeave",["pointerout","pointerover"]),S("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),S("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),S("onBeforeInput",["compositionend","keypress","textInput","paste"]),S("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hc=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function ru(t,i,a){var c=t.type||"unknown-event";t.currentTarget=a,pn(c,i,void 0,t),t.currentTarget=null}function iu(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],h=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var E=c.length-1;0<=E;E--){var _=c[E],D=_.instance,z=_.currentTarget;if(_=_.listener,D!==g&&h.isPropagationStopped())break e;ru(h,_,z),g=D}else for(E=0;E<c.length;E++){if(_=c[E],D=_.instance,z=_.currentTarget,_=_.listener,D!==g&&h.isPropagationStopped())break e;ru(h,_,z),g=D}}}if(an)throw t=ue,an=!1,ue=null,t}function At(t,i){var a=i[Fl];a===void 0&&(a=i[Fl]=new Set);var c=t+"__bubble";a.has(c)||(su(i,t,2,!1),a.add(c))}function Dl(t,i,a){var c=0;i&&(c|=4),su(a,t,c,i)}var _o="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[_o]){t[_o]=!0,N.forEach(function(a){a!=="selectionchange"&&(hc.has(a)||Dl(a,!1,t),Dl(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[_o]||(i[_o]=!0,Dl("selectionchange",!1,i))}}function su(t,i,a,c){switch(Ms(i)){case 1:var h=mo;break;case 4:h=Si;break;default:h=Or}a=h.bind(null,i,a,t),h=void 0,!Ss||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ml(t,i,a,c,h){var g=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var _=c.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(E===4)for(E=c.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;E=E.return}for(;_!==null;){if(E=Di(_),E===null)return;if(D=E.tag,D===5||D===6){c=g=E;continue e}_=_.parentNode}}c=c.return}Ei(function(){var z=g,J=mi(a),ee=[];e:{var Q=tu.get(t);if(Q!==void 0){var ce=V,ge=t;switch(t){case"keypress":if(tt(a)===0)break e;case"keydown":case"keyup":ce=Ps;break;case"focusin":ge="focus",ce=Ct;break;case"focusout":ge="blur",ce=Ct;break;case"beforeblur":case"afterblur":ce=Ct;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Ut;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=ei;break;case qa:case Ja:case $a:ce=Dr;break;case eu:ce=Tl;break;case"scroll":ce=qt;break;case"wheel":ce=_l;break;case"copy":case"cut":case"paste":ce=Te;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Ls}var pe=(i&4)!==0,zt=!pe&&t==="scroll",L=pe?Q!==null?Q+"Capture":null:Q;pe=[];for(var b=z,F;b!==null;){F=b;var ie=F.stateNode;if(F.tag===5&&ie!==null&&(F=ie,L!==null&&(ie=xn(b,L),ie!=null&&pe.push(Gs(b,ie,F)))),zt)break;b=b.return}0<pe.length&&(Q=new ce(Q,ge,null,a,J),ee.push({event:Q,listeners:pe}))}}if(!(i&7)){e:{if(Q=t==="mouseover"||t==="pointerover",ce=t==="mouseout"||t==="pointerout",Q&&a!==Nr&&(ge=a.relatedTarget||a.fromElement)&&(Di(ge)||ge[kr]))break e;if((ce||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,ce?(ge=a.relatedTarget||a.toElement,ce=z,ge=ge?Di(ge):null,ge!==null&&(zt=Rn(ge),ge!==zt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(ce=null,ge=z),ce!==ge)){if(pe=Co,ie="onMouseLeave",L="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Ls,ie="onPointerLeave",L="onPointerEnter",b="pointer"),zt=ce==null?Q:rs(ce),F=ge==null?Q:rs(ge),Q=new pe(ie,b+"leave",ce,a,J),Q.target=zt,Q.relatedTarget=F,ie=null,Di(J)===z&&(pe=new pe(L,b+"enter",ge,a,J),pe.target=F,pe.relatedTarget=zt,ie=pe),zt=ie,ce&&ge)t:{for(pe=ce,L=ge,b=0,F=pe;F;F=ts(F))b++;for(F=0,ie=L;ie;ie=ts(ie))F++;for(;0<b-F;)pe=ts(pe),b--;for(;0<F-b;)L=ts(L),F--;for(;b--;){if(pe===L||L!==null&&pe===L.alternate)break t;pe=ts(pe),L=ts(L)}pe=null}else pe=null;ce!==null&&ou(ee,Q,ce,pe,!1),ge!==null&&zt!==null&&ou(ee,zt,ge,pe,!0)}}e:{if(Q=z?rs(z):window,ce=Q.nodeName&&Q.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Q.type==="file")var Ee=s;else if(Je(Q))if(o)Ee=O;else{Ee=y;var _e=m}else(ce=Q.nodeName)&&ce.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(Ee=v);if(Ee&&(Ee=Ee(t,z))){Oi(ee,Ee,a,J);break e}_e&&_e(t,Q,z),t==="focusout"&&(_e=Q._wrapperState)&&_e.controlled&&Q.type==="number"&&Ze(Q,"number",Q.value)}switch(_e=z?rs(z):window,t){case"focusin":(Je(_e)||_e.contentEditable==="true")&&(Vt=_e,st=z,Nt=null);break;case"focusout":Nt=st=Vt=null;break;case"mousedown":fn=!0;break;case"contextmenu":case"mouseup":case"dragend":fn=!1,br(ee,a,J);break;case"selectionchange":if(Gn)break;case"keydown":case"keyup":br(ee,a,J)}var Ne;if(ti)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else cn?vo(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Wn&&a.locale!=="ko"&&(cn||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&cn&&(Ne=Eo()):(cr=J,bs="value"in cr?cr.value:cr.textContent,cn=!0)),_e=No(z,ke),0<_e.length&&(ke=new gt(ke,t,null,a,J),ee.push({event:ke,listeners:_e}),Ne?ke.data=Ne:(Ne=Us(a),Ne!==null&&(ke.data=Ne)))),(Ne=So?Nl(t,a):Vs(t,a))&&(z=No(z,"onBeforeInput"),0<z.length&&(J=new gt("onBeforeInput","beforeinput",null,a,J),ee.push({event:J,listeners:z}),J.data=Ne))}iu(ee,i)})}function Gs(t,i,a){return{instance:t,listener:i,currentTarget:a}}function No(t,i){for(var a=i+"Capture",c=[];t!==null;){var h=t,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=xn(t,a),g!=null&&c.unshift(Gs(t,g,h)),g=xn(t,i),g!=null&&c.push(Gs(t,g,h))),t=t.return}return c}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ou(t,i,a,c,h){for(var g=i._reactName,E=[];a!==null&&a!==c;){var _=a,D=_.alternate,z=_.stateNode;if(D!==null&&D===c)break;_.tag===5&&z!==null&&(_=z,h?(D=xn(a,g),D!=null&&E.unshift(Gs(a,D,_))):h||(D=xn(a,g),D!=null&&E.push(Gs(a,D,_)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var gc=/\r\n?/g,xc=/\u0000|\uFFFD/g;function lu(t){return(typeof t=="string"?t:""+t).replace(gc,`
`).replace(xc,"")}function Ro(t,i,a){if(i=lu(i),lu(t)!==i&&a)throw Error(x(425))}function Oo(){}var bl=null,kl=null;function Bl(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,pc=typeof clearTimeout=="function"?clearTimeout:void 0,au=typeof Promise=="function"?Promise:void 0,wc=typeof queueMicrotask=="function"?queueMicrotask:typeof au<"u"?function(t){return au.resolve(null).then(t).catch(mc)}:Pl;function mc(t){setTimeout(function(){throw t})}function Ll(t,i){var a=i,c=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){t.removeChild(h),ur(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);ur(i)}function ii(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function uu(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}var ns=Math.random().toString(36).slice(2),Ir="__reactFiber$"+ns,Xs="__reactProps$"+ns,kr="__reactContainer$"+ns,Fl="__reactEvents$"+ns,Ec="__reactListeners$"+ns,Cc="__reactHandles$"+ns;function Di(t){var i=t[Ir];if(i)return i;for(var a=t.parentNode;a;){if(i=a[kr]||a[Ir]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=uu(t);t!==null;){if(a=t[Ir])return a;t=uu(t)}return i}t=a,a=t.parentNode}return null}function js(t){return t=t[Ir]||t[kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function Do(t){return t[Xs]||null}var Ul=[],is=-1;function si(t){return{current:t}}function St(t){0>is||(t.current=Ul[is],Ul[is]=null,is--)}function yt(t,i){is++,Ul[is]=t.current,t.current=i}var oi={},En=si(oi),On=si(!1),Mi=oi;function ss(t,i){var a=t.type.contextTypes;if(!a)return oi;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in a)h[g]=i[g];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=h),h}function Dn(t){return t=t.childContextTypes,t!=null}function Mo(){St(On),St(En)}function cu(t,i,a){if(En.current!==oi)throw Error(x(168));yt(En,i),yt(On,a)}function fu(t,i,a){var c=t.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in i))throw Error(x(108,lt(t)||"Unknown",h));return ae({},a,c)}function bo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oi,Mi=En.current,yt(En,t),yt(On,On.current),!0}function du(t,i,a){var c=t.stateNode;if(!c)throw Error(x(169));a?(t=fu(t,i,Mi),c.__reactInternalMemoizedMergedChildContext=t,St(On),St(En),yt(En,t)):St(On),yt(On,a)}var Br=null,ko=!1,Vl=!1;function hu(t){Br===null?Br=[t]:Br.push(t)}function yc(t){ko=!0,hu(t)}function li(){if(!Vl&&Br!==null){Vl=!0;var t=0,i=He;try{var a=Br;for(He=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}Br=null,ko=!1}catch(h){throw Br!==null&&(Br=Br.slice(t+1)),Un(Y,li),h}finally{He=i,Vl=!1}}return null}var os=[],ls=0,Bo=null,Po=0,tr=[],nr=0,bi=null,Pr=1,Lr="";function ki(t,i){os[ls++]=Po,os[ls++]=Bo,Bo=t,Po=i}function gu(t,i,a){tr[nr++]=Pr,tr[nr++]=Lr,tr[nr++]=bi,bi=t;var c=Pr;t=Lr;var h=32-Sn(c)-1;c&=~(1<<h),a+=1;var g=32-Sn(i)+h;if(30<g){var E=h-h%5;g=(c&(1<<E)-1).toString(32),c>>=E,h-=E,Pr=1<<32-Sn(i)+h|a<<h|c,Lr=g+t}else Pr=1<<g|a<<h|c,Lr=t}function zl(t){t.return!==null&&(ki(t,1),gu(t,1,0))}function Hl(t){for(;t===Bo;)Bo=os[--ls],os[ls]=null,Po=os[--ls],os[ls]=null;for(;t===bi;)bi=tr[--nr],tr[nr]=null,Lr=tr[--nr],tr[nr]=null,Pr=tr[--nr],tr[nr]=null}var Xn=null,jn=null,Tt=!1,dr=null;function xu(t,i){var a=or(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=t,i=t.deletions,i===null?(t.deletions=[a],t.flags|=16):i.push(a)}function pu(t,i){switch(t.tag){case 5:var a=t.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Xn=t,jn=ii(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Xn=t,jn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=bi!==null?{id:Pr,overflow:Lr}:null,t.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=or(18,null,null,0),a.stateNode=i,a.return=t,t.child=a,Xn=t,jn=null,!0):!1;default:return!1}}function Wl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gl(t){if(Tt){var i=jn;if(i){var a=i;if(!pu(t,i)){if(Wl(t))throw Error(x(418));i=ii(a.nextSibling);var c=Xn;i&&pu(t,i)?xu(c,a):(t.flags=t.flags&-4097|2,Tt=!1,Xn=t)}}else{if(Wl(t))throw Error(x(418));t.flags=t.flags&-4097|2,Tt=!1,Xn=t}}}function wu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xn=t}function Lo(t){if(t!==Xn)return!1;if(!Tt)return wu(t),Tt=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!Bl(t.type,t.memoizedProps)),i&&(i=jn)){if(Wl(t))throw mu(),Error(x(418));for(;i;)xu(t,i),i=ii(i.nextSibling)}if(wu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(i===0){jn=ii(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}t=t.nextSibling}jn=null}}else jn=Xn?ii(t.stateNode.nextSibling):null;return!0}function mu(){for(var t=jn;t;)t=ii(t.nextSibling)}function as(){jn=Xn=null,Tt=!1}function Xl(t){dr===null?dr=[t]:dr.push(t)}var Ac=De.ReactCurrentBatchConfig;function Ys(t,i,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(x(309));var c=a.stateNode}if(!c)throw Error(x(147,t));var h=c,g=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(E){var _=h.refs;E===null?delete _[g]:_[g]=E},i._stringRef=g,i)}if(typeof t!="string")throw Error(x(284));if(!a._owner)throw Error(x(290,t))}return t}function Fo(t,i){throw t=Object.prototype.toString.call(i),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Eu(t){var i=t._init;return i(t._payload)}function Cu(t){function i(L,b){if(t){var F=L.deletions;F===null?(L.deletions=[b],L.flags|=16):F.push(b)}}function a(L,b){if(!t)return null;for(;b!==null;)i(L,b),b=b.sibling;return null}function c(L,b){for(L=new Map;b!==null;)b.key!==null?L.set(b.key,b):L.set(b.index,b),b=b.sibling;return L}function h(L,b){return L=xi(L,b),L.index=0,L.sibling=null,L}function g(L,b,F){return L.index=F,t?(F=L.alternate,F!==null?(F=F.index,F<b?(L.flags|=2,b):F):(L.flags|=2,b)):(L.flags|=1048576,b)}function E(L){return t&&L.alternate===null&&(L.flags|=2),L}function _(L,b,F,ie){return b===null||b.tag!==6?(b=Pa(F,L.mode,ie),b.return=L,b):(b=h(b,F),b.return=L,b)}function D(L,b,F,ie){var Ee=F.type;return Ee===$?J(L,b,F.props.children,ie,F.key):b!==null&&(b.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===et&&Eu(Ee)===b.type)?(ie=h(b,F.props),ie.ref=Ys(L,b,F),ie.return=L,ie):(ie=al(F.type,F.key,F.props,null,L.mode,ie),ie.ref=Ys(L,b,F),ie.return=L,ie)}function z(L,b,F,ie){return b===null||b.tag!==4||b.stateNode.containerInfo!==F.containerInfo||b.stateNode.implementation!==F.implementation?(b=La(F,L.mode,ie),b.return=L,b):(b=h(b,F.children||[]),b.return=L,b)}function J(L,b,F,ie,Ee){return b===null||b.tag!==7?(b=Hi(F,L.mode,ie,Ee),b.return=L,b):(b=h(b,F),b.return=L,b)}function ee(L,b,F){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Pa(""+b,L.mode,F),b.return=L,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ht:return F=al(b.type,b.key,b.props,null,L.mode,F),F.ref=Ys(L,null,b),F.return=L,F;case Fe:return b=La(b,L.mode,F),b.return=L,b;case et:var ie=b._init;return ee(L,ie(b._payload),F)}if(mr(b)||Ce(b))return b=Hi(b,L.mode,F,null),b.return=L,b;Fo(L,b)}return null}function Q(L,b,F,ie){var Ee=b!==null?b.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return Ee!==null?null:_(L,b,""+F,ie);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ht:return F.key===Ee?D(L,b,F,ie):null;case Fe:return F.key===Ee?z(L,b,F,ie):null;case et:return Ee=F._init,Q(L,b,Ee(F._payload),ie)}if(mr(F)||Ce(F))return Ee!==null?null:J(L,b,F,ie,null);Fo(L,F)}return null}function ce(L,b,F,ie,Ee){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return L=L.get(F)||null,_(b,L,""+ie,Ee);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case Ht:return L=L.get(ie.key===null?F:ie.key)||null,D(b,L,ie,Ee);case Fe:return L=L.get(ie.key===null?F:ie.key)||null,z(b,L,ie,Ee);case et:var _e=ie._init;return ce(L,b,F,_e(ie._payload),Ee)}if(mr(ie)||Ce(ie))return L=L.get(F)||null,J(b,L,ie,Ee,null);Fo(b,ie)}return null}function ge(L,b,F,ie){for(var Ee=null,_e=null,Ne=b,ke=b=0,ln=null;Ne!==null&&ke<F.length;ke++){Ne.index>ke?(ln=Ne,Ne=null):ln=Ne.sibling;var rt=Q(L,Ne,F[ke],ie);if(rt===null){Ne===null&&(Ne=ln);break}t&&Ne&&rt.alternate===null&&i(L,Ne),b=g(rt,b,ke),_e===null?Ee=rt:_e.sibling=rt,_e=rt,Ne=ln}if(ke===F.length)return a(L,Ne),Tt&&ki(L,ke),Ee;if(Ne===null){for(;ke<F.length;ke++)Ne=ee(L,F[ke],ie),Ne!==null&&(b=g(Ne,b,ke),_e===null?Ee=Ne:_e.sibling=Ne,_e=Ne);return Tt&&ki(L,ke),Ee}for(Ne=c(L,Ne);ke<F.length;ke++)ln=ce(Ne,L,ke,F[ke],ie),ln!==null&&(t&&ln.alternate!==null&&Ne.delete(ln.key===null?ke:ln.key),b=g(ln,b,ke),_e===null?Ee=ln:_e.sibling=ln,_e=ln);return t&&Ne.forEach(function(pi){return i(L,pi)}),Tt&&ki(L,ke),Ee}function pe(L,b,F,ie){var Ee=Ce(F);if(typeof Ee!="function")throw Error(x(150));if(F=Ee.call(F),F==null)throw Error(x(151));for(var _e=Ee=null,Ne=b,ke=b=0,ln=null,rt=F.next();Ne!==null&&!rt.done;ke++,rt=F.next()){Ne.index>ke?(ln=Ne,Ne=null):ln=Ne.sibling;var pi=Q(L,Ne,rt.value,ie);if(pi===null){Ne===null&&(Ne=ln);break}t&&Ne&&pi.alternate===null&&i(L,Ne),b=g(pi,b,ke),_e===null?Ee=pi:_e.sibling=pi,_e=pi,Ne=ln}if(rt.done)return a(L,Ne),Tt&&ki(L,ke),Ee;if(Ne===null){for(;!rt.done;ke++,rt=F.next())rt=ee(L,rt.value,ie),rt!==null&&(b=g(rt,b,ke),_e===null?Ee=rt:_e.sibling=rt,_e=rt);return Tt&&ki(L,ke),Ee}for(Ne=c(L,Ne);!rt.done;ke++,rt=F.next())rt=ce(Ne,L,ke,rt.value,ie),rt!==null&&(t&&rt.alternate!==null&&Ne.delete(rt.key===null?ke:rt.key),b=g(rt,b,ke),_e===null?Ee=rt:_e.sibling=rt,_e=rt);return t&&Ne.forEach(function(e0){return i(L,e0)}),Tt&&ki(L,ke),Ee}function zt(L,b,F,ie){if(typeof F=="object"&&F!==null&&F.type===$&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Ht:e:{for(var Ee=F.key,_e=b;_e!==null;){if(_e.key===Ee){if(Ee=F.type,Ee===$){if(_e.tag===7){a(L,_e.sibling),b=h(_e,F.props.children),b.return=L,L=b;break e}}else if(_e.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===et&&Eu(Ee)===_e.type){a(L,_e.sibling),b=h(_e,F.props),b.ref=Ys(L,_e,F),b.return=L,L=b;break e}a(L,_e);break}else i(L,_e);_e=_e.sibling}F.type===$?(b=Hi(F.props.children,L.mode,ie,F.key),b.return=L,L=b):(ie=al(F.type,F.key,F.props,null,L.mode,ie),ie.ref=Ys(L,b,F),ie.return=L,L=ie)}return E(L);case Fe:e:{for(_e=F.key;b!==null;){if(b.key===_e)if(b.tag===4&&b.stateNode.containerInfo===F.containerInfo&&b.stateNode.implementation===F.implementation){a(L,b.sibling),b=h(b,F.children||[]),b.return=L,L=b;break e}else{a(L,b);break}else i(L,b);b=b.sibling}b=La(F,L.mode,ie),b.return=L,L=b}return E(L);case et:return _e=F._init,zt(L,b,_e(F._payload),ie)}if(mr(F))return ge(L,b,F,ie);if(Ce(F))return pe(L,b,F,ie);Fo(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,b!==null&&b.tag===6?(a(L,b.sibling),b=h(b,F),b.return=L,L=b):(a(L,b),b=Pa(F,L.mode,ie),b.return=L,L=b),E(L)):a(L,b)}return zt}var us=Cu(!0),yu=Cu(!1),Uo=si(null),Vo=null,cs=null,jl=null;function Yl(){jl=cs=Vo=null}function Zl(t){var i=Uo.current;St(Uo),t._currentValue=i}function Kl(t,i,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===a)break;t=t.return}}function fs(t,i){Vo=t,jl=cs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&i&&(Mn=!0),t.firstContext=null)}function rr(t){var i=t._currentValue;if(jl!==t)if(t={context:t,memoizedValue:i,next:null},cs===null){if(Vo===null)throw Error(x(308));cs=t,Vo.dependencies={lanes:0,firstContext:t}}else cs=cs.next=t;return i}var Bi=null;function Ql(t){Bi===null?Bi=[t]:Bi.push(t)}function Au(t,i,a,c){var h=i.interleaved;return h===null?(a.next=a,Ql(i)):(a.next=h.next,h.next=a),i.interleaved=a,Fr(t,c)}function Fr(t,i){t.lanes|=i;var a=t.alternate;for(a!==null&&(a.lanes|=i),a=t,t=t.return;t!==null;)t.childLanes|=i,a=t.alternate,a!==null&&(a.childLanes|=i),a=t,t=t.return;return a.tag===3?a.stateNode:null}var ai=!1;function ql(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Su(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function ui(t,i,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,nt&2){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,Fr(t,a)}return h=c.interleaved,h===null?(i.next=i,Ql(c)):(i.next=h.next,h.next=i),c.interleaved=i,Fr(t,a)}function zo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,bt(t,a)}}function Iu(t,i){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?h=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?h=g=i:g=g.next=i}else h=g=i;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}function Ho(t,i,a,c){var h=t.updateQueue;ai=!1;var g=h.firstBaseUpdate,E=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var D=_,z=D.next;D.next=null,E===null?g=z:E.next=z,E=D;var J=t.alternate;J!==null&&(J=J.updateQueue,_=J.lastBaseUpdate,_!==E&&(_===null?J.firstBaseUpdate=z:_.next=z,J.lastBaseUpdate=D))}if(g!==null){var ee=h.baseState;E=0,J=z=D=null,_=g;do{var Q=_.lane,ce=_.eventTime;if((c&Q)===Q){J!==null&&(J=J.next={eventTime:ce,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var ge=t,pe=_;switch(Q=i,ce=a,pe.tag){case 1:if(ge=pe.payload,typeof ge=="function"){ee=ge.call(ce,ee,Q);break e}ee=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=pe.payload,Q=typeof ge=="function"?ge.call(ce,ee,Q):ge,Q==null)break e;ee=ae({},ee,Q);break e;case 2:ai=!0}}_.callback!==null&&_.lane!==0&&(t.flags|=64,Q=h.effects,Q===null?h.effects=[_]:Q.push(_))}else ce={eventTime:ce,lane:Q,tag:_.tag,payload:_.payload,callback:_.callback,next:null},J===null?(z=J=ce,D=ee):J=J.next=ce,E|=Q;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;Q=_,_=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);if(J===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=z,h.lastBaseUpdate=J,i=h.shared.interleaved,i!==null){h=i;do E|=h.lane,h=h.next;while(h!==i)}else g===null&&(h.shared.lanes=0);Fi|=E,t.lanes=E,t.memoizedState=ee}}function vu(t,i,a){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var c=t[i],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(x(191,h));h.call(c)}}}var Zs={},vr=si(Zs),Ks=si(Zs),Qs=si(Zs);function Pi(t){if(t===Zs)throw Error(x(174));return t}function Jl(t,i){switch(yt(Qs,i),yt(Ks,t),yt(vr,Zs),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Gi(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=Gi(i,t)}St(vr),yt(vr,i)}function ds(){St(vr),St(Ks),St(Qs)}function Tu(t){Pi(Qs.current);var i=Pi(vr.current),a=Gi(i,t.type);i!==a&&(yt(Ks,t),yt(vr,a))}function $l(t){Ks.current===t&&(St(vr),St(Ks))}var Rt=si(0);function Wo(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ea=[];function ta(){for(var t=0;t<ea.length;t++)ea[t]._workInProgressVersionPrimary=null;ea.length=0}var Go=De.ReactCurrentDispatcher,na=De.ReactCurrentBatchConfig,Li=0,Ot=null,Jt=null,sn=null,Xo=!1,qs=!1,Js=0,Sc=0;function Cn(){throw Error(x(321))}function ra(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!k(t[a],i[a]))return!1;return!0}function ia(t,i,a,c,h,g){if(Li=g,Ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Go.current=t===null||t.memoizedState===null?_c:Nc,t=a(c,h),qs){g=0;do{if(qs=!1,Js=0,25<=g)throw Error(x(301));g+=1,sn=Jt=null,i.updateQueue=null,Go.current=Rc,t=a(c,h)}while(qs)}if(Go.current=Zo,i=Jt!==null&&Jt.next!==null,Li=0,sn=Jt=Ot=null,Xo=!1,i)throw Error(x(300));return t}function sa(){var t=Js!==0;return Js=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Ot.memoizedState=sn=t:sn=sn.next=t,sn}function ir(){if(Jt===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var i=sn===null?Ot.memoizedState:sn.next;if(i!==null)sn=i,Jt=t;else{if(t===null)throw Error(x(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},sn===null?Ot.memoizedState=sn=t:sn=sn.next=t}return sn}function $s(t,i){return typeof i=="function"?i(t):i}function oa(t){var i=ir(),a=i.queue;if(a===null)throw Error(x(311));a.lastRenderedReducer=t;var c=Jt,h=c.baseQueue,g=a.pending;if(g!==null){if(h!==null){var E=h.next;h.next=g.next,g.next=E}c.baseQueue=h=g,a.pending=null}if(h!==null){g=h.next,c=c.baseState;var _=E=null,D=null,z=g;do{var J=z.lane;if((Li&J)===J)D!==null&&(D=D.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:t(c,z.action);else{var ee={lane:J,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};D===null?(_=D=ee,E=c):D=D.next=ee,Ot.lanes|=J,Fi|=J}z=z.next}while(z!==null&&z!==g);D===null?E=c:D.next=_,k(c,i.memoizedState)||(Mn=!0),i.memoizedState=c,i.baseState=E,i.baseQueue=D,a.lastRenderedState=c}if(t=a.interleaved,t!==null){h=t;do g=h.lane,Ot.lanes|=g,Fi|=g,h=h.next;while(h!==t)}else h===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function la(t){var i=ir(),a=i.queue;if(a===null)throw Error(x(311));a.lastRenderedReducer=t;var c=a.dispatch,h=a.pending,g=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do g=t(g,E.action),E=E.next;while(E!==h);k(g,i.memoizedState)||(Mn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function _u(){}function Nu(t,i){var a=Ot,c=ir(),h=i(),g=!k(c.memoizedState,h);if(g&&(c.memoizedState=h,Mn=!0),c=c.queue,aa(Du.bind(null,a,c,t),[t]),c.getSnapshot!==i||g||sn!==null&&sn.memoizedState.tag&1){if(a.flags|=2048,eo(9,Ou.bind(null,a,c,h,i),void 0,null),on===null)throw Error(x(349));Li&30||Ru(a,i,h)}return h}function Ru(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ot.updateQueue,i===null?(i={lastEffect:null,stores:null},Ot.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ou(t,i,a,c){i.value=a,i.getSnapshot=c,Mu(i)&&bu(t)}function Du(t,i,a){return a(function(){Mu(i)&&bu(t)})}function Mu(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!k(t,a)}catch{return!0}}function bu(t){var i=Fr(t,1);i!==null&&pr(i,t,1,-1)}function ku(t){var i=Tr();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:t},i.queue=t,t=t.dispatch=Tc.bind(null,Ot,t),[i.memoizedState,t]}function eo(t,i,a,c){return t={tag:t,create:i,destroy:a,deps:c,next:null},i=Ot.updateQueue,i===null?(i={lastEffect:null,stores:null},Ot.updateQueue=i,i.lastEffect=t.next=t):(a=i.lastEffect,a===null?i.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,i.lastEffect=t)),t}function Bu(){return ir().memoizedState}function jo(t,i,a,c){var h=Tr();Ot.flags|=t,h.memoizedState=eo(1|i,a,void 0,c===void 0?null:c)}function Yo(t,i,a,c){var h=ir();c=c===void 0?null:c;var g=void 0;if(Jt!==null){var E=Jt.memoizedState;if(g=E.destroy,c!==null&&ra(c,E.deps)){h.memoizedState=eo(i,a,g,c);return}}Ot.flags|=t,h.memoizedState=eo(1|i,a,g,c)}function Pu(t,i){return jo(8390656,8,t,i)}function aa(t,i){return Yo(2048,8,t,i)}function Lu(t,i){return Yo(4,2,t,i)}function Fu(t,i){return Yo(4,4,t,i)}function Uu(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Vu(t,i,a){return a=a!=null?a.concat([t]):null,Yo(4,4,Uu.bind(null,i,t),a)}function ua(){}function zu(t,i){var a=ir();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&ra(i,c[1])?c[0]:(a.memoizedState=[t,i],t)}function Hu(t,i){var a=ir();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&ra(i,c[1])?c[0]:(t=t(),a.memoizedState=[t,i],t)}function Wu(t,i,a){return Li&21?(k(a,i)||(a=Zt(),Ot.lanes|=a,Fi|=a,t.baseState=!0),i):(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=a)}function Ic(t,i){var a=He;He=a!==0&&4>a?a:4,t(!0);var c=na.transition;na.transition={};try{t(!1),i()}finally{He=a,na.transition=c}}function Gu(){return ir().memoizedState}function vc(t,i,a){var c=hi(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(t))ju(i,a);else if(a=Au(t,i,a,c),a!==null){var h=vn();pr(a,t,c,h),Yu(a,i,c)}}function Tc(t,i,a){var c=hi(t),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))ju(i,h);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,_=g(E,a);if(h.hasEagerState=!0,h.eagerState=_,k(_,E)){var D=i.interleaved;D===null?(h.next=h,Ql(i)):(h.next=D.next,D.next=h),i.interleaved=h;return}}catch{}finally{}a=Au(t,i,h,c),a!==null&&(h=vn(),pr(a,t,c,h),Yu(a,i,c))}}function Xu(t){var i=t.alternate;return t===Ot||i!==null&&i===Ot}function ju(t,i){qs=Xo=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Yu(t,i,a){if(a&4194240){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,bt(t,a)}}var Zo={readContext:rr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},_c={readContext:rr,useCallback:function(t,i){return Tr().memoizedState=[t,i===void 0?null:i],t},useContext:rr,useEffect:Pu,useImperativeHandle:function(t,i,a){return a=a!=null?a.concat([t]):null,jo(4194308,4,Uu.bind(null,i,t),a)},useLayoutEffect:function(t,i){return jo(4194308,4,t,i)},useInsertionEffect:function(t,i){return jo(4,2,t,i)},useMemo:function(t,i){var a=Tr();return i=i===void 0?null:i,t=t(),a.memoizedState=[t,i],t},useReducer:function(t,i,a){var c=Tr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},c.queue=t,t=t.dispatch=vc.bind(null,Ot,t),[c.memoizedState,t]},useRef:function(t){var i=Tr();return t={current:t},i.memoizedState=t},useState:ku,useDebugValue:ua,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=ku(!1),i=t[0];return t=Ic.bind(null,t[1]),Tr().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,a){var c=Ot,h=Tr();if(Tt){if(a===void 0)throw Error(x(407));a=a()}else{if(a=i(),on===null)throw Error(x(349));Li&30||Ru(c,i,a)}h.memoizedState=a;var g={value:a,getSnapshot:i};return h.queue=g,Pu(Du.bind(null,c,g,t),[t]),c.flags|=2048,eo(9,Ou.bind(null,c,g,a,i),void 0,null),a},useId:function(){var t=Tr(),i=on.identifierPrefix;if(Tt){var a=Lr,c=Pr;a=(c&~(1<<32-Sn(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=Js++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Sc++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},Nc={readContext:rr,useCallback:zu,useContext:rr,useEffect:aa,useImperativeHandle:Vu,useInsertionEffect:Lu,useLayoutEffect:Fu,useMemo:Hu,useReducer:oa,useRef:Bu,useState:function(){return oa($s)},useDebugValue:ua,useDeferredValue:function(t){var i=ir();return Wu(i,Jt.memoizedState,t)},useTransition:function(){var t=oa($s)[0],i=ir().memoizedState;return[t,i]},useMutableSource:_u,useSyncExternalStore:Nu,useId:Gu,unstable_isNewReconciler:!1},Rc={readContext:rr,useCallback:zu,useContext:rr,useEffect:aa,useImperativeHandle:Vu,useInsertionEffect:Lu,useLayoutEffect:Fu,useMemo:Hu,useReducer:la,useRef:Bu,useState:function(){return la($s)},useDebugValue:ua,useDeferredValue:function(t){var i=ir();return Jt===null?i.memoizedState=t:Wu(i,Jt.memoizedState,t)},useTransition:function(){var t=la($s)[0],i=ir().memoizedState;return[t,i]},useMutableSource:_u,useSyncExternalStore:Nu,useId:Gu,unstable_isNewReconciler:!1};function hr(t,i){if(t&&t.defaultProps){i=ae({},i),t=t.defaultProps;for(var a in t)i[a]===void 0&&(i[a]=t[a]);return i}return i}function ca(t,i,a,c){i=t.memoizedState,a=a(c,i),a=a==null?i:ae({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ko={isMounted:function(t){return(t=t._reactInternals)?Rn(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var c=vn(),h=hi(t),g=Ur(c,h);g.payload=i,a!=null&&(g.callback=a),i=ui(t,g,h),i!==null&&(pr(i,t,h,c),zo(i,t,h))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var c=vn(),h=hi(t),g=Ur(c,h);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=ui(t,g,h),i!==null&&(pr(i,t,h,c),zo(i,t,h))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=vn(),c=hi(t),h=Ur(a,c);h.tag=2,i!=null&&(h.callback=i),i=ui(t,h,c),i!==null&&(pr(i,t,c,a),zo(i,t,c))}};function Zu(t,i,a,c,h,g,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,E):i.prototype&&i.prototype.isPureReactComponent?!U(a,c)||!U(h,g):!0}function Ku(t,i,a){var c=!1,h=oi,g=i.contextType;return typeof g=="object"&&g!==null?g=rr(g):(h=Dn(i)?Mi:En.current,c=i.contextTypes,g=(c=c!=null)?ss(t,h):oi),i=new i(a,g),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ko,t.stateNode=i,i._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=g),i}function Qu(t,i,a,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==t&&Ko.enqueueReplaceState(i,i.state,null)}function fa(t,i,a,c){var h=t.stateNode;h.props=a,h.state=t.memoizedState,h.refs={},ql(t);var g=i.contextType;typeof g=="object"&&g!==null?h.context=rr(g):(g=Dn(i)?Mi:En.current,h.context=ss(t,g)),h.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ca(t,i,g,a),h.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(i=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),i!==h.state&&Ko.enqueueReplaceState(h,h.state,null),Ho(t,a,h,c),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function hs(t,i){try{var a="",c=i;do a+=Qe(c),c=c.return;while(c);var h=a}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:i,stack:h,digest:null}}function da(t,i,a){return{value:t,source:null,stack:a??null,digest:i??null}}function ha(t,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Oc=typeof WeakMap=="function"?WeakMap:Map;function qu(t,i,a){a=Ur(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){nl||(nl=!0,Na=c),ha(t,i)},a}function Ju(t,i,a){a=Ur(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var h=i.value;a.payload=function(){return c(h)},a.callback=function(){ha(t,i)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){ha(t,i),typeof c!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),a}function $u(t,i,a){var c=t.pingCache;if(c===null){c=t.pingCache=new Oc;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(a)||(h.add(a),t=Gc.bind(null,t,i,a),i.then(t,t))}function e1(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function t1(t,i,a,c,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===i?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Ur(-1,1),i.tag=2,ui(a,i,1))),a.lanes|=1),t)}var Dc=De.ReactCurrentOwner,Mn=!1;function In(t,i,a,c){i.child=t===null?yu(i,null,a,c):us(i,t.child,a,c)}function n1(t,i,a,c,h){a=a.render;var g=i.ref;return fs(i,h),c=ia(t,i,a,c,g,h),a=sa(),t!==null&&!Mn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~h,Vr(t,i,h)):(Tt&&a&&zl(i),i.flags|=1,In(t,i,c,h),i.child)}function r1(t,i,a,c,h){if(t===null){var g=a.type;return typeof g=="function"&&!Ba(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,i1(t,i,g,c,h)):(t=al(a.type,null,c,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!(t.lanes&h)){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:U,a(E,c)&&t.ref===i.ref)return Vr(t,i,h)}return i.flags|=1,t=xi(g,c),t.ref=i.ref,t.return=i,i.child=t}function i1(t,i,a,c,h){if(t!==null){var g=t.memoizedProps;if(U(g,c)&&t.ref===i.ref)if(Mn=!1,i.pendingProps=c=g,(t.lanes&h)!==0)t.flags&131072&&(Mn=!0);else return i.lanes=t.lanes,Vr(t,i,h)}return ga(t,i,a,c,h)}function s1(t,i,a){var c=i.pendingProps,h=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(xs,Yn),Yn|=a;else{if(!(a&1073741824))return t=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,yt(xs,Yn),Yn|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,yt(xs,Yn),Yn|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,yt(xs,Yn),Yn|=c;return In(t,i,h,a),i.child}function o1(t,i){var a=i.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function ga(t,i,a,c,h){var g=Dn(a)?Mi:En.current;return g=ss(i,g),fs(i,h),a=ia(t,i,a,c,g,h),c=sa(),t!==null&&!Mn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~h,Vr(t,i,h)):(Tt&&c&&zl(i),i.flags|=1,In(t,i,a,h),i.child)}function l1(t,i,a,c,h){if(Dn(a)){var g=!0;bo(i)}else g=!1;if(fs(i,h),i.stateNode===null)qo(t,i),Ku(i,a,c),fa(i,a,c,h),c=!0;else if(t===null){var E=i.stateNode,_=i.memoizedProps;E.props=_;var D=E.context,z=a.contextType;typeof z=="object"&&z!==null?z=rr(z):(z=Dn(a)?Mi:En.current,z=ss(i,z));var J=a.getDerivedStateFromProps,ee=typeof J=="function"||typeof E.getSnapshotBeforeUpdate=="function";ee||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(_!==c||D!==z)&&Qu(i,E,c,z),ai=!1;var Q=i.memoizedState;E.state=Q,Ho(i,c,E,h),D=i.memoizedState,_!==c||Q!==D||On.current||ai?(typeof J=="function"&&(ca(i,a,J,c),D=i.memoizedState),(_=ai||Zu(i,a,_,c,Q,D,z))?(ee||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=D),E.props=c,E.state=D,E.context=z,c=_):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{E=i.stateNode,Su(t,i),_=i.memoizedProps,z=i.type===i.elementType?_:hr(i.type,_),E.props=z,ee=i.pendingProps,Q=E.context,D=a.contextType,typeof D=="object"&&D!==null?D=rr(D):(D=Dn(a)?Mi:En.current,D=ss(i,D));var ce=a.getDerivedStateFromProps;(J=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(_!==ee||Q!==D)&&Qu(i,E,c,D),ai=!1,Q=i.memoizedState,E.state=Q,Ho(i,c,E,h);var ge=i.memoizedState;_!==ee||Q!==ge||On.current||ai?(typeof ce=="function"&&(ca(i,a,ce,c),ge=i.memoizedState),(z=ai||Zu(i,a,z,c,Q,ge,D)||!1)?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,ge,D),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,ge,D)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ge),E.props=c,E.state=ge,E.context=D,c=z):(typeof E.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),c=!1)}return xa(t,i,a,c,g,h)}function xa(t,i,a,c,h,g){o1(t,i);var E=(i.flags&128)!==0;if(!c&&!E)return h&&du(i,a,!1),Vr(t,i,g);c=i.stateNode,Dc.current=i;var _=E&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,t!==null&&E?(i.child=us(i,t.child,null,g),i.child=us(i,null,_,g)):In(t,i,_,g),i.memoizedState=c.state,h&&du(i,a,!0),i.child}function a1(t){var i=t.stateNode;i.pendingContext?cu(t,i.pendingContext,i.pendingContext!==i.context):i.context&&cu(t,i.context,!1),Jl(t,i.containerInfo)}function u1(t,i,a,c,h){return as(),Xl(h),i.flags|=256,In(t,i,a,c),i.child}var pa={dehydrated:null,treeContext:null,retryLane:0};function wa(t){return{baseLanes:t,cachePool:null,transitions:null}}function c1(t,i,a){var c=i.pendingProps,h=Rt.current,g=!1,E=(i.flags&128)!==0,_;if((_=E)||(_=t!==null&&t.memoizedState===null?!1:(h&2)!==0),_?(g=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),yt(Rt,h&1),t===null)return Gl(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(i.mode&1?t.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(E=c.children,t=c.fallback,g?(c=i.mode,g=i.child,E={mode:"hidden",children:E},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=ul(E,c,0,null),t=Hi(t,c,a,null),g.return=i,t.return=i,g.sibling=t,i.child=g,i.child.memoizedState=wa(a),i.memoizedState=pa,t):ma(i,E));if(h=t.memoizedState,h!==null&&(_=h.dehydrated,_!==null))return Mc(t,i,E,c,_,h,a);if(g){g=c.fallback,E=i.mode,h=t.child,_=h.sibling;var D={mode:"hidden",children:c.children};return!(E&1)&&i.child!==h?(c=i.child,c.childLanes=0,c.pendingProps=D,i.deletions=null):(c=xi(h,D),c.subtreeFlags=h.subtreeFlags&14680064),_!==null?g=xi(_,g):(g=Hi(g,E,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,E=t.child.memoizedState,E=E===null?wa(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=t.childLanes&~a,i.memoizedState=pa,c}return g=t.child,t=g.sibling,c=xi(g,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,t!==null&&(a=i.deletions,a===null?(i.deletions=[t],i.flags|=16):a.push(t)),i.child=c,i.memoizedState=null,c}function ma(t,i){return i=ul({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Qo(t,i,a,c){return c!==null&&Xl(c),us(i,t.child,null,a),t=ma(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Mc(t,i,a,c,h,g,E){if(a)return i.flags&256?(i.flags&=-257,c=da(Error(x(422))),Qo(t,i,E,c)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(g=c.fallback,h=i.mode,c=ul({mode:"visible",children:c.children},h,0,null),g=Hi(g,h,E,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,i.mode&1&&us(i,t.child,null,E),i.child.memoizedState=wa(E),i.memoizedState=pa,g);if(!(i.mode&1))return Qo(t,i,E,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var _=c.dgst;return c=_,g=Error(x(419)),c=da(g,c,void 0),Qo(t,i,E,c)}if(_=(E&t.childLanes)!==0,Mn||_){if(c=on,c!==null){switch(E&-E){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|E)?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,Fr(t,h),pr(c,t,h,-1))}return ka(),c=da(Error(x(421))),Qo(t,i,E,c)}return h.data==="$?"?(i.flags|=128,i.child=t.child,i=Xc.bind(null,t),h._reactRetry=i,null):(t=g.treeContext,jn=ii(h.nextSibling),Xn=i,Tt=!0,dr=null,t!==null&&(tr[nr++]=Pr,tr[nr++]=Lr,tr[nr++]=bi,Pr=t.id,Lr=t.overflow,bi=i),i=ma(i,c.children),i.flags|=4096,i)}function f1(t,i,a){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Kl(t.return,i,a)}function Ea(t,i,a,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=h)}function d1(t,i,a){var c=i.pendingProps,h=c.revealOrder,g=c.tail;if(In(t,i,c.children,a),c=Rt.current,c&2)c=c&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f1(t,a,i);else if(t.tag===19)f1(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(yt(Rt,c),!(i.mode&1))i.memoizedState=null;else switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Wo(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ea(i,!1,h,a,g);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Wo(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ea(i,!0,a,null,g);break;case"together":Ea(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qo(t,i){!(i.mode&1)&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function Vr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fi|=i.lanes,!(a&i.childLanes))return null;if(t!==null&&i.child!==t.child)throw Error(x(153));if(i.child!==null){for(t=i.child,a=xi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=xi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function bc(t,i,a){switch(i.tag){case 3:a1(i),as();break;case 5:Tu(i);break;case 1:Dn(i.type)&&bo(i);break;case 4:Jl(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,h=i.memoizedProps.value;yt(Uo,c._currentValue),c._currentValue=h;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(yt(Rt,Rt.current&1),i.flags|=128,null):a&i.child.childLanes?c1(t,i,a):(yt(Rt,Rt.current&1),t=Vr(t,i,a),t!==null?t.sibling:null);yt(Rt,Rt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,t.flags&128){if(c)return d1(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),yt(Rt,Rt.current),c)break;return null;case 22:case 23:return i.lanes=0,s1(t,i,a)}return Vr(t,i,a)}var h1,Ca,g1,x1;h1=function(t,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ca=function(){},g1=function(t,i,a,c){var h=t.memoizedProps;if(h!==c){t=i.stateNode,Pi(vr.current);var g=null;switch(a){case"input":h=wr(t,h),c=wr(t,c),g=[];break;case"select":h=ae({},h,{value:void 0}),c=ae({},c,{value:void 0}),g=[];break;case"textarea":h=Gr(t,h),c=Gr(t,c),g=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Oo)}it(a,c);var E;a=null;for(z in h)if(!c.hasOwnProperty(z)&&h.hasOwnProperty(z)&&h[z]!=null)if(z==="style"){var _=h[z];for(E in _)_.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(R.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in c){var D=c[z];if(_=h!=null?h[z]:void 0,c.hasOwnProperty(z)&&D!==_&&(D!=null||_!=null))if(z==="style")if(_){for(E in _)!_.hasOwnProperty(E)||D&&D.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in D)D.hasOwnProperty(E)&&_[E]!==D[E]&&(a||(a={}),a[E]=D[E])}else a||(g||(g=[]),g.push(z,a)),a=D;else z==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,_=_?_.__html:void 0,D!=null&&_!==D&&(g=g||[]).push(z,D)):z==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(z,""+D):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(R.hasOwnProperty(z)?(D!=null&&z==="onScroll"&&At("scroll",t),g||_===D||(g=[])):(g=g||[]).push(z,D))}a&&(g=g||[]).push("style",a);var z=g;(i.updateQueue=z)&&(i.flags|=4)}},x1=function(t,i,a,c){a!==c&&(i.flags|=4)};function to(t,i){if(!Tt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function yn(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=a,i}function kc(t,i,a){var c=i.pendingProps;switch(Hl(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(i),null;case 1:return Dn(i.type)&&Mo(),yn(i),null;case 3:return c=i.stateNode,ds(),St(On),St(En),ta(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Lo(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,dr!==null&&(Da(dr),dr=null))),Ca(t,i),yn(i),null;case 5:$l(i);var h=Pi(Qs.current);if(a=i.type,t!==null&&i.stateNode!=null)g1(t,i,a,c,h),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(x(166));return yn(i),null}if(t=Pi(vr.current),Lo(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[Ir]=i,c[Xs]=g,t=(i.mode&1)!==0,a){case"dialog":At("cancel",c),At("close",c);break;case"iframe":case"object":case"embed":At("load",c);break;case"video":case"audio":for(h=0;h<Hs.length;h++)At(Hs[h],c);break;case"source":At("error",c);break;case"img":case"image":case"link":At("error",c),At("load",c);break;case"details":At("toggle",c);break;case"input":Pn(c,g),At("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},At("invalid",c);break;case"textarea":Cs(c,g),At("invalid",c)}it(a,g),h=null;for(var E in g)if(g.hasOwnProperty(E)){var _=g[E];E==="children"?typeof _=="string"?c.textContent!==_&&(g.suppressHydrationWarning!==!0&&Ro(c.textContent,_,t),h=["children",_]):typeof _=="number"&&c.textContent!==""+_&&(g.suppressHydrationWarning!==!0&&Ro(c.textContent,_,t),h=["children",""+_]):R.hasOwnProperty(E)&&_!=null&&E==="onScroll"&&At("scroll",c)}switch(a){case"input":jt(c),ft(c,g,!0);break;case"textarea":jt(c),Wi(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Oo)}c=h,i.updateQueue=c,c!==null&&(i.flags|=4)}else{E=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Tn(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=E.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=E.createElement(a,{is:c.is}):(t=E.createElement(a),a==="select"&&(E=t,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):t=E.createElementNS(t,a),t[Ir]=i,t[Xs]=c,h1(t,i,!1,!1),i.stateNode=t;e:{switch(E=wt(a,c),a){case"dialog":At("cancel",t),At("close",t),h=c;break;case"iframe":case"object":case"embed":At("load",t),h=c;break;case"video":case"audio":for(h=0;h<Hs.length;h++)At(Hs[h],t);h=c;break;case"source":At("error",t),h=c;break;case"img":case"image":case"link":At("error",t),At("load",t),h=c;break;case"details":At("toggle",t),h=c;break;case"input":Pn(t,c),h=wr(t,c),At("invalid",t);break;case"option":h=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},h=ae({},c,{value:void 0}),At("invalid",t);break;case"textarea":Cs(t,c),h=Gr(t,c),At("invalid",t);break;default:h=c}it(a,h),_=h;for(g in _)if(_.hasOwnProperty(g)){var D=_[g];g==="style"?oe(t,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&tn(t,D)):g==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&Xr(t,D):typeof D=="number"&&Xr(t,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(R.hasOwnProperty(g)?D!=null&&g==="onScroll"&&At("scroll",t):D!=null&&me(t,g,D,E))}switch(a){case"input":jt(t),ft(t,c,!1);break;case"textarea":jt(t),Wi(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Me(c.value));break;case"select":t.multiple=!!c.multiple,g=c.value,g!=null?fe(t,!!c.multiple,g,!1):c.defaultValue!=null&&fe(t,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Oo)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return yn(i),null;case 6:if(t&&i.stateNode!=null)x1(t,i,t.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(x(166));if(a=Pi(Qs.current),Pi(vr.current),Lo(i)){if(c=i.stateNode,a=i.memoizedProps,c[Ir]=i,(g=c.nodeValue!==a)&&(t=Xn,t!==null))switch(t.tag){case 3:Ro(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ro(c.nodeValue,a,(t.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Ir]=i,i.stateNode=c}return yn(i),null;case 13:if(St(Rt),c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tt&&jn!==null&&i.mode&1&&!(i.flags&128))mu(),as(),i.flags|=98560,g=!1;else if(g=Lo(i),c!==null&&c.dehydrated!==null){if(t===null){if(!g)throw Error(x(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(x(317));g[Ir]=i}else as(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;yn(i),g=!1}else dr!==null&&(Da(dr),dr=null),g=!0;if(!g)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(t===null||Rt.current&1?$t===0&&($t=3):ka())),i.updateQueue!==null&&(i.flags|=4),yn(i),null);case 4:return ds(),Ca(t,i),t===null&&Ws(i.stateNode.containerInfo),yn(i),null;case 10:return Zl(i.type._context),yn(i),null;case 17:return Dn(i.type)&&Mo(),yn(i),null;case 19:if(St(Rt),g=i.memoizedState,g===null)return yn(i),null;if(c=(i.flags&128)!==0,E=g.rendering,E===null)if(c)to(g,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(E=Wo(t),E!==null){for(i.flags|=128,to(g,!1),c=E.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,t=c,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,t=E.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return yt(Rt,Rt.current&1|2),i.child}t=t.sibling}g.tail!==null&&ut()>ps&&(i.flags|=128,c=!0,to(g,!1),i.lanes=4194304)}else{if(!c)if(t=Wo(E),t!==null){if(i.flags|=128,c=!0,a=t.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),to(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Tt)return yn(i),null}else 2*ut()-g.renderingStartTime>ps&&a!==1073741824&&(i.flags|=128,c=!0,to(g,!1),i.lanes=4194304);g.isBackwards?(E.sibling=i.child,i.child=E):(a=g.last,a!==null?a.sibling=E:i.child=E,g.last=E)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=ut(),i.sibling=null,a=Rt.current,yt(Rt,c?a&1|2:a&1),i):(yn(i),null);case 22:case 23:return ba(),c=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?Yn&1073741824&&(yn(i),i.subtreeFlags&6&&(i.flags|=8192)):yn(i),null;case 24:return null;case 25:return null}throw Error(x(156,i.tag))}function Bc(t,i){switch(Hl(i),i.tag){case 1:return Dn(i.type)&&Mo(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ds(),St(On),St(En),ta(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 5:return $l(i),null;case 13:if(St(Rt),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(x(340));as()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return St(Rt),null;case 4:return ds(),null;case 10:return Zl(i.type._context),null;case 22:case 23:return ba(),null;case 24:return null;default:return null}}var Jo=!1,An=!1,Pc=typeof WeakSet=="function"?WeakSet:Set,he=null;function gs(t,i){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Bt(t,i,c)}else a.current=null}function ya(t,i,a){try{a()}catch(c){Bt(t,i,c)}}var p1=!1;function Lc(t,i){if(bl=Ar,t=We(),Pe(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,_=-1,D=-1,z=0,J=0,ee=t,Q=null;t:for(;;){for(var ce;ee!==a||h!==0&&ee.nodeType!==3||(_=E+h),ee!==g||c!==0&&ee.nodeType!==3||(D=E+c),ee.nodeType===3&&(E+=ee.nodeValue.length),(ce=ee.firstChild)!==null;)Q=ee,ee=ce;for(;;){if(ee===t)break t;if(Q===a&&++z===h&&(_=E),Q===g&&++J===c&&(D=E),(ce=ee.nextSibling)!==null)break;ee=Q,Q=ee.parentNode}ee=ce}a=_===-1||D===-1?null:{start:_,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(kl={focusedElem:t,selectionRange:a},Ar=!1,he=i;he!==null;)if(i=he,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,he=t;else for(;he!==null;){i=he;try{var ge=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var pe=ge.memoizedProps,zt=ge.memoizedState,L=i.stateNode,b=L.getSnapshotBeforeUpdate(i.elementType===i.type?pe:hr(i.type,pe),zt);L.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var F=i.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(ie){Bt(i,i.return,ie)}if(t=i.sibling,t!==null){t.return=i.return,he=t;break}he=i.return}return ge=p1,p1=!1,ge}function no(t,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&t)===t){var g=h.destroy;h.destroy=void 0,g!==void 0&&ya(i,a,g)}h=h.next}while(h!==c)}}function $o(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Aa(t){var i=t.ref;if(i!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof i=="function"?i(t):i.current=t}}function w1(t){var i=t.alternate;i!==null&&(t.alternate=null,w1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Ir],delete i[Xs],delete i[Fl],delete i[Ec],delete i[Cc])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function m1(t){return t.tag===5||t.tag===3||t.tag===4}function E1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sa(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Oo));else if(c!==4&&(t=t.child,t!==null))for(Sa(t,i,a),t=t.sibling;t!==null;)Sa(t,i,a),t=t.sibling}function Ia(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Ia(t,i,a),t=t.sibling;t!==null;)Ia(t,i,a),t=t.sibling}var dn=null,gr=!1;function ci(t,i,a){for(a=a.child;a!==null;)C1(t,i,a),a=a.sibling}function C1(t,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount($e,a)}catch{}switch(a.tag){case 5:An||gs(a,i);case 6:var c=dn,h=gr;dn=null,ci(t,i,a),dn=c,gr=h,dn!==null&&(gr?(t=dn,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):dn.removeChild(a.stateNode));break;case 18:dn!==null&&(gr?(t=dn,a=a.stateNode,t.nodeType===8?Ll(t.parentNode,a):t.nodeType===1&&Ll(t,a),ur(t)):Ll(dn,a.stateNode));break;case 4:c=dn,h=gr,dn=a.stateNode.containerInfo,gr=!0,ci(t,i,a),dn=c,gr=h;break;case 0:case 11:case 14:case 15:if(!An&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var g=h,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&ya(a,i,E),h=h.next}while(h!==c)}ci(t,i,a);break;case 1:if(!An&&(gs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(_){Bt(a,i,_)}ci(t,i,a);break;case 21:ci(t,i,a);break;case 22:a.mode&1?(An=(c=An)||a.memoizedState!==null,ci(t,i,a),An=c):ci(t,i,a);break;default:ci(t,i,a)}}function y1(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new Pc),i.forEach(function(c){var h=jc.bind(null,t,c);a.has(c)||(a.add(c),c.then(h,h))})}}function xr(t,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var g=t,E=i,_=E;e:for(;_!==null;){switch(_.tag){case 5:dn=_.stateNode,gr=!1;break e;case 3:dn=_.stateNode.containerInfo,gr=!0;break e;case 4:dn=_.stateNode.containerInfo,gr=!0;break e}_=_.return}if(dn===null)throw Error(x(160));C1(g,E,h),dn=null,gr=!1;var D=h.alternate;D!==null&&(D.return=null),h.return=null}catch(z){Bt(h,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)A1(i,t),i=i.sibling}function A1(t,i){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(i,t),_r(t),c&4){try{no(3,t,t.return),$o(3,t)}catch(pe){Bt(t,t.return,pe)}try{no(5,t,t.return)}catch(pe){Bt(t,t.return,pe)}}break;case 1:xr(i,t),_r(t),c&512&&a!==null&&gs(a,a.return);break;case 5:if(xr(i,t),_r(t),c&512&&a!==null&&gs(a,a.return),t.flags&32){var h=t.stateNode;try{Xr(h,"")}catch(pe){Bt(t,t.return,pe)}}if(c&4&&(h=t.stateNode,h!=null)){var g=t.memoizedProps,E=a!==null?a.memoizedProps:g,_=t.type,D=t.updateQueue;if(t.updateQueue=null,D!==null)try{_==="input"&&g.type==="radio"&&g.name!=null&&Wr(h,g),wt(_,E);var z=wt(_,g);for(E=0;E<D.length;E+=2){var J=D[E],ee=D[E+1];J==="style"?oe(h,ee):J==="dangerouslySetInnerHTML"?tn(h,ee):J==="children"?Xr(h,ee):me(h,J,ee,z)}switch(_){case"input":Pt(h,g);break;case"textarea":Kn(h,g);break;case"select":var Q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var ce=g.value;ce!=null?fe(h,!!g.multiple,ce,!1):Q!==!!g.multiple&&(g.defaultValue!=null?fe(h,!!g.multiple,g.defaultValue,!0):fe(h,!!g.multiple,g.multiple?[]:"",!1))}h[Xs]=g}catch(pe){Bt(t,t.return,pe)}}break;case 6:if(xr(i,t),_r(t),c&4){if(t.stateNode===null)throw Error(x(162));h=t.stateNode,g=t.memoizedProps;try{h.nodeValue=g}catch(pe){Bt(t,t.return,pe)}}break;case 3:if(xr(i,t),_r(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{ur(i.containerInfo)}catch(pe){Bt(t,t.return,pe)}break;case 4:xr(i,t),_r(t);break;case 13:xr(i,t),_r(t),h=t.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(_a=ut())),c&4&&y1(t);break;case 22:if(J=a!==null&&a.memoizedState!==null,t.mode&1?(An=(z=An)||J,xr(i,t),An=z):xr(i,t),_r(t),c&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!J&&t.mode&1)for(he=t,J=t.child;J!==null;){for(ee=he=J;he!==null;){switch(Q=he,ce=Q.child,Q.tag){case 0:case 11:case 14:case 15:no(4,Q,Q.return);break;case 1:gs(Q,Q.return);var ge=Q.stateNode;if(typeof ge.componentWillUnmount=="function"){c=Q,a=Q.return;try{i=c,ge.props=i.memoizedProps,ge.state=i.memoizedState,ge.componentWillUnmount()}catch(pe){Bt(c,a,pe)}}break;case 5:gs(Q,Q.return);break;case 22:if(Q.memoizedState!==null){v1(ee);continue}}ce!==null?(ce.return=Q,he=ce):v1(ee)}J=J.sibling}e:for(J=null,ee=t;;){if(ee.tag===5){if(J===null){J=ee;try{h=ee.stateNode,z?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(_=ee.stateNode,D=ee.memoizedProps.style,E=D!=null&&D.hasOwnProperty("display")?D.display:null,_.style.display=_t("display",E))}catch(pe){Bt(t,t.return,pe)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=z?"":ee.memoizedProps}catch(pe){Bt(t,t.return,pe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===t)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===t)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===t)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:xr(i,t),_r(t),c&4&&y1(t);break;case 21:break;default:xr(i,t),_r(t)}}function _r(t){var i=t.flags;if(i&2){try{e:{for(var a=t.return;a!==null;){if(m1(a)){var c=a;break e}a=a.return}throw Error(x(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Xr(h,""),c.flags&=-33);var g=E1(t);Ia(t,g,h);break;case 3:case 4:var E=c.stateNode.containerInfo,_=E1(t);Sa(t,_,E);break;default:throw Error(x(161))}}catch(D){Bt(t,t.return,D)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Fc(t,i,a){he=t,S1(t)}function S1(t,i,a){for(var c=(t.mode&1)!==0;he!==null;){var h=he,g=h.child;if(h.tag===22&&c){var E=h.memoizedState!==null||Jo;if(!E){var _=h.alternate,D=_!==null&&_.memoizedState!==null||An;_=Jo;var z=An;if(Jo=E,(An=D)&&!z)for(he=h;he!==null;)E=he,D=E.child,E.tag===22&&E.memoizedState!==null?T1(h):D!==null?(D.return=E,he=D):T1(h);for(;g!==null;)he=g,S1(g),g=g.sibling;he=h,Jo=_,An=z}I1(t)}else h.subtreeFlags&8772&&g!==null?(g.return=h,he=g):I1(t)}}function I1(t){for(;he!==null;){var i=he;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:An||$o(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!An)if(a===null)c.componentDidMount();else{var h=i.elementType===i.type?a.memoizedProps:hr(i.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&vu(i,g,c);break;case 3:var E=i.updateQueue;if(E!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}vu(i,E,a)}break;case 5:var _=i.stateNode;if(a===null&&i.flags&4){a=_;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var J=z.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&ur(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}An||i.flags&512&&Aa(i)}catch(Q){Bt(i,i.return,Q)}}if(i===t){he=null;break}if(a=i.sibling,a!==null){a.return=i.return,he=a;break}he=i.return}}function v1(t){for(;he!==null;){var i=he;if(i===t){he=null;break}var a=i.sibling;if(a!==null){a.return=i.return,he=a;break}he=i.return}}function T1(t){for(;he!==null;){var i=he;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{$o(4,i)}catch(D){Bt(i,a,D)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var h=i.return;try{c.componentDidMount()}catch(D){Bt(i,h,D)}}var g=i.return;try{Aa(i)}catch(D){Bt(i,g,D)}break;case 5:var E=i.return;try{Aa(i)}catch(D){Bt(i,E,D)}}}catch(D){Bt(i,i.return,D)}if(i===t){he=null;break}var _=i.sibling;if(_!==null){_.return=i.return,he=_;break}he=i.return}}var Uc=Math.ceil,el=De.ReactCurrentDispatcher,va=De.ReactCurrentOwner,sr=De.ReactCurrentBatchConfig,nt=0,on=null,Gt=null,hn=0,Yn=0,xs=si(0),$t=0,ro=null,Fi=0,tl=0,Ta=0,io=null,bn=null,_a=0,ps=1/0,zr=null,nl=!1,Na=null,fi=null,rl=!1,di=null,il=0,so=0,Ra=null,sl=-1,ol=0;function vn(){return nt&6?ut():sl!==-1?sl:sl=ut()}function hi(t){return t.mode&1?nt&2&&hn!==0?hn&-hn:Ac.transition!==null?(ol===0&&(ol=Zt()),ol):(t=He,t!==0||(t=window.event,t=t===void 0?16:Ms(t.type)),t):1}function pr(t,i,a,c){if(50<so)throw so=0,Ra=null,Error(x(185));I(t,a,c),(!(nt&2)||t!==on)&&(t===on&&(!(nt&2)&&(tl|=a),$t===4&&gi(t,hn)),kn(t,c),a===1&&nt===0&&!(i.mode&1)&&(ps=ut()+500,ko&&li()))}function kn(t,i){var a=t.callbackNode;Zr(t,i);var c=zn(t,t===on?hn:0);if(c===0)a!==null&&nn(a),t.callbackNode=null,t.callbackPriority=0;else if(i=c&-c,t.callbackPriority!==i){if(a!=null&&nn(a),i===1)t.tag===0?yc(N1.bind(null,t)):hu(N1.bind(null,t)),wc(function(){!(nt&6)&&li()}),a=null;else{switch(xo(c)){case 1:a=Y;break;case 4:a=ho;break;case 16:a=xt;break;case 536870912:a=go;break;default:a=xt}a=P1(a,_1.bind(null,t))}t.callbackPriority=i,t.callbackNode=a}}function _1(t,i){if(sl=-1,ol=0,nt&6)throw Error(x(327));var a=t.callbackNode;if(ws()&&t.callbackNode!==a)return null;var c=zn(t,t===on?hn:0);if(c===0)return null;if(c&30||c&t.expiredLanes||i)i=ll(t,c);else{i=c;var h=nt;nt|=2;var g=O1();(on!==t||hn!==i)&&(zr=null,ps=ut()+500,Vi(t,i));do try{Hc();break}catch(_){R1(t,_)}while(!0);Yl(),el.current=g,nt=h,Gt!==null?i=0:(on=null,hn=0,i=$t)}if(i!==0){if(i===2&&(h=ct(t),h!==0&&(c=h,i=Oa(t,h))),i===1)throw a=ro,Vi(t,0),gi(t,c),kn(t,ut()),a;if(i===6)gi(t,c);else{if(h=t.current.alternate,!(c&30)&&!Vc(h)&&(i=ll(t,c),i===2&&(g=ct(t),g!==0&&(c=g,i=Oa(t,g))),i===1))throw a=ro,Vi(t,0),gi(t,c),kn(t,ut()),a;switch(t.finishedWork=h,t.finishedLanes=c,i){case 0:case 1:throw Error(x(345));case 2:zi(t,bn,zr);break;case 3:if(gi(t,c),(c&130023424)===c&&(i=_a+500-ut(),10<i)){if(zn(t,0)!==0)break;if(h=t.suspendedLanes,(h&c)!==c){vn(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Pl(zi.bind(null,t,bn,zr),i);break}zi(t,bn,zr);break;case 4:if(gi(t,c),(c&4194240)===c)break;for(i=t.eventTimes,h=-1;0<c;){var E=31-Sn(c);g=1<<E,E=i[E],E>h&&(h=E),c&=~g}if(c=h,c=ut()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Uc(c/1960))-c,10<c){t.timeoutHandle=Pl(zi.bind(null,t,bn,zr),c);break}zi(t,bn,zr);break;case 5:zi(t,bn,zr);break;default:throw Error(x(329))}}}return kn(t,ut()),t.callbackNode===a?_1.bind(null,t):null}function Oa(t,i){var a=io;return t.current.memoizedState.isDehydrated&&(Vi(t,i).flags|=256),t=ll(t,i),t!==2&&(i=bn,bn=a,i!==null&&Da(i)),t}function Da(t){bn===null?bn=t:bn.push.apply(bn,t)}function Vc(t){for(var i=t;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],g=h.getSnapshot;h=h.value;try{if(!k(g(),h))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function gi(t,i){for(i&=~Ta,i&=~tl,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var a=31-Sn(i),c=1<<a;t[a]=-1,i&=~c}}function N1(t){if(nt&6)throw Error(x(327));ws();var i=zn(t,0);if(!(i&1))return kn(t,ut()),null;var a=ll(t,i);if(t.tag!==0&&a===2){var c=ct(t);c!==0&&(i=c,a=Oa(t,c))}if(a===1)throw a=ro,Vi(t,0),gi(t,i),kn(t,ut()),a;if(a===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,zi(t,bn,zr),kn(t,ut()),null}function Ma(t,i){var a=nt;nt|=1;try{return t(i)}finally{nt=a,nt===0&&(ps=ut()+500,ko&&li())}}function Ui(t){di!==null&&di.tag===0&&!(nt&6)&&ws();var i=nt;nt|=1;var a=sr.transition,c=He;try{if(sr.transition=null,He=1,t)return t()}finally{He=c,sr.transition=a,nt=i,!(nt&6)&&li()}}function ba(){Yn=xs.current,St(xs)}function Vi(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,pc(a)),Gt!==null)for(a=Gt.return;a!==null;){var c=a;switch(Hl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Mo();break;case 3:ds(),St(On),St(En),ta();break;case 5:$l(c);break;case 4:ds();break;case 13:St(Rt);break;case 19:St(Rt);break;case 10:Zl(c.type._context);break;case 22:case 23:ba()}a=a.return}if(on=t,Gt=t=xi(t.current,null),hn=Yn=i,$t=0,ro=null,Ta=tl=Fi=0,bn=io=null,Bi!==null){for(i=0;i<Bi.length;i++)if(a=Bi[i],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,g=a.pending;if(g!==null){var E=g.next;g.next=h,c.next=E}a.pending=c}Bi=null}return t}function R1(t,i){do{var a=Gt;try{if(Yl(),Go.current=Zo,Xo){for(var c=Ot.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Xo=!1}if(Li=0,sn=Jt=Ot=null,qs=!1,Js=0,va.current=null,a===null||a.return===null){$t=1,ro=i,Gt=null;break}e:{var g=t,E=a.return,_=a,D=i;if(i=hn,_.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var z=D,J=_,ee=J.tag;if(!(J.mode&1)&&(ee===0||ee===11||ee===15)){var Q=J.alternate;Q?(J.updateQueue=Q.updateQueue,J.memoizedState=Q.memoizedState,J.lanes=Q.lanes):(J.updateQueue=null,J.memoizedState=null)}var ce=e1(E);if(ce!==null){ce.flags&=-257,t1(ce,E,_,g,i),ce.mode&1&&$u(g,z,i),i=ce,D=z;var ge=i.updateQueue;if(ge===null){var pe=new Set;pe.add(D),i.updateQueue=pe}else ge.add(D);break e}else{if(!(i&1)){$u(g,z,i),ka();break e}D=Error(x(426))}}else if(Tt&&_.mode&1){var zt=e1(E);if(zt!==null){!(zt.flags&65536)&&(zt.flags|=256),t1(zt,E,_,g,i),Xl(hs(D,_));break e}}g=D=hs(D,_),$t!==4&&($t=2),io===null?io=[g]:io.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var L=qu(g,D,i);Iu(g,L);break e;case 1:_=D;var b=g.type,F=g.stateNode;if(!(g.flags&128)&&(typeof b.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(fi===null||!fi.has(F)))){g.flags|=65536,i&=-i,g.lanes|=i;var ie=Ju(g,_,i);Iu(g,ie);break e}}g=g.return}while(g!==null)}M1(a)}catch(Ee){i=Ee,Gt===a&&a!==null&&(Gt=a=a.return);continue}break}while(!0)}function O1(){var t=el.current;return el.current=Zo,t===null?Zo:t}function ka(){($t===0||$t===3||$t===2)&&($t=4),on===null||!(Fi&268435455)&&!(tl&268435455)||gi(on,hn)}function ll(t,i){var a=nt;nt|=2;var c=O1();(on!==t||hn!==i)&&(zr=null,Vi(t,i));do try{zc();break}catch(h){R1(t,h)}while(!0);if(Yl(),nt=a,el.current=c,Gt!==null)throw Error(x(261));return on=null,hn=0,$t}function zc(){for(;Gt!==null;)D1(Gt)}function Hc(){for(;Gt!==null&&!mt();)D1(Gt)}function D1(t){var i=B1(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,i===null?M1(t):Gt=i,va.current=null}function M1(t){var i=t;do{var a=i.alternate;if(t=i.return,i.flags&32768){if(a=Bc(a,i),a!==null){a.flags&=32767,Gt=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Gt=null;return}}else if(a=kc(a,i,Yn),a!==null){Gt=a;return}if(i=i.sibling,i!==null){Gt=i;return}Gt=i=t}while(i!==null);$t===0&&($t=5)}function zi(t,i,a){var c=He,h=sr.transition;try{sr.transition=null,He=1,Wc(t,i,a,c)}finally{sr.transition=h,He=c}return null}function Wc(t,i,a,c){do ws();while(di!==null);if(nt&6)throw Error(x(327));a=t.finishedWork;var h=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var g=a.lanes|a.childLanes;if(ye(t,g),t===on&&(Gt=on=null,hn=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||rl||(rl=!0,P1(xt,function(){return ws(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=sr.transition,sr.transition=null;var E=He;He=1;var _=nt;nt|=4,va.current=null,Lc(t,a),A1(a,t),mn(kl),Ar=!!bl,kl=bl=null,t.current=a,Fc(a),fo(),nt=_,He=E,sr.transition=g}else t.current=a;if(rl&&(rl=!1,di=t,il=h),g=t.pendingLanes,g===0&&(fi=null),Ke(a.stateNode),kn(t,ut()),i!==null)for(c=t.onRecoverableError,a=0;a<i.length;a++)h=i[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(nl)throw nl=!1,t=Na,Na=null,t;return il&1&&t.tag!==0&&ws(),g=t.pendingLanes,g&1?t===Ra?so++:(so=0,Ra=t):so=0,li(),null}function ws(){if(di!==null){var t=xo(il),i=sr.transition,a=He;try{if(sr.transition=null,He=16>t?16:t,di===null)var c=!1;else{if(t=di,di=null,il=0,nt&6)throw Error(x(331));var h=nt;for(nt|=4,he=t.current;he!==null;){var g=he,E=g.child;if(he.flags&16){var _=g.deletions;if(_!==null){for(var D=0;D<_.length;D++){var z=_[D];for(he=z;he!==null;){var J=he;switch(J.tag){case 0:case 11:case 15:no(8,J,g)}var ee=J.child;if(ee!==null)ee.return=J,he=ee;else for(;he!==null;){J=he;var Q=J.sibling,ce=J.return;if(w1(J),J===z){he=null;break}if(Q!==null){Q.return=ce,he=Q;break}he=ce}}}var ge=g.alternate;if(ge!==null){var pe=ge.child;if(pe!==null){ge.child=null;do{var zt=pe.sibling;pe.sibling=null,pe=zt}while(pe!==null)}}he=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,he=E;else e:for(;he!==null;){if(g=he,g.flags&2048)switch(g.tag){case 0:case 11:case 15:no(9,g,g.return)}var L=g.sibling;if(L!==null){L.return=g.return,he=L;break e}he=g.return}}var b=t.current;for(he=b;he!==null;){E=he;var F=E.child;if(E.subtreeFlags&2064&&F!==null)F.return=E,he=F;else e:for(E=b;he!==null;){if(_=he,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:$o(9,_)}}catch(Ee){Bt(_,_.return,Ee)}if(_===E){he=null;break e}var ie=_.sibling;if(ie!==null){ie.return=_.return,he=ie;break e}he=_.return}}if(nt=h,li(),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot($e,t)}catch{}c=!0}return c}finally{He=a,sr.transition=i}}return!1}function b1(t,i,a){i=hs(a,i),i=qu(t,i,1),t=ui(t,i,1),i=vn(),t!==null&&(I(t,1,i),kn(t,i))}function Bt(t,i,a){if(t.tag===3)b1(t,t,a);else for(;i!==null;){if(i.tag===3){b1(i,t,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fi===null||!fi.has(c))){t=hs(a,t),t=Ju(i,t,1),i=ui(i,t,1),t=vn(),i!==null&&(I(i,1,t),kn(i,t));break}}i=i.return}}function Gc(t,i,a){var c=t.pingCache;c!==null&&c.delete(i),i=vn(),t.pingedLanes|=t.suspendedLanes&a,on===t&&(hn&a)===a&&($t===4||$t===3&&(hn&130023424)===hn&&500>ut()-_a?Vi(t,0):Ta|=a),kn(t,i)}function k1(t,i){i===0&&(t.mode&1?(i=Yi,Yi<<=1,!(Yi&130023424)&&(Yi=4194304)):i=1);var a=vn();t=Fr(t,i),t!==null&&(I(t,i,a),kn(t,a))}function Xc(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),k1(t,a)}function jc(t,i){var a=0;switch(t.tag){case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(x(314))}c!==null&&c.delete(i),k1(t,a)}var B1;B1=function(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps||On.current)Mn=!0;else{if(!(t.lanes&a)&&!(i.flags&128))return Mn=!1,bc(t,i,a);Mn=!!(t.flags&131072)}else Mn=!1,Tt&&i.flags&1048576&&gu(i,Po,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;qo(t,i),t=i.pendingProps;var h=ss(i,En.current);fs(i,a),h=ia(null,i,c,t,h,a);var g=sa();return i.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Dn(c)?(g=!0,bo(i)):g=!1,i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ql(i),h.updater=Ko,i.stateNode=h,h._reactInternals=i,fa(i,c,t,a),i=xa(null,i,c,!0,g,a)):(i.tag=0,Tt&&g&&zl(i),In(null,i,h,a),i=i.child),i;case 16:c=i.elementType;e:{switch(qo(t,i),t=i.pendingProps,h=c._init,c=h(c._payload),i.type=c,h=i.tag=Zc(c),t=hr(c,t),h){case 0:i=ga(null,i,c,t,a);break e;case 1:i=l1(null,i,c,t,a);break e;case 11:i=n1(null,i,c,t,a);break e;case 14:i=r1(null,i,c,hr(c.type,t),a);break e}throw Error(x(306,c,""))}return i;case 0:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:hr(c,h),ga(t,i,c,h,a);case 1:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:hr(c,h),l1(t,i,c,h,a);case 3:e:{if(a1(i),t===null)throw Error(x(387));c=i.pendingProps,g=i.memoizedState,h=g.element,Su(t,i),Ho(i,c,null,a);var E=i.memoizedState;if(c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){h=hs(Error(x(423)),i),i=u1(t,i,c,a,h);break e}else if(c!==h){h=hs(Error(x(424)),i),i=u1(t,i,c,a,h);break e}else for(jn=ii(i.stateNode.containerInfo.firstChild),Xn=i,Tt=!0,dr=null,a=yu(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(as(),c===h){i=Vr(t,i,a);break e}In(t,i,c,a)}i=i.child}return i;case 5:return Tu(i),t===null&&Gl(i),c=i.type,h=i.pendingProps,g=t!==null?t.memoizedProps:null,E=h.children,Bl(c,h)?E=null:g!==null&&Bl(c,g)&&(i.flags|=32),o1(t,i),In(t,i,E,a),i.child;case 6:return t===null&&Gl(i),null;case 13:return c1(t,i,a);case 4:return Jl(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=us(i,null,c,a):In(t,i,c,a),i.child;case 11:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:hr(c,h),n1(t,i,c,h,a);case 7:return In(t,i,i.pendingProps,a),i.child;case 8:return In(t,i,i.pendingProps.children,a),i.child;case 12:return In(t,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,h=i.pendingProps,g=i.memoizedProps,E=h.value,yt(Uo,c._currentValue),c._currentValue=E,g!==null)if(k(g.value,E)){if(g.children===h.children&&!On.current){i=Vr(t,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var _=g.dependencies;if(_!==null){E=g.child;for(var D=_.firstContext;D!==null;){if(D.context===c){if(g.tag===1){D=Ur(-1,a&-a),D.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var J=z.pending;J===null?D.next=D:(D.next=J.next,J.next=D),z.pending=D}}g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),Kl(g.return,a,i),_.lanes|=a;break}D=D.next}}else if(g.tag===10)E=g.type===i.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(x(341));E.lanes|=a,_=E.alternate,_!==null&&(_.lanes|=a),Kl(E,a,i),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}In(t,i,h.children,a),i=i.child}return i;case 9:return h=i.type,c=i.pendingProps.children,fs(i,a),h=rr(h),c=c(h),i.flags|=1,In(t,i,c,a),i.child;case 14:return c=i.type,h=hr(c,i.pendingProps),h=hr(c.type,h),r1(t,i,c,h,a);case 15:return i1(t,i,i.type,i.pendingProps,a);case 17:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:hr(c,h),qo(t,i),i.tag=1,Dn(c)?(t=!0,bo(i)):t=!1,fs(i,a),Ku(i,c,h),fa(i,c,h,a),xa(null,i,c,!0,t,a);case 19:return d1(t,i,a);case 22:return s1(t,i,a)}throw Error(x(156,i.tag))};function P1(t,i){return Un(t,i)}function Yc(t,i,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(t,i,a,c){return new Yc(t,i,a,c)}function Ba(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zc(t){if(typeof t=="function")return Ba(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ae)return 11;if(t===W)return 14}return 2}function xi(t,i){var a=t.alternate;return a===null?(a=or(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function al(t,i,a,c,h,g){var E=2;if(c=t,typeof t=="function")Ba(t)&&(E=1);else if(typeof t=="string")E=5;else e:switch(t){case $:return Hi(a.children,h,g,i);case Ue:E=8,h|=8;break;case ne:return t=or(12,a,i,h|2),t.elementType=ne,t.lanes=g,t;case Ve:return t=or(13,a,i,h),t.elementType=Ve,t.lanes=g,t;case ot:return t=or(19,a,i,h),t.elementType=ot,t.lanes=g,t;case xe:return ul(a,h,g,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gn:E=10;break e;case Mt:E=9;break e;case Ae:E=11;break e;case W:E=14;break e;case et:E=16,c=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return i=or(E,a,i,h),i.elementType=t,i.type=c,i.lanes=g,i}function Hi(t,i,a,c){return t=or(7,t,c,i),t.lanes=a,t}function ul(t,i,a,c){return t=or(22,t,c,i),t.elementType=xe,t.lanes=a,t.stateNode={isHidden:!1},t}function Pa(t,i,a){return t=or(6,t,null,i),t.lanes=a,t}function La(t,i,a){return i=or(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Kc(t,i,a,c,h){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=P(0),this.expirationTimes=P(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Fa(t,i,a,c,h,g,E,_,D){return t=new Kc(t,i,a,_,D),i===1?(i=1,g===!0&&(i|=8)):i=0,g=or(3,null,null,i),t.current=g,g.stateNode=t,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ql(g),t}function Qc(t,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fe,key:c==null?null:""+c,children:t,containerInfo:i,implementation:a}}function L1(t){if(!t)return oi;t=t._reactInternals;e:{if(Rn(t)!==t||t.tag!==1)throw Error(x(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Dn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(x(171))}if(t.tag===1){var a=t.type;if(Dn(a))return fu(t,a,i)}return i}function F1(t,i,a,c,h,g,E,_,D){return t=Fa(a,c,!0,t,h,g,E,_,D),t.context=L1(null),a=t.current,c=vn(),h=hi(a),g=Ur(c,h),g.callback=i??null,ui(a,g,h),t.current.lanes=h,I(t,h,c),kn(t,c),t}function cl(t,i,a,c){var h=i.current,g=vn(),E=hi(h);return a=L1(a),i.context===null?i.context=a:i.pendingContext=a,i=Ur(g,E),i.payload={element:t},c=c===void 0?null:c,c!==null&&(i.callback=c),t=ui(h,i,E),t!==null&&(pr(t,h,E,g),zo(t,h,E)),E}function fl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U1(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ua(t,i){U1(t,i),(t=t.alternate)&&U1(t,i)}var V1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Va(t){this._internalRoot=t}dl.prototype.render=Va.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(x(409));cl(t,i,null,null)},dl.prototype.unmount=Va.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ui(function(){cl(null,t,null,null)}),i[kr]=null}};function dl(t){this._internalRoot=t}dl.prototype.unstable_scheduleHydration=function(t){if(t){var i=Et();t={blockedOn:null,target:t,priority:i};for(var a=0;a<un.length&&i!==0&&i<un[a].priority;a++);un.splice(a,0,t),a===0&&wo(t)}};function za(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function z1(){}function qc(t,i,a,c,h){if(h){if(typeof c=="function"){var g=c;c=function(){var z=fl(E);g.call(z)}}var E=F1(i,c,t,0,null,!1,!1,"",z1);return t._reactRootContainer=E,t[kr]=E.current,Ws(t.nodeType===8?t.parentNode:t),Ui(),E}for(;h=t.lastChild;)t.removeChild(h);if(typeof c=="function"){var _=c;c=function(){var z=fl(D);_.call(z)}}var D=Fa(t,0,!1,null,null,!1,!1,"",z1);return t._reactRootContainer=D,t[kr]=D.current,Ws(t.nodeType===8?t.parentNode:t),Ui(function(){cl(i,D,a,c)}),D}function gl(t,i,a,c,h){var g=a._reactRootContainer;if(g){var E=g;if(typeof h=="function"){var _=h;h=function(){var D=fl(E);_.call(D)}}cl(i,E,t,h)}else E=qc(a,i,t,h,c);return fl(E)}Zi=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var a=pt(i.pendingLanes);a!==0&&(bt(i,a|1),kn(i,ut()),!(nt&6)&&(ps=ut()+500,li()))}break;case 13:Ui(function(){var c=Fr(t,1);if(c!==null){var h=vn();pr(c,t,1,h)}}),Ua(t,1)}},wn=function(t){if(t.tag===13){var i=Fr(t,134217728);if(i!==null){var a=vn();pr(i,t,134217728,a)}Ua(t,134217728)}},Se=function(t){if(t.tag===13){var i=hi(t),a=Fr(t,i);if(a!==null){var c=vn();pr(a,t,i,c)}Ua(t,i)}},Et=function(){return He},Rs=function(t,i){var a=He;try{return He=t,i()}finally{He=a}},Xi=function(t,i,a){switch(i){case"input":if(Pt(t,a),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==t&&c.form===t.form){var h=Do(c);if(!h)throw Error(x(90));wi(c),Pt(c,h)}}}break;case"textarea":Kn(t,a);break;case"select":i=a.value,i!=null&&fe(t,!!a.multiple,i,!1)}},ji=Ma,Yt=Ui;var Jc={usingClientEntryPoint:!1,Events:[js,rs,Do,As,Nn,Ma]},oo={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$c={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:De.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uo(t),t===null?null:t.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{$e=xl.inject($c),ze=xl}catch{}}return Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jc,Bn.createPortal=function(t,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!za(i))throw Error(x(200));return Qc(t,i,null,a)},Bn.createRoot=function(t,i){if(!za(t))throw Error(x(299));var a=!1,c="",h=V1;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),i=Fa(t,1,!1,null,null,a,!1,c,h),t[kr]=i.current,Ws(t.nodeType===8?t.parentNode:t),new Va(i)},Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=uo(i),t=t===null?null:t.stateNode,t},Bn.flushSync=function(t){return Ui(t)},Bn.hydrate=function(t,i,a){if(!hl(i))throw Error(x(200));return gl(null,t,i,!0,a)},Bn.hydrateRoot=function(t,i,a){if(!za(t))throw Error(x(405));var c=a!=null&&a.hydratedSources||null,h=!1,g="",E=V1;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),i=F1(i,null,t,1,a??null,h,!1,g,E),t[kr]=i.current,Ws(t),c)for(t=0;t<c.length;t++)a=c[t],h=a._getVersion,h=h(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,h]:i.mutableSourceEagerHydrationData.push(a,h);return new dl(i)},Bn.render=function(t,i,a){if(!hl(i))throw Error(x(200));return gl(null,t,i,!1,a)},Bn.unmountComponentAtNode=function(t){if(!hl(t))throw Error(x(40));return t._reactRootContainer?(Ui(function(){gl(null,null,t,!1,function(){t._reactRootContainer=null,t[kr]=null})}),!0):!1},Bn.unstable_batchedUpdates=Ma,Bn.unstable_renderSubtreeIntoContainer=function(t,i,a,c){if(!hl(a))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return gl(t,i,a,!1,c)},Bn.version="18.3.1-next-f1338f8080-20240426",Bn}var K1;function u0(){if(K1)return Ga.exports;K1=1;function A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A)}catch(C){console.error(C)}}return A(),Ga.exports=a0(),Ga.exports}var Q1;function c0(){if(Q1)return wl;Q1=1;var A=u0();return wl.createRoot=A.createRoot,wl.hydrateRoot=A.hydrateRoot,wl}var f0=c0(),de;(function(A){A[A.QR_CODE=0]="QR_CODE",A[A.AZTEC=1]="AZTEC",A[A.CODABAR=2]="CODABAR",A[A.CODE_39=3]="CODE_39",A[A.CODE_93=4]="CODE_93",A[A.CODE_128=5]="CODE_128",A[A.DATA_MATRIX=6]="DATA_MATRIX",A[A.MAXICODE=7]="MAXICODE",A[A.ITF=8]="ITF",A[A.EAN_13=9]="EAN_13",A[A.EAN_8=10]="EAN_8",A[A.PDF_417=11]="PDF_417",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(de||(de={}));var q1=new Map([[de.QR_CODE,"QR_CODE"],[de.AZTEC,"AZTEC"],[de.CODABAR,"CODABAR"],[de.CODE_39,"CODE_39"],[de.CODE_93,"CODE_93"],[de.CODE_128,"CODE_128"],[de.DATA_MATRIX,"DATA_MATRIX"],[de.MAXICODE,"MAXICODE"],[de.ITF,"ITF"],[de.EAN_13,"EAN_13"],[de.EAN_8,"EAN_8"],[de.PDF_417,"PDF_417"],[de.RSS_14,"RSS_14"],[de.RSS_EXPANDED,"RSS_EXPANDED"],[de.UPC_A,"UPC_A"],[de.UPC_E,"UPC_E"],[de.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),J1;(function(A){A[A.UNKNOWN=0]="UNKNOWN",A[A.URL=1]="URL"})(J1||(J1={}));function d0(A){return Object.values(de).includes(A)}var ml;(function(A){A[A.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",A[A.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ml||(ml={}));var h0=function(){function A(){}return A.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",A.SCAN_DEFAULT_FPS=2,A.DEFAULT_DISABLE_FLIP=!1,A.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,A.DEFAULT_SUPPORTED_SCAN_TYPE=[ml.SCAN_TYPE_CAMERA,ml.SCAN_TYPE_FILE],A}(),ac=function(){function A(C,x){this.format=C,this.formatName=x}return A.prototype.toString=function(){return this.formatName},A.create=function(C){if(!q1.has(C))throw"".concat(C," not in html5QrcodeSupportedFormatsTextMap");return new A(C,q1.get(C))},A}(),$1=function(){function A(){}return A.createFromText=function(C){var x={text:C};return{decodedText:C,result:x}},A.createFromQrcodeResult=function(C){return{decodedText:C.text,result:C}},A}(),Ya;(function(A){A[A.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",A[A.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",A[A.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ya||(Ya={}));var g0=function(){function A(){}return A.createFrom=function(C){return{errorMessage:C,type:Ya.UNKWOWN_ERROR}},A}(),x0=function(){function A(C){this.verbose=C}return A.prototype.log=function(C){this.verbose&&console.log(C)},A.prototype.warn=function(C){this.verbose&&console.warn(C)},A.prototype.logError=function(C,x){(this.verbose||x===!0)&&console.error(C)},A.prototype.logErrors=function(C){if(C.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(C)},A}();function Hr(A){return typeof A>"u"||A===null}var Es=function(){function A(){}return A.codeParseError=function(C){return"QR code parse error, error = ".concat(C)},A.errorGettingUserMedia=function(C){return"Error getting userMedia, error = ".concat(C)},A.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},A.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},A.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},A.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},A.scannerPaused=function(){return"Scanner paused"},A}(),uc=function(){function A(){}return A.isMediaStreamConstraintsValid=function(C,x){if(typeof C!="object"){var N=typeof C;return x.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(N,"."),!0),!1}for(var R=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],S=new Set(R),H=Object.keys(C),K=0,X=H;K<X.length;K++){var T=X[K];if(S.has(T))return x.logError("".concat(T," is not supported videoConstaints."),!0),!1}return!0},A}(),ao={exports:{}},p0=ao.exports,ec;function w0(){return ec||(ec=1,function(A,C){(function(x,N){N(C)})(p0,function(x){function N(w){return w==null}var R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,e){w.__proto__=e}||function(w,e){for(var n in e)e.hasOwnProperty(n)&&(w[n]=e[n])};function S(w,e){R(w,e);function n(){this.constructor=w}w.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function H(w,e){var n=Object.setPrototypeOf;n?n(w,e):w.__proto__=e}function K(w,e){e===void 0&&(e=w.constructor);var n=Error.captureStackTrace;n&&n(w,e)}var X=function(w){S(e,w);function e(n){var r=this.constructor,s=w.call(this,n)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),H(s,r.prototype),K(s),s}return e}(Error);class T extends X{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}T.kind="Exception";class Z extends T{}Z.kind="ArgumentException";class G extends T{}G.kind="IllegalArgumentException";class Ie{constructor(e){if(this.binarizer=e,e===null)throw new G("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,r,s){const o=this.binarizer.getLuminanceSource().crop(e,n,r,s);return new Ie(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new Ie(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new Ie(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class Oe extends T{static getChecksumInstance(){return new Oe}}Oe.kind="ChecksumException";class ht{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class we{static arraycopy(e,n,r,s,o){for(;o--;)r[s++]=e[n++]}static currentTimeMillis(){return Date.now()}}class Ge extends T{}Ge.kind="IndexOutOfBoundsException";class en extends Ge{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}en.kind="ArrayIndexOutOfBoundsException";class Ye{static fill(e,n){for(let r=0,s=e.length;r<s;r++)e[r]=n}static fillWithin(e,n,r,s){Ye.rangeCheck(e.length,n,r);for(let o=n;o<r;o++)e[o]=s}static rangeCheck(e,n,r){if(n>r)throw new G("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new en(n);if(r>e)throw new en(r)}static asList(...e){return e}static create(e,n,r){return Array.from({length:e}).map(o=>Array.from({length:n}).fill(r))}static createInt32Array(e,n,r){return Array.from({length:e}).map(o=>Int32Array.from({length:n}).fill(r))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let r=0,s=e.length;r<s;r++)if(e[r]!==n[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const r of e)n=31*n+r;return n}static fillUint8Array(e,n){for(let r=0;r!==e.length;r++)e[r]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)}static copyOfRange(e,n,r){const s=r-n,o=new Int32Array(s);return we.arraycopy(e,n,o,0,s),o}static binarySearch(e,n,r){r===void 0&&(r=Ye.numberComparator);let s=0,o=e.length-1;for(;s<=o;){const l=o+s>>1,u=r(n,e[l]);if(u>0)s=l+1;else if(u<0)o=l-1;else return l}return-s-1}static numberComparator(e,n){return e-n}}class me{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}me.MIN_VALUE_32_BITS=-2147483648,me.MAX_VALUE=Number.MAX_SAFE_INTEGER;class De{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=De.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=De.makeArray(e);we.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=r[s];o&=~((1<<(e&31))-1);const l=r.length;for(;o===0;){if(++s===l)return n;o=r[s]}const u=s*32+me.numberOfTrailingZeros(o);return u>n?n:u}getNextUnset(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=~r[s];o&=~((1<<(e&31))-1);const l=r.length;for(;o===0;){if(++s===l)return n;o=~r[s]}const u=s*32+me.numberOfTrailingZeros(o);return u>n?n:u}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new G;if(n===e)return;n--;const r=Math.floor(e/32),s=Math.floor(n/32),o=this.bits;for(let l=r;l<=s;l++){const u=l>r?0:e&31,d=(2<<(l<s?31:n&31))-(1<<u);o[l]|=d}}clear(){const e=this.bits.length,n=this.bits;for(let r=0;r<e;r++)n[r]=0}isRange(e,n,r){if(n<e||e<0||n>this.size)throw new G;if(n===e)return!0;n--;const s=Math.floor(e/32),o=Math.floor(n/32),l=this.bits;for(let u=s;u<=o;u++){const f=u>s?0:e&31,p=(2<<(u<o?31:n&31))-(1<<f)&4294967295;if((l[u]&p)!==(r?p:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new G("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let r=0;r<n;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new G("Sizes don't match");const n=this.bits;for(let r=0,s=n.length;r<s;r++)n[r]^=e.bits[r]}toBytes(e,n,r,s){for(let o=0;o<s;o++){let l=0;for(let u=0;u<8;u++)this.get(e)&&(l|=1<<7-u),e++;n[r+o]=l}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,s=this.bits;for(let o=0;o<r;o++){let l=s[o];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[n-o]=l}if(this.size!==r*32){const o=r*32-this.size;let l=e[0]>>>o;for(let u=1;u<r;u++){const f=e[u];l|=f<<32-o,e[u-1]=l,l=f>>>o}e[r-1]=l}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof De))return!1;const n=e;return this.size===n.size&&Ye.equals(this.bits,n.bits)}hashCode(){return 31*this.size+Ye.hashCode(this.bits)}toString(){let e="";for(let n=0,r=this.size;n<r;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new De(this.size,this.bits.slice())}}var Ht;(function(w){w[w.OTHER=0]="OTHER",w[w.PURE_BARCODE=1]="PURE_BARCODE",w[w.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",w[w.TRY_HARDER=3]="TRY_HARDER",w[w.CHARACTER_SET=4]="CHARACTER_SET",w[w.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",w[w.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",w[w.ASSUME_GS1=7]="ASSUME_GS1",w[w.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",w[w.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",w[w.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ht||(Ht={}));var Fe=Ht;class $ extends T{static getFormatInstance(){return new $}}$.kind="FormatException";var Ue;(function(w){w[w.Cp437=0]="Cp437",w[w.ISO8859_1=1]="ISO8859_1",w[w.ISO8859_2=2]="ISO8859_2",w[w.ISO8859_3=3]="ISO8859_3",w[w.ISO8859_4=4]="ISO8859_4",w[w.ISO8859_5=5]="ISO8859_5",w[w.ISO8859_6=6]="ISO8859_6",w[w.ISO8859_7=7]="ISO8859_7",w[w.ISO8859_8=8]="ISO8859_8",w[w.ISO8859_9=9]="ISO8859_9",w[w.ISO8859_10=10]="ISO8859_10",w[w.ISO8859_11=11]="ISO8859_11",w[w.ISO8859_13=12]="ISO8859_13",w[w.ISO8859_14=13]="ISO8859_14",w[w.ISO8859_15=14]="ISO8859_15",w[w.ISO8859_16=15]="ISO8859_16",w[w.SJIS=16]="SJIS",w[w.Cp1250=17]="Cp1250",w[w.Cp1251=18]="Cp1251",w[w.Cp1252=19]="Cp1252",w[w.Cp1256=20]="Cp1256",w[w.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",w[w.UTF8=22]="UTF8",w[w.ASCII=23]="ASCII",w[w.Big5=24]="Big5",w[w.GB18030=25]="GB18030",w[w.EUC_KR=26]="EUC_KR"})(Ue||(Ue={}));class ne{constructor(e,n,r,...s){this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=s,ne.VALUE_IDENTIFIER_TO_ECI.set(e,this),ne.NAME_TO_ECI.set(r,this);const o=this.values;for(let l=0,u=o.length;l!==u;l++){const f=o[l];ne.VALUES_TO_ECI.set(f,this)}for(const l of s)ne.NAME_TO_ECI.set(l,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new $("incorect value");const n=ne.VALUES_TO_ECI.get(e);if(n===void 0)throw new $("incorect value");return n}static getCharacterSetECIByName(e){const n=ne.NAME_TO_ECI.get(e);if(n===void 0)throw new $("incorect value");return n}equals(e){if(!(e instanceof ne))return!1;const n=e;return this.getName()===n.getName()}}ne.VALUE_IDENTIFIER_TO_ECI=new Map,ne.VALUES_TO_ECI=new Map,ne.NAME_TO_ECI=new Map,ne.Cp437=new ne(Ue.Cp437,Int32Array.from([0,2]),"Cp437"),ne.ISO8859_1=new ne(Ue.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ne.ISO8859_2=new ne(Ue.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ne.ISO8859_3=new ne(Ue.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ne.ISO8859_4=new ne(Ue.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ne.ISO8859_5=new ne(Ue.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ne.ISO8859_6=new ne(Ue.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ne.ISO8859_7=new ne(Ue.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ne.ISO8859_8=new ne(Ue.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ne.ISO8859_9=new ne(Ue.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ne.ISO8859_10=new ne(Ue.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ne.ISO8859_11=new ne(Ue.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ne.ISO8859_13=new ne(Ue.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ne.ISO8859_14=new ne(Ue.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ne.ISO8859_15=new ne(Ue.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ne.ISO8859_16=new ne(Ue.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ne.SJIS=new ne(Ue.SJIS,20,"SJIS","Shift_JIS"),ne.Cp1250=new ne(Ue.Cp1250,21,"Cp1250","windows-1250"),ne.Cp1251=new ne(Ue.Cp1251,22,"Cp1251","windows-1251"),ne.Cp1252=new ne(Ue.Cp1252,23,"Cp1252","windows-1252"),ne.Cp1256=new ne(Ue.Cp1256,24,"Cp1256","windows-1256"),ne.UnicodeBigUnmarked=new ne(Ue.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ne.UTF8=new ne(Ue.UTF8,26,"UTF8","UTF-8"),ne.ASCII=new ne(Ue.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ne.Big5=new ne(Ue.Big5,28,"Big5"),ne.GB18030=new ne(Ue.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ne.EUC_KR=new ne(Ue.EUC_KR,30,"EUC_KR","EUC-KR");class gn extends T{}gn.kind="UnsupportedOperationException";class Mt{static decode(e,n){const r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!Mt.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof ne?e:ne.getCharacterSetECIByName(e)}static decodeFallback(e,n){const r=this.encodingCharacterSet(n);if(Mt.isDecodeFallbackSupported(r)){let s="";for(let o=0,l=e.length;o<l;o++){let u=e[o].toString(16);u.length<2&&(u="0"+u),s+="%"+u}return decodeURIComponent(s)}if(r.equals(ne.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new gn(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(ne.UTF8)||e.equals(ne.ISO8859_1)||e.equals(ne.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),s=[];for(let o=0;o<r.length;o++)s.push(r[o].charCodeAt(0));return new Uint8Array(s)}}class Ae{static castAsNonUtf8Char(e,n=null){const r=n?n.getName():this.ISO88591;return Mt.decode(new Uint8Array([e]),r)}static guessEncoding(e,n){if(n!=null&&n.get(Fe.CHARACTER_SET)!==void 0)return n.get(Fe.CHARACTER_SET).toString();const r=e.length;let s=!0,o=!0,l=!0,u=0,f=0,d=0,p=0,m=0,y=0,v=0,O=0,M=0,k=0,U=0;const te=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let re=0;re<r&&(s||o||l);re++){const q=e[re]&255;l&&(u>0?q&128?u--:l=!1:q&128&&(q&64?(u++,q&32?(u++,q&16?(u++,q&8?l=!1:p++):d++):f++):l=!1)),s&&(q>127&&q<160?s=!1:q>159&&(q<192||q===215||q===247)&&U++),o&&(m>0?q<64||q===127||q>252?o=!1:m--:q===128||q===160||q>239?o=!1:q>160&&q<224?(y++,O=0,v++,v>M&&(M=v)):q>127?(m++,v=0,O++,O>k&&(k=O)):(v=0,O=0))}return l&&u>0&&(l=!1),o&&m>0&&(o=!1),l&&(te||f+d+p>0)?Ae.UTF8:o&&(Ae.ASSUME_SHIFT_JIS||M>=3||k>=3)?Ae.SHIFT_JIS:s&&o?M===2&&y===2||U*10>=r?Ae.SHIFT_JIS:Ae.ISO88591:s?Ae.ISO88591:o?Ae.SHIFT_JIS:l?Ae.UTF8:Ae.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let r=-1;function s(l,u,f,d,p,m){if(l==="%%")return"%";if(n[++r]===void 0)return;l=d?parseInt(d.substr(1)):void 0;let y=p?parseInt(p.substr(1)):void 0,v;switch(m){case"s":v=n[r];break;case"c":v=n[r][0];break;case"f":v=parseFloat(n[r]).toFixed(l);break;case"p":v=parseFloat(n[r]).toPrecision(l);break;case"e":v=parseFloat(n[r]).toExponential(l);break;case"x":v=parseInt(n[r]).toString(y||16);break;case"d":v=parseFloat(parseInt(n[r],y||10).toPrecision(l)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(y);let O=parseInt(f),M=f&&f[0]+""=="0"?"0":" ";for(;v.length<O;)v=u!==void 0?v+M:M+v;return v}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}static getBytes(e,n){return Mt.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Ae.SHIFT_JIS=ne.SJIS.getName(),Ae.GB2312="GB2312",Ae.ISO88591=ne.ISO8859_1.getName(),Ae.EUC_JP="EUC_JP",Ae.UTF8=ne.UTF8.getName(),Ae.PLATFORM_DEFAULT_ENCODING=Ae.UTF8,Ae.ASSUME_SHIFT_JIS=!1;class Ve{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ae.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,r){for(let s=n;n<n+r;s++)this.append(e[s]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class ot{constructor(e,n,r,s){if(this.width=e,this.height=n,this.rowSize=r,this.bits=s,n==null&&(n=e),this.height=n,e<1||n<1)throw new G("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,r=e[0].length,s=new ot(r,n);for(let o=0;o<n;o++){const l=e[o];for(let u=0;u<r;u++)l[u]&&s.set(u,o)}return s}static parseFromString(e,n,r){if(e===null)throw new G("stringRepresentation cannot be null");const s=new Array(e.length);let o=0,l=0,u=-1,f=0,d=0;for(;d<e.length;)if(e.charAt(d)===`
`||e.charAt(d)==="\r"){if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new G("row lengths do not match");l=o,f++}d++}else if(e.substring(d,d+n.length)===n)d+=n.length,s[o]=!0,o++;else if(e.substring(d,d+r.length)===r)d+=r.length,s[o]=!1,o++;else throw new G("illegal character encountered: "+e.substring(d));if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new G("row lengths do not match");f++}const p=new ot(u,f);for(let m=0;m<o;m++)s[m]&&p.set(Math.floor(m%u),Math.floor(m/u));return p}get(e,n){const r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new G("input matrix dimensions do not match");const n=new De(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let o=0,l=this.height;o<l;o++){const u=o*r,f=e.getRow(o,n).getBitArray();for(let d=0;d<r;d++)s[u+d]^=f[d]}}clear(){const e=this.bits,n=e.length;for(let r=0;r<n;r++)e[r]=0}setRegion(e,n,r,s){if(n<0||e<0)throw new G("Left and top must be nonnegative");if(s<1||r<1)throw new G("Height and width must be at least 1");const o=e+r,l=n+s;if(l>this.height||o>this.width)throw new G("The region must fit inside the matrix");const u=this.rowSize,f=this.bits;for(let d=n;d<l;d++){const p=d*u;for(let m=e;m<o;m++)f[p+Math.floor(m/32)]|=1<<(m&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new De(this.width):n.clear();const r=this.rowSize,s=this.bits,o=e*r;for(let l=0;l<r;l++)n.setBulk(l*32,s[o+l]);return n}setRow(e,n){we.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let r=new De(e),s=new De(e);for(let o=0,l=Math.floor((n+1)/2);o<l;o++)r=this.getRow(o,r),s=this.getRow(n-1-o,s),r.reverse(),s.reverse(),this.setRow(o,s),this.setRow(n-1-o,r)}getEnclosingRectangle(){const e=this.width,n=this.height,r=this.rowSize,s=this.bits;let o=e,l=n,u=-1,f=-1;for(let d=0;d<n;d++)for(let p=0;p<r;p++){const m=s[d*r+p];if(m!==0){if(d<l&&(l=d),d>f&&(f=d),p*32<o){let y=0;for(;!(m<<31-y&4294967295);)y++;p*32+y<o&&(o=p*32+y)}if(p*32+31>u){let y=31;for(;!(m>>>y);)y--;p*32+y>u&&(u=p*32+y)}}}return u<o||f<l?null:Int32Array.from([o,l,u-o+1,f-l+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let r=0;for(;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;const s=r/e;let o=r%e*32;const l=n[r];let u=0;for(;!(l<<31-u&4294967295);)u++;return o+=u,Int32Array.from([o,s])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let r=n.length-1;for(;r>=0&&n[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/e);let o=Math.floor(r%e)*32;const l=n[r];let u=31;for(;!(l>>>u);)u--;return o+=u,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ot))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Ye.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Ye.hashCode(this.bits),e}toString(e="X ",n="  ",r=`
`){return this.buildToString(e,n,r)}buildToString(e,n,r){let s=new Ve;for(let o=0,l=this.height;o<l;o++){for(let u=0,f=this.width;u<f;u++)s.append(this.get(u,o)?e:n);s.append(r)}return s.toString()}clone(){return new ot(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends T{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class et extends ht{constructor(e){super(e),this.luminances=et.EMPTY,this.buckets=new Int32Array(et.LUMINANCE_BUCKETS)}getBlackRow(e,n){const r=this.getLuminanceSource(),s=r.getWidth();n==null||n.getSize()<s?n=new De(s):n.clear(),this.initArrays(s);const o=r.getRow(e,this.luminances),l=this.buckets;for(let f=0;f<s;f++)l[(o[f]&255)>>et.LUMINANCE_SHIFT]++;const u=et.estimateBlackPoint(l);if(s<3)for(let f=0;f<s;f++)(o[f]&255)<u&&n.set(f);else{let f=o[0]&255,d=o[1]&255;for(let p=1;p<s-1;p++){const m=o[p+1]&255;(d*4-f-m)/2<u&&n.set(p),f=d,d=m}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),s=new ot(n,r);this.initArrays(n);const o=this.buckets;for(let f=1;f<5;f++){const d=Math.floor(r*f/5),p=e.getRow(d,this.luminances),m=Math.floor(n*4/5);for(let y=Math.floor(n/5);y<m;y++){const v=p[y]&255;o[v>>et.LUMINANCE_SHIFT]++}}const l=et.estimateBlackPoint(o),u=e.getMatrix();for(let f=0;f<r;f++){const d=f*n;for(let p=0;p<n;p++)(u[d+p]&255)<l&&s.set(p,f)}return s}createBinarizer(e){return new et(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let r=0;r<et.LUMINANCE_BUCKETS;r++)n[r]=0}static estimateBlackPoint(e){const n=e.length;let r=0,s=0,o=0;for(let p=0;p<n;p++)e[p]>o&&(s=p,o=e[p]),e[p]>r&&(r=e[p]);let l=0,u=0;for(let p=0;p<n;p++){const m=p-s,y=e[p]*m*m;y>u&&(l=p,u=y)}if(s>l){const p=s;s=l,l=p}if(l-s<=n/16)throw new W;let f=l-1,d=-1;for(let p=l-1;p>s;p--){const m=p-s,y=m*m*(l-p)*(r-e[p]);y>d&&(f=p,d=y)}return f<<et.LUMINANCE_SHIFT}}et.LUMINANCE_BITS=5,et.LUMINANCE_SHIFT=8-et.LUMINANCE_BITS,et.LUMINANCE_BUCKETS=1<<et.LUMINANCE_BITS,et.EMPTY=Uint8ClampedArray.from([0]);class xe extends et{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight();if(n>=xe.MINIMUM_DIMENSION&&r>=xe.MINIMUM_DIMENSION){const s=e.getMatrix();let o=n>>xe.BLOCK_SIZE_POWER;n&xe.BLOCK_SIZE_MASK&&o++;let l=r>>xe.BLOCK_SIZE_POWER;r&xe.BLOCK_SIZE_MASK&&l++;const u=xe.calculateBlackPoints(s,o,l,n,r),f=new ot(n,r);xe.calculateThresholdForBlock(s,o,l,n,r,u,f),this.matrix=f}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new xe(e)}static calculateThresholdForBlock(e,n,r,s,o,l,u){const f=o-xe.BLOCK_SIZE,d=s-xe.BLOCK_SIZE;for(let p=0;p<r;p++){let m=p<<xe.BLOCK_SIZE_POWER;m>f&&(m=f);const y=xe.cap(p,2,r-3);for(let v=0;v<n;v++){let O=v<<xe.BLOCK_SIZE_POWER;O>d&&(O=d);const M=xe.cap(v,2,n-3);let k=0;for(let te=-2;te<=2;te++){const re=l[y+te];k+=re[M-2]+re[M-1]+re[M]+re[M+1]+re[M+2]}const U=k/25;xe.thresholdBlock(e,O,m,U,s,u)}}}static cap(e,n,r){return e<n?n:e>r?r:e}static thresholdBlock(e,n,r,s,o,l){for(let u=0,f=r*o+n;u<xe.BLOCK_SIZE;u++,f+=o)for(let d=0;d<xe.BLOCK_SIZE;d++)(e[f+d]&255)<=s&&l.set(n+d,r+u)}static calculateBlackPoints(e,n,r,s,o){const l=o-xe.BLOCK_SIZE,u=s-xe.BLOCK_SIZE,f=new Array(r);for(let d=0;d<r;d++){f[d]=new Int32Array(n);let p=d<<xe.BLOCK_SIZE_POWER;p>l&&(p=l);for(let m=0;m<n;m++){let y=m<<xe.BLOCK_SIZE_POWER;y>u&&(y=u);let v=0,O=255,M=0;for(let U=0,te=p*s+y;U<xe.BLOCK_SIZE;U++,te+=s){for(let re=0;re<xe.BLOCK_SIZE;re++){const q=e[te+re]&255;v+=q,q<O&&(O=q),q>M&&(M=q)}if(M-O>xe.MIN_DYNAMIC_RANGE)for(U++,te+=s;U<xe.BLOCK_SIZE;U++,te+=s)for(let re=0;re<xe.BLOCK_SIZE;re++)v+=e[te+re]&255}let k=v>>xe.BLOCK_SIZE_POWER*2;if(M-O<=xe.MIN_DYNAMIC_RANGE&&(k=O/2,d>0&&m>0)){const U=(f[d-1][m]+2*f[d][m-1]+f[d-1][m-1])/4;O<U&&(k=U)}f[d][m]=k}}return f}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class le{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,r,s){throw new gn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new gn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new gn("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Ve;for(let r=0;r<this.height;r++){const s=this.getRow(r,e);for(let o=0;o<this.width;o++){const l=s[o]&255;let u;l<64?u="#":l<128?u="+":l<192?u=".":u=" ",n.append(u)}n.append(`
`)}return n.toString()}}class Ce extends le{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const r=this.delegate.getRow(e,n),s=this.getWidth();for(let o=0;o<s;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(n);for(let s=0;s<n;s++)r[s]=255-(e[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,r,s){return new Ce(this.delegate.crop(e,n,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ce(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ce(this.delegate.rotateCounterClockwise45())}}class ae extends le{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=ae.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return ae.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,r){const s=new Uint8ClampedArray(n*r);for(let o=0,l=0,u=e.length;o<u;o+=4,l++){let f;if(e[o+3]===0)f=255;else{const p=e[o],m=e[o+1],y=e[o+2];f=306*p+601*m+117*y+512>>10}s[l]=f}return s}getRow(e,n){if(e<0||e>=this.getHeight())throw new G("Requested row is outside the image: "+e);const r=this.getWidth(),s=e*r;return n===null?n=this.buffer.slice(s,s+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(s,s+r))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,r,s){return super.crop(e,n,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),r=n.getContext("2d"),s=e*ae.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*l),f=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*l);return n.width=u,n.height=f,r.translate(u/2,f/2),r.rotate(s),r.drawImage(this.canvas,o/-2,l/-2),this.buffer=ae.makeBufferFromCanvasImageData(n),this}invert(){return new Ce(this)}}ae.DEGREE_TO_RADIANS=Math.PI/180;class B{constructor(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var j=(globalThis||pl||self||window||void 0)&&(globalThis||pl||self||window||void 0).__awaiter||function(w,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{d(r.next(p))}catch(m){l(m)}}function f(p){try{d(r.throw(p))}catch(m){l(m)}}function d(p){p.done?o(p.value):s(p.value).then(u,f)}d((r=r.apply(w,e||[])).next())})};class be{constructor(e,n=500,r){this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return j(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const r of e){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const o=r.deviceId||r.id,l=r.label||`Video device ${n.length+1}`,u=r.groupId,f={deviceId:o,label:l,kind:s,groupId:u};n.push(f)}return n})}getVideoInputDevices(){return j(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new B(n.deviceId,n.label))})}findDeviceById(e){return j(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return j(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return j(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,n)})}decodeOnceFromConstraints(e,n){return j(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,n)})}decodeOnceFromStream(e,n){return j(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,n,r){return j(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,r)})}decodeFromVideoDevice(e,n,r){return j(this,void 0,void 0,function*(){let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,n,r)})}decodeFromConstraints(e,n,r){return j(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(s,n,r)})}decodeFromStream(e,n,r){return j(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return j(this,void 0,void 0,function*(){const r=this.prepareVideoElement(n);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((n,r)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return j(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const r=document.getElementById(e);if(!r)throw new Z(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new Z(`element with id '${e}' must be an ${n} element`);return r}decodeFromImage(e,n){if(!e&&!n)throw new Z("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new Z("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,r){if(e===void 0&&n===void 0)throw new Z("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new Z("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)}_decodeFromVideoElementSetup(e){if(!e)throw new Z("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new Z("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const r=this._decodeOnLoadImage(n);return n.src=e,r}decodeFromVideoUrl(e){if(!e)throw new Z("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r}decodeFromVideoUrlContinuously(e,n){if(!e)throw new Z("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,n);return r.src=e,s}_decodeOnLoadImage(e){return new Promise((n,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return j(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return j(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,r=!0){this._stopAsyncDecode=!1;const s=(o,l)=>{if(this._stopAsyncDecode){l(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);o(u)}catch(u){const f=n&&u instanceof W,p=(u instanceof Oe||u instanceof $)&&r;if(f||p)return setTimeout(s,this._timeBetweenDecodingAttempts,o,l);l(u)}};return new Promise((o,l)=>s(o,l))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(e);n(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){n(null,s);const o=s instanceof Oe||s instanceof $,l=s instanceof W;(o||l)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,r){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,r=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),r=new ae(n),s=new xe(r);return new Ie(s)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let r,s;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,s=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,s=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=s+"px",n.width=r,n.height=s,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ve{constructor(e,n,r=n==null?0:8*n.length,s,o,l=we.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=s,this.format=o,this.timestamp=l,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=s,this.format=o,this.resultMetadata=null,l==null?this.timestamp=we.currentTimeMillis():this.timestamp=l}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(n.length+e.length);we.arraycopy(n,0,r,0,n.length),we.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Qe;(function(w){w[w.AZTEC=0]="AZTEC",w[w.CODABAR=1]="CODABAR",w[w.CODE_39=2]="CODE_39",w[w.CODE_93=3]="CODE_93",w[w.CODE_128=4]="CODE_128",w[w.DATA_MATRIX=5]="DATA_MATRIX",w[w.EAN_8=6]="EAN_8",w[w.EAN_13=7]="EAN_13",w[w.ITF=8]="ITF",w[w.MAXICODE=9]="MAXICODE",w[w.PDF_417=10]="PDF_417",w[w.QR_CODE=11]="QR_CODE",w[w.RSS_14=12]="RSS_14",w[w.RSS_EXPANDED=13]="RSS_EXPANDED",w[w.UPC_A=14]="UPC_A",w[w.UPC_E=15]="UPC_E",w[w.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Qe||(Qe={}));var se=Qe,lt;(function(w){w[w.OTHER=0]="OTHER",w[w.ORIENTATION=1]="ORIENTATION",w[w.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",w[w.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",w[w.ISSUE_NUMBER=4]="ISSUE_NUMBER",w[w.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",w[w.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",w[w.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",w[w.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",w[w.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",w[w.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(lt||(lt={}));var Me=lt;class at{constructor(e,n,r,s,o=-1,l=-1){this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Xt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new G;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class jt{constructor(e,n){if(n.length===0)throw new G;this.field=e;const r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),we.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let r;if(e===1){r=0;for(let l=0,u=n.length;l!==u;l++){const f=n[l];r=Xt.addOrSubtract(r,f)}return r}r=n[0];const s=n.length,o=this.field;for(let l=1;l<s;l++)r=Xt.addOrSubtract(o.multiply(e,r),n[l]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new G("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){const l=n;n=r,r=l}let s=new Int32Array(r.length);const o=r.length-n.length;we.arraycopy(r,0,s,0,o);for(let l=o;l<r.length;l++)s[l]=Xt.addOrSubtract(n[l-o],r[l]);return new jt(this.field,s)}multiply(e){if(!this.field.equals(e.field))throw new G("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,l=new Int32Array(r+o-1),u=this.field;for(let f=0;f<r;f++){const d=n[f];for(let p=0;p<o;p++)l[f+p]=Xt.addOrSubtract(l[f+p],u.multiply(d,s[p]))}return new jt(u,l)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,r=this.field,s=new Int32Array(n),o=this.coefficients;for(let l=0;l<n;l++)s[l]=r.multiply(o[l],e);return new jt(r,s)}multiplyByMonomial(e,n){if(e<0)throw new G;if(n===0)return this.field.getZero();const r=this.coefficients,s=r.length,o=new Int32Array(s+e),l=this.field;for(let u=0;u<s;u++)o[u]=l.multiply(r[u],n);return new jt(l,o)}divide(e){if(!this.field.equals(e.field))throw new G("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new G("Divide by 0");const n=this.field;let r=n.getZero(),s=this;const o=e.getCoefficient(e.getDegree()),l=n.inverse(o);for(;s.getDegree()>=e.getDegree()&&!s.isZero();){const u=s.getDegree()-e.getDegree(),f=n.multiply(s.getCoefficient(s.getDegree()),l),d=e.multiplyByMonomial(u,f),p=n.buildMonomial(u,f);r=r.addOrSubtract(p),s=s.addOrSubtract(d)}return[r,s]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){const s=this.field.log(r);s===0?e+="1":s===1?e+="a":(e+="a^",e+=s)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class wi extends T{}wi.kind="ArithmeticException";class qe extends Xt{constructor(e,n,r){super(),this.primitive=e,this.size=n,this.generatorBase=r;const s=new Int32Array(n);let o=1;for(let u=0;u<n;u++)s[u]=o,o*=2,o>=n&&(o^=e,o&=n-1);this.expTable=s;const l=new Int32Array(n);for(let u=0;u<n-1;u++)l[s[u]]=u;this.logTable=l,this.zero=new jt(this,Int32Array.from([0])),this.one=new jt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new G;if(n===0)return this.zero;const r=new Int32Array(e+1);return r[0]=n,new jt(this,r)}inverse(e){if(e===0)throw new wi;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+me.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}qe.AZTEC_DATA_12=new qe(4201,4096,1),qe.AZTEC_DATA_10=new qe(1033,1024,1),qe.AZTEC_DATA_6=new qe(67,64,1),qe.AZTEC_PARAM=new qe(19,16,1),qe.QR_CODE_FIELD_256=new qe(285,256,0),qe.DATA_MATRIX_FIELD_256=new qe(301,256,1),qe.AZTEC_DATA_8=qe.DATA_MATRIX_FIELD_256,qe.MAXICODE_FIELD_64=qe.AZTEC_DATA_6;class wr extends T{}wr.kind="ReedSolomonException";class Pn extends T{}Pn.kind="IllegalStateException";class Wr{constructor(e){this.field=e}decode(e,n){const r=this.field,s=new jt(r,e),o=new Int32Array(n);let l=!0;for(let v=0;v<n;v++){const O=s.evaluateAt(r.exp(v+r.getGeneratorBase()));o[o.length-1-v]=O,O!==0&&(l=!1)}if(l)return;const u=new jt(r,o),f=this.runEuclideanAlgorithm(r.buildMonomial(n,1),u,n),d=f[0],p=f[1],m=this.findErrorLocations(d),y=this.findErrorMagnitudes(p,m);for(let v=0;v<m.length;v++){const O=e.length-1-r.log(m[v]);if(O<0)throw new wr("Bad error location");e[O]=qe.addOrSubtract(e[O],y[v])}}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){const v=e;e=n,n=v}const s=this.field;let o=e,l=n,u=s.getZero(),f=s.getOne();for(;l.getDegree()>=(r/2|0);){let v=o,O=u;if(o=l,u=f,o.isZero())throw new wr("r_{i-1} was zero");l=v;let M=s.getZero();const k=o.getCoefficient(o.getDegree()),U=s.inverse(k);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){const te=l.getDegree()-o.getDegree(),re=s.multiply(l.getCoefficient(l.getDegree()),U);M=M.addOrSubtract(s.buildMonomial(te,re)),l=l.addOrSubtract(o.multiplyByMonomial(te,re))}if(f=M.multiply(u).addOrSubtract(O),l.getDegree()>=o.getDegree())throw new Pn("Division algorithm failed to reduce polynomial?")}const d=f.getCoefficient(0);if(d===0)throw new wr("sigmaTilde(0) was zero");const p=s.inverse(d),m=f.multiplyScalar(p),y=l.multiplyScalar(p);return[m,y]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(n);let s=0;const o=this.field;for(let l=1;l<o.getSize()&&s<n;l++)e.evaluateAt(l)===0&&(r[s]=o.inverse(l),s++);if(s!==n)throw new wr("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,n){const r=n.length,s=new Int32Array(r),o=this.field;for(let l=0;l<r;l++){const u=o.inverse(n[l]);let f=1;for(let d=0;d<r;d++)if(l!==d){const p=o.multiply(n[d],u),m=p&1?p&-2:p|1;f=o.multiply(f,m)}s[l]=o.multiply(e.evaluateAt(u),o.inverse(f)),o.getGeneratorBase()!==0&&(s[l]=o.multiply(s[l],u))}return s}}var Pt;(function(w){w[w.UPPER=0]="UPPER",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.DIGIT=3]="DIGIT",w[w.PUNCT=4]="PUNCT",w[w.BINARY=5]="BINARY"})(Pt||(Pt={}));class ft{decode(e){this.ddata=e;let n=e.getBits(),r=this.extractBits(n),s=this.correctBits(r),o=ft.convertBoolArrayToByteArray(s),l=ft.getEncodedData(s),u=new at(o,l,null,null);return u.setNumBits(s.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,r=Pt.UPPER,s=Pt.UPPER,o="",l=0;for(;l<n;)if(s===Pt.BINARY){if(n-l<5)break;let u=ft.readCode(e,l,5);if(l+=5,u===0){if(n-l<11)break;u=ft.readCode(e,l,11)+31,l+=11}for(let f=0;f<u;f++){if(n-l<8){l=n;break}const d=ft.readCode(e,l,8);o+=Ae.castAsNonUtf8Char(d),l+=8}s=r}else{let u=s===Pt.DIGIT?4:5;if(n-l<u)break;let f=ft.readCode(e,l,u);l+=u;let d=ft.getCharacter(s,f);d.startsWith("CTRL_")?(r=s,s=ft.getTable(d.charAt(5)),d.charAt(6)==="L"&&(r=s)):(o+=d,s=r)}return o}static getTable(e){switch(e){case"L":return Pt.LOWER;case"P":return Pt.PUNCT;case"M":return Pt.MIXED;case"D":return Pt.DIGIT;case"B":return Pt.BINARY;case"U":default:return Pt.UPPER}}static getCharacter(e,n){switch(e){case Pt.UPPER:return ft.UPPER_TABLE[n];case Pt.LOWER:return ft.LOWER_TABLE[n];case Pt.MIXED:return ft.MIXED_TABLE[n];case Pt.PUNCT:return ft.PUNCT_TABLE[n];case Pt.DIGIT:return ft.DIGIT_TABLE[n];default:throw new Pn("Bad table")}}correctBits(e){let n,r;this.ddata.getNbLayers()<=2?(r=6,n=qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=qe.AZTEC_DATA_10):(r=12,n=qe.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=e.length/r;if(o<s)throw new $;let l=e.length%r,u=new Int32Array(o);for(let y=0;y<o;y++,l+=r)u[y]=ft.readCode(e,l,r);try{new Wr(n).decode(u,o-s)}catch(y){throw new $(y)}let f=(1<<r)-1,d=0;for(let y=0;y<s;y++){let v=u[y];if(v===0||v===f)throw new $;(v===1||v===f-1)&&d++}let p=new Array(s*r-d),m=0;for(let y=0;y<s;y++){let v=u[y];if(v===1||v===f-1)p.fill(v>1,m,m+r-1),m+=r-1;else for(let O=r-1;O>=0;--O)p[m++]=(v&1<<O)!==0}return p}extractBits(e){let n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(n?11:14)+r*4,o=new Int32Array(s),l=new Array(this.totalBitsInLayer(r,n));if(n)for(let u=0;u<o.length;u++)o[u]=u;else{let u=s+1+2*me.truncDivision(me.truncDivision(s,2)-1,15),f=s/2,d=me.truncDivision(u,2);for(let p=0;p<f;p++){let m=p+me.truncDivision(p,15);o[f-p-1]=d-m-1,o[f+p]=d+m+1}}for(let u=0,f=0;u<r;u++){let d=(r-u)*4+(n?9:12),p=u*2,m=s-1-p;for(let y=0;y<d;y++){let v=y*2;for(let O=0;O<2;O++)l[f+v+O]=e.get(o[p+O],o[p+y]),l[f+2*d+v+O]=e.get(o[p+y],o[m-O]),l[f+4*d+v+O]=e.get(o[m-O],o[m-y]),l[f+6*d+v+O]=e.get(o[m-y],o[p+O])}f+=d*8}return l}static readCode(e,n,r){let s=0;for(let o=n;o<n+r;o++)s<<=1,e[o]&&(s|=1);return s}static readByte(e,n){let r=e.length-n;return r>=8?ft.readCode(e,n,8):ft.readCode(e,n,r)<<8-r}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let r=0;r<n.length;r++)n[r]=ft.readByte(e,8*r);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}ft.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ft.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ft.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ft.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ft.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ze{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,r,s){const o=e-r,l=n-s;return Math.sqrt(o*o+l*l)}static sum(e){let n=0;for(let r=0,s=e.length;r!==s;r++){const o=e[r];n+=o}return n}}class mr{static floatToIntBits(e){return e}}mr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class fe{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof fe){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*mr.floatToIntBits(this.x)+mr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),s=this.distance(e[0],e[2]);let o,l,u;if(r>=n&&r>=s?(l=e[0],o=e[1],u=e[2]):s>=r&&s>=n?(l=e[1],o=e[0],u=e[2]):(l=e[2],o=e[0],u=e[1]),this.crossProductZ(o,l,u)<0){const f=o;o=u,u=f}e[0]=o,e[1]=l,e[2]=u}static distance(e,n){return Ze.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,r){const s=n.x,o=n.y;return(r.x-s)*(e.y-o)-(r.y-o)*(e.x-s)}}class Gr{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Cs extends Gr{constructor(e,n,r,s,o){super(e,n),this.compact=r,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Kn{constructor(e,n,r,s){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=Kn.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),s==null&&(s=e.getHeight()/2|0);const o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let e=this.leftInit,n=this.rightInit,r=this.upInit,s=this.downInit,o=!1,l=!0,u=!1,f=!1,d=!1,p=!1,m=!1;const y=this.width,v=this.height;for(;l;){l=!1;let O=!0;for(;(O||!f)&&n<y;)O=this.containsBlackPoint(r,s,n,!1),O?(n++,l=!0,f=!0):f||n++;if(n>=y){o=!0;break}let M=!0;for(;(M||!d)&&s<v;)M=this.containsBlackPoint(e,n,s,!0),M?(s++,l=!0,d=!0):d||s++;if(s>=v){o=!0;break}let k=!0;for(;(k||!p)&&e>=0;)k=this.containsBlackPoint(r,s,e,!1),k?(e--,l=!0,p=!0):p||e--;if(e<0){o=!0;break}let U=!0;for(;(U||!m)&&r>=0;)U=this.containsBlackPoint(e,n,r,!0),U?(r--,l=!0,m=!0):m||r--;if(r<0){o=!0;break}l&&(u=!0)}if(!o&&u){const O=n-e;let M=null;for(let re=1;M===null&&re<O;re++)M=this.getBlackPointOnSegment(e,s-re,e+re,s);if(M==null)throw new W;let k=null;for(let re=1;k===null&&re<O;re++)k=this.getBlackPointOnSegment(e,r+re,e+re,r);if(k==null)throw new W;let U=null;for(let re=1;U===null&&re<O;re++)U=this.getBlackPointOnSegment(n,r+re,n-re,r);if(U==null)throw new W;let te=null;for(let re=1;te===null&&re<O;re++)te=this.getBlackPointOnSegment(n,s-re,n-re,s);if(te==null)throw new W;return this.centerEdges(te,M,U,k)}else throw new W}getBlackPointOnSegment(e,n,r,s){const o=Ze.round(Ze.distance(e,n,r,s)),l=(r-e)/o,u=(s-n)/o,f=this.image;for(let d=0;d<o;d++){const p=Ze.round(e+d*l),m=Ze.round(n+d*u);if(f.get(p,m))return new fe(p,m)}return null}centerEdges(e,n,r,s){const o=e.getX(),l=e.getY(),u=n.getX(),f=n.getY(),d=r.getX(),p=r.getY(),m=s.getX(),y=s.getY(),v=Kn.CORR;return o<this.width/2?[new fe(m-v,y+v),new fe(u+v,f+v),new fe(d-v,p-v),new fe(o+v,l-v)]:[new fe(m+v,y+v),new fe(u+v,f-v),new fe(d-v,p+v),new fe(o-v,l-v)]}containsBlackPoint(e,n,r,s){const o=this.image;if(s){for(let l=e;l<=n;l++)if(o.get(l,r))return!0}else for(let l=e;l<=n;l++)if(o.get(r,l))return!0;return!1}}Kn.INIT_SIZE=10,Kn.CORR=1;class Wi{static checkAndNudgePoints(e,n){const r=e.getWidth(),s=e.getHeight();let o=!0;for(let l=0;l<n.length&&o;l+=2){const u=Math.floor(n[l]),f=Math.floor(n[l+1]);if(u<-1||u>r||f<-1||f>s)throw new W;o=!1,u===-1?(n[l]=0,o=!0):u===r&&(n[l]=r-1,o=!0),f===-1?(n[l+1]=0,o=!0):f===s&&(n[l+1]=s-1,o=!0)}o=!0;for(let l=n.length-2;l>=0&&o;l-=2){const u=Math.floor(n[l]),f=Math.floor(n[l+1]);if(u<-1||u>r||f<-1||f>s)throw new W;o=!1,u===-1?(n[l]=0,o=!0):u===r&&(n[l]=r-1,o=!0),f===-1?(n[l+1]=0,o=!0):f===s&&(n[l+1]=s-1,o=!0)}}}class Tn{constructor(e,n,r,s,o,l,u,f,d){this.a11=e,this.a21=n,this.a31=r,this.a12=s,this.a22=o,this.a32=l,this.a13=u,this.a23=f,this.a33=d}static quadrilateralToQuadrilateral(e,n,r,s,o,l,u,f,d,p,m,y,v,O,M,k){const U=Tn.quadrilateralToSquare(e,n,r,s,o,l,u,f);return Tn.squareToQuadrilateral(d,p,m,y,v,O,M,k).times(U)}transformPoints(e){const n=e.length,r=this.a11,s=this.a12,o=this.a13,l=this.a21,u=this.a22,f=this.a23,d=this.a31,p=this.a32,m=this.a33;for(let y=0;y<n;y+=2){const v=e[y],O=e[y+1],M=o*v+f*O+m;e[y]=(r*v+l*O+d)/M,e[y+1]=(s*v+u*O+p)/M}}transformPointsWithValues(e,n){const r=this.a11,s=this.a12,o=this.a13,l=this.a21,u=this.a22,f=this.a23,d=this.a31,p=this.a32,m=this.a33,y=e.length;for(let v=0;v<y;v++){const O=e[v],M=n[v],k=o*O+f*M+m;e[v]=(r*O+l*M+d)/k,n[v]=(s*O+u*M+p)/k}}static squareToQuadrilateral(e,n,r,s,o,l,u,f){const d=e-r+o-u,p=n-s+l-f;if(d===0&&p===0)return new Tn(r-e,o-r,e,s-n,l-s,n,0,0,1);{const m=r-o,y=u-o,v=s-l,O=f-l,M=m*O-y*v,k=(d*O-y*p)/M,U=(m*p-d*v)/M;return new Tn(r-e+k*r,u-e+U*u,e,s-n+k*s,f-n+U*f,n,k,U,1)}}static quadrilateralToSquare(e,n,r,s,o,l,u,f){return Tn.squareToQuadrilateral(e,n,r,s,o,l,u,f).buildAdjoint()}buildAdjoint(){return new Tn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Tn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Gi extends Wi{sampleGrid(e,n,r,s,o,l,u,f,d,p,m,y,v,O,M,k,U,te,re){const q=Tn.quadrilateralToQuadrilateral(s,o,l,u,f,d,p,m,y,v,O,M,k,U,te,re);return this.sampleGridWithTransform(e,n,r,q)}sampleGridWithTransform(e,n,r,s){if(n<=0||r<=0)throw new W;const o=new ot(n,r),l=new Float32Array(2*n);for(let u=0;u<r;u++){const f=l.length,d=u+.5;for(let p=0;p<f;p+=2)l[p]=p/2+.5,l[p+1]=d;s.transformPoints(l),Wi.checkAndNudgePoints(e,l);try{for(let p=0;p<f;p+=2)e.get(Math.floor(l[p]),Math.floor(l[p+1]))&&o.set(p/2,u)}catch{throw new W}}return o}}class Ln{static setGridSampler(e){Ln.gridSampler=e}static getInstance(){return Ln.gridSampler}}Ln.gridSampler=new Gi;class tn{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Xr{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){let l=r[0];r[0]=r[2],r[2]=l}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new Cs(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new W;let n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);let s=0;for(let l=0;l<4;l++){let u=r[(this.shift+l)%4];this.compact?(s<<=7,s+=u>>1&127):(s<<=10,s+=(u>>2&992)+(u>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,n){let r=0;e.forEach((s,o,l)=>{let u=(s>>n-2<<1)+(s&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(me.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new W}getCorrectedParameterData(e,n){let r,s;n?(r=7,s=2):(r=10,s=4);let o=r-s,l=new Int32Array(r);for(let f=r-1;f>=0;--f)l[f]=e&15,e>>=4;try{new Wr(qe.AZTEC_PARAM).decode(l,o)}catch{throw new W}let u=0;for(let f=0;f<s;f++)u=(u<<4)+l[f];return u}getBullsEyeCorners(e){let n=e,r=e,s=e,o=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let m=this.getFirstDifferent(n,l,1,-1),y=this.getFirstDifferent(r,l,1,1),v=this.getFirstDifferent(s,l,-1,1),O=this.getFirstDifferent(o,l,-1,-1);if(this.nbCenterLayers>2){let M=this.distancePoint(O,m)*this.nbCenterLayers/(this.distancePoint(o,n)*(this.nbCenterLayers+2));if(M<.75||M>1.25||!this.isWhiteOrBlackRectangle(m,y,v,O))break}n=m,r=y,s=v,o=O,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let u=new fe(n.getX()+.5,n.getY()-.5),f=new fe(r.getX()+.5,r.getY()+.5),d=new fe(s.getX()-.5,s.getY()+.5),p=new fe(o.getX()-.5,o.getY()-.5);return this.expandSquare([u,f,d,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,r,s;try{let u=new Kn(this.image).detect();e=u[0],n=u[1],r=u[2],s=u[3]}catch{let f=this.image.getWidth()/2,d=this.image.getHeight()/2;e=this.getFirstDifferent(new tn(f+7,d-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new tn(f+7,d+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new tn(f-7,d+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new tn(f-7,d-7),!1,-1,-1).toResultPoint()}let o=Ze.round((e.getX()+s.getX()+n.getX()+r.getX())/4),l=Ze.round((e.getY()+s.getY()+n.getY()+r.getY())/4);try{let u=new Kn(this.image,15,o,l).detect();e=u[0],n=u[1],r=u[2],s=u[3]}catch{e=this.getFirstDifferent(new tn(o+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new tn(o+7,l+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new tn(o-7,l+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new tn(o-7,l-7),!1,-1,-1).toResultPoint()}return o=Ze.round((e.getX()+s.getX()+n.getX()+r.getX())/4),l=Ze.round((e.getY()+s.getY()+n.getY()+r.getY())/4),new tn(o,l)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,r,s,o){let l=Ln.getInstance(),u=this.getDimension(),f=u/2-this.nbCenterLayers,d=u/2+this.nbCenterLayers;return l.sampleGrid(e,u,u,f,f,d,f,d,d,f,d,n.getX(),n.getY(),r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(e,n,r){let s=0,o=this.distanceResultPoint(e,n),l=o/r,u=e.getX(),f=e.getY(),d=l*(n.getX()-e.getX())/o,p=l*(n.getY()-e.getY())/o;for(let m=0;m<r;m++)this.image.get(Ze.round(u+m*d),Ze.round(f+m*p))&&(s|=1<<r-m-1);return s}isWhiteOrBlackRectangle(e,n,r,s){let o=3;e=new tn(e.getX()-o,e.getY()+o),n=new tn(n.getX()-o,n.getY()-o),r=new tn(r.getX()+o,r.getY()-o),s=new tn(s.getX()+o,s.getY()+o);let l=this.getColor(s,e);if(l===0)return!1;let u=this.getColor(e,n);return u!==l||(u=this.getColor(n,r),u!==l)?!1:(u=this.getColor(r,s),u===l)}getColor(e,n){let r=this.distancePoint(e,n),s=(n.getX()-e.getX())/r,o=(n.getY()-e.getY())/r,l=0,u=e.getX(),f=e.getY(),d=this.image.get(e.getX(),e.getY()),p=Math.ceil(r);for(let y=0;y<p;y++)u+=s,f+=o,this.image.get(Ze.round(u),Ze.round(f))!==d&&l++;let m=l/r;return m>.1&&m<.9?0:m<=.1===d?1:-1}getFirstDifferent(e,n,r,s){let o=e.getX()+r,l=e.getY()+s;for(;this.isValid(o,l)&&this.image.get(o,l)===n;)o+=r,l+=s;for(o-=r,l-=s;this.isValid(o,l)&&this.image.get(o,l)===n;)o+=r;for(o-=r;this.isValid(o,l)&&this.image.get(o,l)===n;)l+=s;return l-=s,new tn(o,l)}expandSquare(e,n,r){let s=r/(2*n),o=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,d=new fe(u+s*o,f+s*l),p=new fe(u-s*o,f-s*l);o=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;let m=new fe(u+s*o,f+s*l),y=new fe(u-s*o,f-s*l);return[d,m,p,y]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=Ze.round(e.getX()),r=Ze.round(e.getY());return this.isValid(n,r)}distancePoint(e,n){return Ze.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return Ze.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(me.truncDivision(this.nbLayers-4,8)+1)+15}}class Er{decode(e,n=null){let r=null,s=new Xr(e.getBlackMatrix()),o=null,l=null;try{let p=s.detectMirror(!1);o=p.getPoints(),this.reportFoundResultPoints(n,o),l=new ft().decode(p)}catch(p){r=p}if(l==null)try{let p=s.detectMirror(!0);o=p.getPoints(),this.reportFoundResultPoints(n,o),l=new ft().decode(p)}catch(p){throw r??p}let u=new ve(l.getText(),l.getRawBytes(),l.getNumBits(),o,se.AZTEC,we.currentTimeMillis()),f=l.getByteSegments();f!=null&&u.putMetadata(Me.BYTE_SEGMENTS,f);let d=l.getECLevel();return d!=null&&u.putMetadata(Me.ERROR_CORRECTION_LEVEL,d),u}reportFoundResultPoints(e,n){if(e!=null){let r=e.get(Fe.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach((s,o,l)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class yl extends be{constructor(e=500){super(new Er,e)}}class _t{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(Fe.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),l=this.doDecode(o,n),u=l.getResultMetadata();let f=270;u!==null&&u.get(Me.ORIENTATION)===!0&&(f=f+u.get(Me.ORIENTATION)%360),l.putMetadata(Me.ORIENTATION,f);const d=l.getResultPoints();if(d!==null){const p=o.getHeight();for(let m=0;m<d.length;m++)d[m]=new fe(p-d[m].getY()-1,d[m].getX())}return l}else throw new W}}reset(){}doDecode(e,n){const r=e.getWidth(),s=e.getHeight();let o=new De(r);const l=n&&n.get(Fe.TRY_HARDER)===!0,u=Math.max(1,s>>(l?8:5));let f;l?f=s:f=15;const d=Math.trunc(s/2);for(let p=0;p<f;p++){const m=Math.trunc((p+1)/2),y=(p&1)===0,v=d+u*(y?m:-m);if(v<0||v>=s)break;try{o=e.getBlackRow(v,o)}catch{continue}for(let O=0;O<2;O++){if(O===1&&(o.reverse(),n&&n.get(Fe.NEED_RESULT_POINT_CALLBACK)===!0)){const M=new Map;n.forEach((k,U)=>M.set(U,k)),M.delete(Fe.NEED_RESULT_POINT_CALLBACK),n=M}try{const M=this.decodeRow(v,o,n);if(O===1){M.putMetadata(Me.ORIENTATION,180);const k=M.getResultPoints();k!==null&&(k[0]=new fe(r-k[0].getX()-1,k[0].getY()),k[1]=new fe(r-k[1].getX()-1,k[1].getY()))}return M}catch{}}}throw new W}static recordPattern(e,n,r){const s=r.length;for(let d=0;d<s;d++)r[d]=0;const o=e.getSize();if(n>=o)throw new W;let l=!e.get(n),u=0,f=n;for(;f<o;){if(e.get(f)!==l)r[u]++;else{if(++u===s)break;r[u]=1,l=!l}f++}if(!(u===s||u===s-1&&f===o))throw new W}static recordPatternInReverse(e,n,r){let s=r.length,o=e.get(n);for(;n>0&&s>=0;)e.get(--n)!==o&&(s--,o=!o);if(s>=0)throw new W;_t.recordPattern(e,n+1,r)}static patternMatchVariance(e,n,r){const s=e.length;let o=0,l=0;for(let d=0;d<s;d++)o+=e[d],l+=n[d];if(o<l)return Number.POSITIVE_INFINITY;const u=o/l;r*=u;let f=0;for(let d=0;d<s;d++){const p=e[d],m=n[d]*u,y=p>m?p-m:m-p;if(y>r)return Number.POSITIVE_INFINITY;f+=y}return f/o}}class oe extends _t{static findStartPattern(e){const n=e.getSize(),r=e.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),l=r,u=!1;const f=6;for(let d=r;d<n;d++)if(e.get(d)!==u)o[s]++;else{if(s===f-1){let p=oe.MAX_AVG_VARIANCE,m=-1;for(let y=oe.CODE_START_A;y<=oe.CODE_START_C;y++){const v=_t.patternMatchVariance(o,oe.CODE_PATTERNS[y],oe.MAX_INDIVIDUAL_VARIANCE);v<p&&(p=v,m=y)}if(m>=0&&e.isRange(Math.max(0,l-(d-l)/2),l,!1))return Int32Array.from([l,d,m]);l+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,u=!u}throw new W}static decodeCode(e,n,r){_t.recordPattern(e,r,n);let s=oe.MAX_AVG_VARIANCE,o=-1;for(let l=0;l<oe.CODE_PATTERNS.length;l++){const u=oe.CODE_PATTERNS[l],f=this.patternMatchVariance(n,u,oe.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,o=l)}if(o>=0)return o;throw new W}decodeRow(e,n,r){const s=r&&r.get(Fe.ASSUME_GS1)===!0,o=oe.findStartPattern(n),l=o[2];let u=0;const f=new Uint8Array(20);f[u++]=l;let d;switch(l){case oe.CODE_START_A:d=oe.CODE_CODE_A;break;case oe.CODE_START_B:d=oe.CODE_CODE_B;break;case oe.CODE_START_C:d=oe.CODE_CODE_C;break;default:throw new $}let p=!1,m=!1,y="",v=o[0],O=o[1];const M=Int32Array.from([0,0,0,0,0,0]);let k=0,U=0,te=l,re=0,q=!0,We=!1,Pe=!1;for(;!p;){const fr=m;switch(m=!1,k=U,U=oe.decodeCode(n,M,O),f[u++]=U,U!==oe.CODE_STOP&&(q=!0),U!==oe.CODE_STOP&&(re++,te+=re*U),v=O,O+=M.reduce((ni,zs)=>ni+zs,0),U){case oe.CODE_START_A:case oe.CODE_START_B:case oe.CODE_START_C:throw new $}switch(d){case oe.CODE_CODE_A:if(U<64)Pe===We?y+=String.fromCharCode(32+U):y+=String.fromCharCode(32+U+128),Pe=!1;else if(U<96)Pe===We?y+=String.fromCharCode(U-64):y+=String.fromCharCode(U+64),Pe=!1;else switch(U!==oe.CODE_STOP&&(q=!1),U){case oe.CODE_FNC_1:s&&(y.length===0?y+="]C1":y+="");break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_A:!We&&Pe?(We=!0,Pe=!1):We&&Pe?(We=!1,Pe=!1):Pe=!0;break;case oe.CODE_SHIFT:m=!0,d=oe.CODE_CODE_B;break;case oe.CODE_CODE_B:d=oe.CODE_CODE_B;break;case oe.CODE_CODE_C:d=oe.CODE_CODE_C;break;case oe.CODE_STOP:p=!0;break}break;case oe.CODE_CODE_B:if(U<96)Pe===We?y+=String.fromCharCode(32+U):y+=String.fromCharCode(32+U+128),Pe=!1;else switch(U!==oe.CODE_STOP&&(q=!1),U){case oe.CODE_FNC_1:s&&(y.length===0?y+="]C1":y+="");break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_B:!We&&Pe?(We=!0,Pe=!1):We&&Pe?(We=!1,Pe=!1):Pe=!0;break;case oe.CODE_SHIFT:m=!0,d=oe.CODE_CODE_A;break;case oe.CODE_CODE_A:d=oe.CODE_CODE_A;break;case oe.CODE_CODE_C:d=oe.CODE_CODE_C;break;case oe.CODE_STOP:p=!0;break}break;case oe.CODE_CODE_C:if(U<100)U<10&&(y+="0"),y+=U;else switch(U!==oe.CODE_STOP&&(q=!1),U){case oe.CODE_FNC_1:s&&(y.length===0?y+="]C1":y+="");break;case oe.CODE_CODE_A:d=oe.CODE_CODE_A;break;case oe.CODE_CODE_B:d=oe.CODE_CODE_B;break;case oe.CODE_STOP:p=!0;break}break}fr&&(d=d===oe.CODE_CODE_A?oe.CODE_CODE_B:oe.CODE_CODE_A)}const mn=O-v;if(O=n.getNextUnset(O),!n.isRange(O,Math.min(n.getSize(),O+(O-v)/2),!1))throw new W;if(te-=re*k,te%103!==k)throw new Oe;const Gn=y.length;if(Gn===0)throw new W;Gn>0&&q&&(d===oe.CODE_CODE_C?y=y.substring(0,Gn-2):y=y.substring(0,Gn-1));const Vt=(o[1]+o[0])/2,st=v+mn/2,Nt=f.length,fn=new Uint8Array(Nt);for(let fr=0;fr<Nt;fr++)fn[fr]=f[fr];const br=[new fe(Vt,e),new fe(st,e)];return new ve(y,fn,0,br,se.CODE_128,new Date().getTime())}}oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],oe.MAX_AVG_VARIANCE=.25,oe.MAX_INDIVIDUAL_VARIANCE=.7,oe.CODE_SHIFT=98,oe.CODE_CODE_C=99,oe.CODE_CODE_B=100,oe.CODE_CODE_A=101,oe.CODE_FNC_1=102,oe.CODE_FNC_2=97,oe.CODE_FNC_3=96,oe.CODE_FNC_4_A=101,oe.CODE_FNC_4_B=100,oe.CODE_START_A=103,oe.CODE_START_B=104,oe.CODE_START_C=105,oe.CODE_STOP=106;class Lt extends _t{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=Lt.findAsteriskPattern(n,s),l=n.getNextSet(o[1]),u=n.getSize(),f,d;do{Lt.recordPattern(n,l,s);let M=Lt.toNarrowWidePattern(s);if(M<0)throw new W;f=Lt.patternToChar(M),this.decodeRowResult+=f,d=l;for(let k of s)l+=k;l=n.getNextSet(l)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let p=0;for(let M of s)p+=M;let m=l-d-p;if(l!==u&&m*2<p)throw new W;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,k=0;for(let U=0;U<M;U++)k+=Lt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(U));if(this.decodeRowResult.charAt(M)!==Lt.ALPHABET_STRING.charAt(k%43))throw new Oe;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new W;let y;this.extendedMode?y=Lt.decodeExtended(this.decodeRowResult):y=this.decodeRowResult;let v=(o[1]+o[0])/2,O=d+p/2;return new ve(y,null,0,[new fe(v,e),new fe(O,e)],se.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let r=e.getSize(),s=e.getNextSet(0),o=0,l=s,u=!1,f=n.length;for(let d=s;d<r;d++)if(e.get(d)!==u)n[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(n)===Lt.ASTERISK_ENCODING&&e.isRange(Math.max(0,l-Math.floor((d-l)/2)),l,!1))return[l,d];l+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,u=!u}throw new W}static toNarrowWidePattern(e){let n=e.length,r=0,s;do{let o=2147483647;for(let f of e)f<o&&f>r&&(o=f);r=o,s=0;let l=0,u=0;for(let f=0;f<n;f++){let d=e[f];d>r&&(u|=1<<n-1-f,s++,l+=d)}if(s===3){for(let f=0;f<n&&s>0;f++){let d=e[f];if(d>r&&(s--,d*2>=l))return-1}return u}}while(s>3);return-1}static patternToChar(e){for(let n=0;n<Lt.CHARACTER_ENCODINGS.length;n++)if(Lt.CHARACTER_ENCODINGS[n]===e)return Lt.ALPHABET_STRING.charAt(n);if(e===Lt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(e){let n=e.length,r="";for(let s=0;s<n;s++){let o=e.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let l=e.charAt(s+1),u="\0";switch(o){case"+":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new $;break;case"$":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new $;break;case"%":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l==="X"||l==="Y"||l==="Z")u="";else throw new $;break;case"/":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new $;break}r+=u,s++}else r+=o}return r}}Lt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Lt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Lt.ASTERISK_ENCODING=148;class it extends _t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,r){let s=this.decodeStart(n),o=this.decodeEnd(n),l=new Ve;it.decodeMiddle(n,s[1],o[0],l);let u=l.toString(),f=null;r!=null&&(f=r.get(Fe.ALLOWED_LENGTHS)),f==null&&(f=it.DEFAULT_ALLOWED_LENGTHS);let d=u.length,p=!1,m=0;for(let O of f){if(d===O){p=!0;break}O>m&&(m=O)}if(!p&&d>m&&(p=!0),!p)throw new $;const y=[new fe(s[1],e),new fe(o[0],e)];return new ve(u,null,0,y,se.ITF,new Date().getTime())}static decodeMiddle(e,n,r,s){let o=new Int32Array(10),l=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),l.fill(0),u.fill(0);n<r;){_t.recordPattern(e,n,o);for(let d=0;d<5;d++){let p=2*d;l[d]=o[p],u[d]=o[p+1]}let f=it.decodeDigit(l);s.append(f.toString()),f=this.decodeDigit(u),s.append(f.toString()),o.forEach(function(d){n+=d})}}decodeStart(e){let n=it.skipWhiteSpace(e),r=it.findGuardPattern(e,n,it.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,n){let r=this.narrowLineWidth*10;r=r<n?r:n;for(let s=n-1;r>0&&s>=0&&!e.get(s);s--)r--;if(r!==0)throw new W}static skipWhiteSpace(e){const n=e.getSize(),r=e.getNextSet(0);if(r===n)throw new W;return r}decodeEnd(e){e.reverse();try{let n=it.skipWhiteSpace(e),r;try{r=it.findGuardPattern(e,n,it.END_PATTERN_REVERSED[0])}catch(o){o instanceof W&&(r=it.findGuardPattern(e,n,it.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let s=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-s,r}finally{e.reverse()}}static findGuardPattern(e,n,r){let s=r.length,o=new Int32Array(s),l=e.getSize(),u=!1,f=0,d=n;o.fill(0);for(let p=n;p<l;p++)if(e.get(p)!==u)o[f]++;else{if(f===s-1){if(_t.patternMatchVariance(o,r,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return[d,p];d+=o[0]+o[1],we.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,u=!u}throw new W}static decodeDigit(e){let n=it.MAX_AVG_VARIANCE,r=-1,s=it.PATTERNS.length;for(let o=0;o<s;o++){let l=it.PATTERNS[o],u=_t.patternMatchVariance(e,l,it.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,r=o):u===n&&(r=-1)}if(r>=0)return r%10;throw new W}}it.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],it.MAX_AVG_VARIANCE=.38,it.MAX_INDIVIDUAL_VARIANCE=.5,it.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],it.START_PATTERN=Int32Array.from([1,1,1,1]),it.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class wt extends _t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,r,s=0,o=Int32Array.from([0,0,0]);for(;!n;){o=Int32Array.from([0,0,0]),r=wt.findGuardPattern(e,s,!1,this.START_END_PATTERN,o);let l=r[0];s=r[1];let u=l-(s-l);u>=0&&(n=e.isRange(u,l,!1))}return r}static checkChecksum(e){return wt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return wt.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}return(1e3-r)%10}static decodeEnd(e,n){return wt.findGuardPattern(e,n,!1,wt.START_END_PATTERN,new Int32Array(wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,r,s){return this.findGuardPattern(e,n,r,s,new Int32Array(s.length))}static findGuardPattern(e,n,r,s,o){let l=e.getSize();n=r?e.getNextUnset(n):e.getNextSet(n);let u=0,f=n,d=s.length,p=r;for(let m=n;m<l;m++)if(e.get(m)!==p)o[u]++;else{if(u===d-1){if(_t.patternMatchVariance(o,s,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return Int32Array.from([f,m]);f+=o[0]+o[1];let y=o.slice(2,o.length-1);for(let v=0;v<u-1;v++)o[v]=y[v];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,p=!p}throw new W}static decodeDigit(e,n,r,s){this.recordPattern(e,r,n);let o=this.MAX_AVG_VARIANCE,l=-1,u=s.length;for(let f=0;f<u;f++){let d=s[f],p=_t.patternMatchVariance(n,d,wt.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,l=f)}if(l>=0)return l;throw new W}}wt.MAX_AVG_VARIANCE=.48,wt.MAX_INDIVIDUAL_VARIANCE=.7,wt.START_END_PATTERN=Int32Array.from([1,1,1]),wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Nr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),l=s.toString(),u=Nr.parseExtensionString(l),f=[new fe((r[0]+r[1])/2,e),new fe(o,e)],d=new ve(l,null,0,f,se.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1],u=0;for(let d=0;d<5&&l<o;d++){let p=wt.decodeDigit(e,s,l,wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let m of s)l+=m;p>=10&&(u|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==5)throw new W;let f=this.determineCheckDigit(u);if(Nr.extensionChecksum(r.toString())!==f)throw new W;return l}static extensionChecksum(e){let n=e.length,r=0;for(let s=n-2;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;r*=3;for(let s=n-1;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new W}static parseExtensionString(e){if(e.length!==5)return null;let n=Nr.parseExtension5String(e);return n==null?null:new Map([[Me.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let r=parseInt(e.substring(1)),s=(r/100).toString(),o=r%100,l=o<10?"0"+o:o.toString();return n+s+"."+l}}class mi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),l=s.toString(),u=mi.parseExtensionString(l),f=[new fe((r[0]+r[1])/2,e),new fe(o,e)],d=new ve(l,null,0,f,se.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1],u=0;for(let f=0;f<2&&l<o;f++){let d=wt.decodeDigit(e,s,l,wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+d%10);for(let p of s)l+=p;d>=10&&(u|=1<<1-f),f!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==2)throw new W;if(parseInt(r.toString())%4!==u)throw new W;return l}static parseExtensionString(e){return e.length!==2?null:new Map([[Me.ISSUE_NUMBER,parseInt(e)]])}}class Xi{static decodeRow(e,n,r){let s=wt.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Nr().decodeRow(e,n,s)}catch{return new mi().decodeRow(e,n,s)}}}Xi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Xe extends wt{constructor(){super(),this.decodeRowStringBuffer="",Xe.L_AND_G_PATTERNS=Xe.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=Xe.L_PATTERNS[e-10],r=new Int32Array(n.length);for(let s=0;s<n.length;s++)r[s]=n[n.length-s-1];Xe.L_AND_G_PATTERNS[e]=r}}decodeRow(e,n,r){let s=Xe.findStartGuardPattern(n),o=r==null?null:r.get(Fe.NEED_RESULT_POINT_CALLBACK);if(o!=null){const q=new fe((s[0]+s[1])/2,e);o.foundPossibleResultPoint(q)}let l=this.decodeMiddle(n,s,this.decodeRowStringBuffer),u=l.rowOffset,f=l.resultString;if(o!=null){const q=new fe(u,e);o.foundPossibleResultPoint(q)}let d=this.decodeEnd(n,u);if(o!=null){const q=new fe((d[0]+d[1])/2,e);o.foundPossibleResultPoint(q)}let p=d[1],m=p+(p-d[0]);if(m>=n.getSize()||!n.isRange(p,m,!1))throw new W;let y=f.toString();if(y.length<8)throw new $;if(!Xe.checkChecksum(y))throw new Oe;let v=(s[1]+s[0])/2,O=(d[1]+d[0])/2,M=this.getBarcodeFormat(),k=[new fe(v,e),new fe(O,e)],U=new ve(y,null,0,k,M,new Date().getTime()),te=0;try{let q=Xi.decodeRow(e,n,d[1]);U.putMetadata(Me.UPC_EAN_EXTENSION,q.getText()),U.putAllMetadata(q.getResultMetadata()),U.addResultPoints(q.getResultPoints()),te=q.getText().length}catch{}let re=r==null?null:r.get(Fe.ALLOWED_EAN_EXTENSIONS);if(re!=null){let q=!1;for(let We in re)if(te.toString()===We){q=!0;break}if(!q)throw new W}return U}decodeEnd(e,n){return Xe.findGuardPattern(e,n,!1,Xe.START_END_PATTERN,new Int32Array(Xe.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Xe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return Xe.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new $;r+=o}return(1e3-r)%10}}class _n extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1],u=0;for(let d=0;d<6&&l<o;d++){let p=Xe.decodeDigit(e,s,l,Xe.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let m of s)l+=m;p>=10&&(u|=1<<5-d)}r=_n.determineFirstDigit(r,u),l=Xe.findGuardPattern(e,l,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<6&&l<o;d++){let p=Xe.decodeDigit(e,s,l,Xe.L_PATTERNS);r+=String.fromCharCode(48+p);for(let m of s)l+=m}return{rowOffset:l,resultString:r}}getBarcodeFormat(){return se.EAN_13}static determineFirstDigit(e,n){for(let r=0;r<10;r++)if(n===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new W}}_n.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ys extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1];for(let f=0;f<4&&l<o;f++){let d=Xe.decodeDigit(e,s,l,Xe.L_PATTERNS);r+=String.fromCharCode(48+d);for(let p of s)l+=p}l=Xe.findGuardPattern(e,l,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<4&&l<o;f++){let d=Xe.decodeDigit(e,s,l,Xe.L_PATTERNS);r+=String.fromCharCode(48+d);for(let p of s)l+=p}return{rowOffset:l,resultString:r}}getBarcodeFormat(){return se.EAN_8}}class As extends Xe{constructor(){super(...arguments),this.ean13Reader=new _n}getBarcodeFormat(){return se.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,r))}decodeMiddle(e,n,r){return this.ean13Reader.decodeMiddle(e,n,r)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let r=new ve(n.substring(1),null,null,e.getResultPoints(),se.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new W}reset(){this.ean13Reader.reset()}}class Nn extends Xe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters.map(d=>d);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=e.getSize();let l=n[1],u=0;for(let d=0;d<6&&l<o;d++){const p=Nn.decodeDigit(e,s,l,Nn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let m of s)l+=m;p>=10&&(u|=1<<5-d)}let f=Nn.determineNumSysAndCheckDigit(r,u);return{rowOffset:l,resultString:f}}decodeEnd(e,n){return Nn.findGuardPatternWithoutCounters(e,n,!0,Nn.MIDDLE_END_PATTERN)}checkChecksum(e){return Xe.checkChecksum(Nn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let o=String.fromCharCode(48+r),l=String.fromCharCode(48+s);return o+e+l}throw W.getNotFoundInstance()}getBarcodeFormat(){return se.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new Ve;r.append(e.charAt(0));let s=n[5];switch(s){case 0:case 1:case 2:r.appendChars(n,0,2),r.append(s),r.append("0000"),r.appendChars(n,2,3);break;case 3:r.appendChars(n,0,3),r.append("00000"),r.appendChars(n,3,2);break;case 4:r.appendChars(n,0,4),r.append("00000"),r.append(n[4]);break;default:r.appendChars(n,0,5),r.append("0000"),r.append(s);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Nn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ji extends _t{constructor(e){super();let n=e==null?null:e.get(Fe.POSSIBLE_FORMATS),r=[];N(n)?(r.push(new _n),r.push(new As),r.push(new ys),r.push(new Nn)):(n.indexOf(se.EAN_13)>-1&&r.push(new _n),n.indexOf(se.UPC_A)>-1&&r.push(new As),n.indexOf(se.EAN_8)>-1&&r.push(new ys),n.indexOf(se.UPC_E)>-1&&r.push(new Nn)),this.readers=r}decodeRow(e,n,r){for(let s of this.readers)try{const o=s.decodeRow(e,n,r),l=o.getBarcodeFormat()===se.EAN_13&&o.getText().charAt(0)==="0",u=r==null?null:r.get(Fe.POSSIBLE_FORMATS),f=u==null||u.includes(se.UPC_A);if(l&&f){const d=o.getRawBytes(),p=new ve(o.getText().substring(1),d,d?d.length:null,o.getResultPoints(),se.UPC_A);return p.putAllMetadata(o.getResultMetadata()),p}return o}catch{}throw new W}reset(){for(let e of this.readers)e.reset()}}class Yt extends _t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let r=0;r<n.length;r++)if(_t.patternMatchVariance(e,n[r],Yt.MAX_INDIVIDUAL_VARIANCE)<Yt.MAX_AVG_VARIANCE)return r;throw new W}static count(e){return Ze.sum(new Int32Array(e))}static increment(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]>s&&(s=n[o],r=o);e[r]++}static decrement(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]<s&&(s=n[o],r=o);e[r]--}static isFinderPattern(e){let n=e[0]+e[1],r=n+e[2]+e[3],s=n/r;if(s>=Yt.MIN_FINDER_PATTERN_RATIO&&s<=Yt.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(let u of e)u>l&&(l=u),u<o&&(o=u);return l<10*o}return!1}}Yt.MAX_AVG_VARIANCE=.2,Yt.MAX_INDIVIDUAL_VARIANCE=.45,Yt.MIN_FINDER_PATTERN_RATIO=9.5/12,Yt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Cr{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Cr))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ei{constructor(e,n,r,s,o){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new fe(r,o)),this.resultPoints.push(new fe(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Ei))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class xn{constructor(){}static getRSSvalue(e,n,r){let s=0;for(let f of e)s+=f;let o=0,l=0,u=e.length;for(let f=0;f<u-1;f++){let d;for(d=1,l|=1<<f;d<e[f];d++,l&=~(1<<f)){let p=xn.combins(s-d-1,u-f-2);if(r&&l===0&&s-d-(u-f-1)>=u-f-1&&(p-=xn.combins(s-d-(u-f),u-f-2)),u-f-1>1){let m=0;for(let y=s-d-(u-f-2);y>n;y--)m+=xn.combins(s-d-y-1,u-f-3);p-=m*(u-1-f)}else s-d>n&&p--;o+=p}s-=d}return o}static combins(e,n){let r,s;e-n>n?(s=n,r=e-n):(s=e-n,r=n);let o=1,l=1;for(let u=e;u>r;u--)o*=u,l<=s&&(o/=l,l++);for(;l<=s;)o/=l,l++;return o}}class Ss{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let r=12*n,s=new De(r),o=0,u=e[0].getRightChar().getValue();for(let f=11;f>=0;--f)u&1<<f&&s.set(o),o++;for(let f=1;f<e.length;++f){let d=e[f],p=d.getLeftChar().getValue();for(let m=11;m>=0;--m)p&1<<m&&s.set(o),o++;if(d.getRightChar()!=null){let m=d.getRightChar().getValue();for(let y=11;y>=0;--y)m&1<<y&&s.set(o),o++}}return s}}class Fn{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Is{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Wt extends Is{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===Wt.FNC1}}Wt.FNC1="$";class Qn extends Is{constructor(e,n,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class an extends Is{constructor(e,n,r){if(super(e),n<0||n>10||r<0||r>10)throw new $;this.firstDigit=n,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===an.FNC1}isSecondDigitFNC1(){return this.secondDigit===an.FNC1}isAnyFNC1(){return this.firstDigit===an.FNC1||this.secondDigit===an.FNC1}}an.FNC1=10;class ue{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new W;let n=e.substring(0,2);for(let o of ue.TWO_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(2,o[2],e):ue.processFixedAI(2,o[1],e);if(e.length<3)throw new W;let r=e.substring(0,3);for(let o of ue.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(3,o[2],e):ue.processFixedAI(3,o[1],e);for(let o of ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(4,o[2],e):ue.processFixedAI(4,o[1],e);if(e.length<4)throw new W;let s=e.substring(0,4);for(let o of ue.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(4,o[2],e):ue.processFixedAI(4,o[1],e);throw new W}static processFixedAI(e,n,r){if(r.length<e)throw new W;let s=r.substring(0,e);if(r.length<e+n)throw new W;let o=r.substring(e,e+n),l=r.substring(e+n),u="("+s+")"+o,f=ue.parseFieldsInGeneralPurpose(l);return f==null?u:u+f}static processVariableAI(e,n,r){let s=r.substring(0,e),o;r.length<e+n?o=r.length:o=e+n;let l=r.substring(e,o),u=r.substring(o),f="("+s+")"+l,d=ue.parseFieldsInGeneralPurpose(u);return d==null?f:f+d}}ue.VARIABLE_LENGTH=[],ue.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ue.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ue.VARIABLE_LENGTH,20],["22",ue.VARIABLE_LENGTH,29],["30",ue.VARIABLE_LENGTH,8],["37",ue.VARIABLE_LENGTH,8],["90",ue.VARIABLE_LENGTH,30],["91",ue.VARIABLE_LENGTH,30],["92",ue.VARIABLE_LENGTH,30],["93",ue.VARIABLE_LENGTH,30],["94",ue.VARIABLE_LENGTH,30],["95",ue.VARIABLE_LENGTH,30],["96",ue.VARIABLE_LENGTH,30],["97",ue.VARIABLE_LENGTH,3],["98",ue.VARIABLE_LENGTH,30],["99",ue.VARIABLE_LENGTH,30]],ue.THREE_DIGIT_DATA_LENGTH=[["240",ue.VARIABLE_LENGTH,30],["241",ue.VARIABLE_LENGTH,30],["242",ue.VARIABLE_LENGTH,6],["250",ue.VARIABLE_LENGTH,30],["251",ue.VARIABLE_LENGTH,30],["253",ue.VARIABLE_LENGTH,17],["254",ue.VARIABLE_LENGTH,20],["400",ue.VARIABLE_LENGTH,30],["401",ue.VARIABLE_LENGTH,30],["402",17],["403",ue.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ue.VARIABLE_LENGTH,20],["421",ue.VARIABLE_LENGTH,15],["422",3],["423",ue.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ue.VARIABLE_LENGTH,15],["391",ue.VARIABLE_LENGTH,18],["392",ue.VARIABLE_LENGTH,15],["393",ue.VARIABLE_LENGTH,18],["703",ue.VARIABLE_LENGTH,30]],ue.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ue.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ue.VARIABLE_LENGTH,20],["8003",ue.VARIABLE_LENGTH,30],["8004",ue.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ue.VARIABLE_LENGTH,30],["8008",ue.VARIABLE_LENGTH,12],["8018",18],["8020",ue.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ue.VARIABLE_LENGTH,70],["8200",ue.VARIABLE_LENGTH,70]];class jr{constructor(e){this.buffer=new Ve,this.information=e}decodeAllCodes(e,n){let r=n,s=null;do{let o=this.decodeGeneralPurposeField(r,s),l=ue.parseFieldsInGeneralPurpose(o.getNewString());if(l!=null&&e.append(l),o.isRemaining()?s=""+o.getRemainingValue():s=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new an(this.information.getSize(),an.FNC1,an.FNC1):new an(this.information.getSize(),o-1,an.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),r=(n-8)/11,s=(n-8)%11;return new an(e+7,r,s)}extractNumericValueFromBitArray(e,n){return jr.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,r){let s=0;for(let o=0;o<r;++o)e.get(n+o)&&(s|=1<<r-o-1);return s}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new Qn(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Qn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let r=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new Qn(this.current.getPosition(),this.buffer.toString()):n=new Qn(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Fn(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new Qn(this.current.getPosition(),this.buffer.toString());return new Fn(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new Qn(this.current.getPosition(),this.buffer.toString());return new Fn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new Qn(this.current.getPosition(),this.buffer.toString());return new Fn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,8);return s>=232&&s<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Wt(e+5,Wt.FNC1);if(n>=5&&n<15)return new Wt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Wt(e+7,""+(r+1));if(r>=90&&r<116)return new Wt(e+7,""+(r+7));let s=this.extractNumericValueFromBitArray(e,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new $}return new Wt(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Wt(e+5,Wt.FNC1);if(n>=5&&n<15)return new Wt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Wt(e+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Pn("Decoding invalid alphanumeric value: "+r)}return new Wt(e+6,s)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class vs{constructor(e){this.information=e,this.generalDecoder=new jr(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class pn extends vs{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,r)}encodeCompressedGtinWithoutAI(e,n,r){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}pn.appendCheckDigit(e,r)}static appendCheckDigit(e,n){let r=0;for(let s=0;s<13;s++){let o=e.charAt(s+n).charCodeAt(0)-48;r+=s&1?o:3*o}r=10-r%10,r===10&&(r=0),e.append(r)}}pn.GTIN_SIZE=40;class Rn extends pn{constructor(e){super(e)}parseInformation(){let e=new Ve;e.append("(01)");let n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(Rn.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,Rn.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,Rn.HEADER_SIZE+44)}}Rn.HEADER_SIZE=4;class Ci extends vs{constructor(e){super(e)}parseInformation(){let e=new Ve;return this.getGeneralDecoder().decodeAllCodes(e,Ci.HEADER_SIZE)}}Ci.HEADER_SIZE=5;class yi extends pn{constructor(e){super(e)}encodeCompressedWeight(e,n,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,r);this.addWeightCode(e,s);let o=this.checkWeight(s),l=1e5;for(let u=0;u<5;++u)o/l===0&&e.append("0"),l/=10;e.append(o)}}class qn extends yi{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=qn.HEADER_SIZE+yi.GTIN_SIZE+qn.WEIGHT_SIZE)throw new W;let e=new Ve;return this.encodeCompressedGtin(e,qn.HEADER_SIZE),this.encodeCompressedWeight(e,qn.HEADER_SIZE+yi.GTIN_SIZE,qn.WEIGHT_SIZE),e.toString()}}qn.HEADER_SIZE=5,qn.WEIGHT_SIZE=15;class uo extends qn{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class co extends qn{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Un extends pn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Un.HEADER_SIZE+pn.GTIN_SIZE)throw new W;let e=new Ve;this.encodeCompressedGtin(e,Un.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Un.HEADER_SIZE+pn.GTIN_SIZE,Un.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Un.HEADER_SIZE+pn.GTIN_SIZE+Un.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Un.HEADER_SIZE=8,Un.LAST_DIGIT_SIZE=2;class nn extends pn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<nn.HEADER_SIZE+pn.GTIN_SIZE)throw new W;let e=new Ve;this.encodeCompressedGtin(e,nn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(nn.HEADER_SIZE+pn.GTIN_SIZE,nn.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(nn.HEADER_SIZE+pn.GTIN_SIZE+nn.LAST_DIGIT_SIZE,nn.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(nn.HEADER_SIZE+pn.GTIN_SIZE+nn.LAST_DIGIT_SIZE+nn.FIRST_THREE_DIGITS_SIZE,null);return e.append(s.getNewString()),e.toString()}}nn.HEADER_SIZE=8,nn.LAST_DIGIT_SIZE=2,nn.FIRST_THREE_DIGITS_SIZE=10;class mt extends yi{constructor(e,n,r){super(e),this.dateCode=r,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=mt.HEADER_SIZE+mt.GTIN_SIZE+mt.WEIGHT_SIZE+mt.DATE_SIZE)throw new W;let e=new Ve;return this.encodeCompressedGtin(e,mt.HEADER_SIZE),this.encodeCompressedWeight(e,mt.HEADER_SIZE+mt.GTIN_SIZE,mt.WEIGHT_SIZE),this.encodeCompressedDate(e,mt.HEADER_SIZE+mt.GTIN_SIZE+mt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,mt.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let s=r%32;r/=32;let o=r%12+1;r/=12;let l=r;l/10==0&&e.append("0"),e.append(l),o/10==0&&e.append("0"),e.append(o),s/10==0&&e.append("0"),e.append(s)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}mt.HEADER_SIZE=8,mt.WEIGHT_SIZE=20,mt.DATE_SIZE=16;function fo(w){try{if(w.get(1))return new Rn(w);if(!w.get(2))return new Ci(w);switch(jr.extractNumericValueFromBitArray(w,1,4)){case 4:return new uo(w);case 5:return new co(w)}switch(jr.extractNumericValueFromBitArray(w,1,5)){case 12:return new Un(w);case 13:return new nn(w)}switch(jr.extractNumericValueFromBitArray(w,1,7)){case 56:return new mt(w,"310","11");case 57:return new mt(w,"320","11");case 58:return new mt(w,"310","13");case 59:return new mt(w,"320","13");case 60:return new mt(w,"310","15");case 61:return new mt(w,"320","15");case 62:return new mt(w,"310","17");case 63:return new mt(w,"320","17")}}catch(e){throw console.log(e),new Pn("unknown decoder: "+w)}}class ut{constructor(e,n,r,s){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof ut?ut.equalsOrNull(e.leftchar,n.leftchar)&&ut.equalsOrNull(e.rightchar,n.rightchar)&&ut.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:ut.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ts{constructor(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Ts?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let r;return e.forEach((s,o)=>{n.forEach(l=>{s.getLeftChar().getValue()===l.getLeftChar().getValue()&&s.getRightChar().getValue()===l.getRightChar().getValue()&&s.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(r=!0)})}),r}}class Y extends Yt{constructor(e){super(...arguments),this.pairs=new Array(Y.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return Y.constructResult(this.decodeRow2pairs(e,n))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,Y.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(o){if(o instanceof W){if(!this.pairs.length)throw new W;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(e,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new W}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let r=n;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let l of e)this.pairs.push(l.getPairs());if(this.pairs.push(s.getPairs()),!Y.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(s);try{return this.checkRows(o,r+1)}catch(l){this.verbose&&console.log(l)}}throw new W}static isValidSequence(e){for(let n of Y.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let r=!0;for(let s=0;s<e.length;s++)if(e[s].getFinderPattern().getValue()!=n[s]){r=!1;break}if(r)return!0}return!1}storeRow(e,n){let r=0,s=!1,o=!1;for(;r<this.rows.length;){let l=this.rows[r];if(l.getRowNumber()>e){o=l.isEquivalent(this.pairs);break}s=l.isEquivalent(this.pairs),r++}o||s||Y.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Ts(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let r of n)if(r.getPairs().length!==e.length){for(let s of r.getPairs())for(let o of e)if(ut.equals(s,o))break}}static isPartialRow(e,n){for(let r of n){let s=!0;for(let o of e){let l=!1;for(let u of r.getPairs())if(o.equals(u)){l=!0;break}if(!l){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Ss.buildBitArray(e),s=fo(n).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),l=e[e.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],l[0],l[1]];return new ve(s,null,null,u,se.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),o=2;for(let u=1;u<this.pairs.size();++u){let f=this.pairs.get(u);s+=f.getLeftChar().getChecksumPortion(),o++;let d=f.getRightChar();d!=null&&(s+=d.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==n.getValue()}static getNextSecondBar(e,n){let r;return e.get(n)?(r=e.getNextUnset(n),r=e.getNextSet(r)):(r=e.getNextSet(n),r=e.getNextUnset(r)),r}retrieveNextPair(e,n,r){let s=n.length%2==0;this.startFromEven&&(s=!s);let o,l=!0,u=-1;do this.findNextPair(e,n,u),o=this.parseFoundFinderPattern(e,r,s),o==null?u=Y.getNextSecondBar(e,this.startEnd[0]):l=!1;while(l);let f=this.decodeDataCharacter(e,o,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new W;let d;try{d=this.decodeDataCharacter(e,o,s,!1)}catch(p){d=null,this.verbose&&console.log(p)}return new ut(f,d,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l;r>=0?l=r:this.isEmptyPair(n)?l=0:l=n[n.length-1].getFinderPattern().getStartEnd()[1];let u=n.length%2!=0;this.startFromEven&&(u=!u);let f=!1;for(;l<o&&(f=!e.get(l),!!f);)l++;let d=0,p=l;for(let m=l;m<o;m++)if(e.get(m)!=f)s[d]++;else{if(d==3){if(u&&Y.reverseCounters(s),Y.isFinderPattern(s)){this.startEnd[0]=p,this.startEnd[1]=m;return}u&&Y.reverseCounters(s),p+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,f=!f}throw new W}static reverseCounters(e){let n=e.length;for(let r=0;r<n/2;++r){let s=e[r];e[r]=e[n-r-1],e[n-r-1]=s}}parseFoundFinderPattern(e,n,r){let s,o,l;if(r){let d=this.startEnd[0]-1;for(;d>=0&&!e.get(d);)d--;d++,s=this.startEnd[0]-d,o=d,l=this.startEnd[1]}else o=this.startEnd[0],l=e.getNextUnset(this.startEnd[1]+1),s=l-this.startEnd[1];let u=this.getDecodeFinderCounters();we.arraycopy(u,0,u,1,u.length-1),u[0]=s;let f;try{f=this.parseFinderValue(u,Y.FINDER_PATTERNS)}catch{return null}return new Ei(f,[o,l],o,l,n)}decodeDataCharacter(e,n,r,s){let o=this.getDataCharacterCounters();for(let st=0;st<o.length;st++)o[st]=0;if(s)Y.recordPatternInReverse(e,n.getStartEnd()[0],o);else{Y.recordPattern(e,n.getStartEnd()[1],o);for(let st=0,Nt=o.length-1;st<Nt;st++,Nt--){let fn=o[st];o[st]=o[Nt],o[Nt]=fn}}let l=17,u=Ze.sum(new Int32Array(o))/l,f=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-f)/f>.3)throw new W;let d=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let st=0;st<o.length;st++){let Nt=1*o[st]/u,fn=Nt+.5;if(fn<1){if(Nt<.3)throw new W;fn=1}else if(fn>8){if(Nt>8.7)throw new W;fn=8}let br=st/2;st&1?(p[br]=fn,y[br]=Nt-fn):(d[br]=fn,m[br]=Nt-fn)}this.adjustOddEvenCounts(l);let v=4*n.getValue()+(r?0:2)+(s?0:1)-1,O=0,M=0;for(let st=d.length-1;st>=0;st--){if(Y.isNotA1left(n,r,s)){let Nt=Y.WEIGHTS[v][2*st];M+=d[st]*Nt}O+=d[st]}let k=0;for(let st=p.length-1;st>=0;st--)if(Y.isNotA1left(n,r,s)){let Nt=Y.WEIGHTS[v][2*st+1];k+=p[st]*Nt}let U=M+k;if(O&1||O>13||O<4)throw new W;let te=(13-O)/2,re=Y.SYMBOL_WIDEST[te],q=9-re,We=xn.getRSSvalue(d,re,!0),Pe=xn.getRSSvalue(p,q,!1),mn=Y.EVEN_TOTAL_SUBSET[te],Gn=Y.GSUM[te],Vt=We*mn+Pe+Gn;return new Cr(Vt,U)}static isNotA1left(e,n,r){return!(e.getValue()==0&&n&&r)}adjustOddEvenCounts(e){let n=Ze.sum(new Int32Array(this.getOddCounts())),r=Ze.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;n>13?o=!0:n<4&&(s=!0);let l=!1,u=!1;r>13?u=!0:r<4&&(l=!0);let f=n+r-e,d=(n&1)==1,p=(r&1)==0;if(f==1)if(d){if(p)throw new W;o=!0}else{if(!p)throw new W;u=!0}else if(f==-1)if(d){if(p)throw new W;s=!0}else{if(!p)throw new W;l=!0}else if(f==0){if(d){if(!p)throw new W;n<r?(s=!0,u=!0):(o=!0,l=!0)}else if(p)throw new W}else throw new W;if(s){if(o)throw new W;Y.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&Y.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new W;Y.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Y.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Y.SYMBOL_WIDEST=[7,5,4,3,1],Y.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Y.GSUM=[0,348,1388,2948,3988],Y.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Y.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Y.FINDER_PAT_A=0,Y.FINDER_PAT_B=1,Y.FINDER_PAT_C=2,Y.FINDER_PAT_D=3,Y.FINDER_PAT_E=4,Y.FINDER_PAT_F=5,Y.FINDER_PATTERN_SEQUENCES=[[Y.FINDER_PAT_A,Y.FINDER_PAT_A],[Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B],[Y.FINDER_PAT_A,Y.FINDER_PAT_C,Y.FINDER_PAT_B,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_C],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_E,Y.FINDER_PAT_B,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F],[Y.FINDER_PAT_A,Y.FINDER_PAT_A,Y.FINDER_PAT_B,Y.FINDER_PAT_B,Y.FINDER_PAT_C,Y.FINDER_PAT_D,Y.FINDER_PAT_D,Y.FINDER_PAT_E,Y.FINDER_PAT_E,Y.FINDER_PAT_F,Y.FINDER_PAT_F]],Y.MAX_PAIRS=11;class ho extends Cr{constructor(e,n,r){super(e,n),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class xt extends Yt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,r){const s=this.decodePair(n,!1,e,r);xt.addOrTally(this.possibleLeftPairs,s),n.reverse();let o=this.decodePair(n,!0,e,r);xt.addOrTally(this.possibleRightPairs,o),n.reverse();for(let l of this.possibleLeftPairs)if(l.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&xt.checkChecksum(l,u))return xt.constructResult(l,u)}throw new W}static addOrTally(e,n){if(n==null)return;let r=!1;for(let s of e)if(s.getValue()===n.getValue()){s.incrementCount(),r=!0;break}r||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let r=4537077*e.getValue()+n.getValue(),s=new String(r).toString(),o=new Ve;for(let d=13-s.length;d>0;d--)o.append("0");o.append(s);let l=0;for(let d=0;d<13;d++){let p=o.charAt(d).charCodeAt(0)-48;l+=d&1?p:3*p}l=10-l%10,l===10&&(l=0),o.append(l.toString());let u=e.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new ve(o.toString(),null,0,[u[0],u[1],f[0],f[1]],se.RSS_14,new Date().getTime())}static checkChecksum(e,n){let r=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(e,n,r,s){try{let o=this.findFinderPattern(e,n),l=this.parseFoundFinderPattern(e,r,n,o),u=s==null?null:s.get(Fe.NEED_RESULT_POINT_CALLBACK);if(u!=null){let p=(o[0]+o[1])/2;n&&(p=e.getSize()-1-p),u.foundPossibleResultPoint(new fe(p,r))}let f=this.decodeDataCharacter(e,l,!0),d=this.decodeDataCharacter(e,l,!1);return new ho(1597*f.getValue()+d.getValue(),f.getChecksumPortion()+4*d.getChecksumPortion(),l)}catch{return null}}decodeDataCharacter(e,n,r){let s=this.getDataCharacterCounters();for(let k=0;k<s.length;k++)s[k]=0;if(r)_t.recordPatternInReverse(e,n.getStartEnd()[0],s);else{_t.recordPattern(e,n.getStartEnd()[1]+1,s);for(let k=0,U=s.length-1;k<U;k++,U--){let te=s[k];s[k]=s[U],s[U]=te}}let o=r?16:15,l=Ze.sum(new Int32Array(s))/o,u=this.getOddCounts(),f=this.getEvenCounts(),d=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(let k=0;k<s.length;k++){let U=s[k]/l,te=Math.floor(U+.5);te<1?te=1:te>8&&(te=8);let re=Math.floor(k/2);k&1?(f[re]=te,p[re]=U-te):(u[re]=te,d[re]=U-te)}this.adjustOddEvenCounts(r,o);let m=0,y=0;for(let k=u.length-1;k>=0;k--)y*=9,y+=u[k],m+=u[k];let v=0,O=0;for(let k=f.length-1;k>=0;k--)v*=9,v+=f[k],O+=f[k];let M=y+3*v;if(r){if(m&1||m>12||m<4)throw new W;let k=(12-m)/2,U=xt.OUTSIDE_ODD_WIDEST[k],te=9-U,re=xn.getRSSvalue(u,U,!1),q=xn.getRSSvalue(f,te,!0),We=xt.OUTSIDE_EVEN_TOTAL_SUBSET[k],Pe=xt.OUTSIDE_GSUM[k];return new Cr(re*We+q+Pe,M)}else{if(O&1||O>10||O<4)throw new W;let k=(10-O)/2,U=xt.INSIDE_ODD_WIDEST[k],te=9-U,re=xn.getRSSvalue(u,U,!0),q=xn.getRSSvalue(f,te,!1),We=xt.INSIDE_ODD_TOTAL_SUBSET[k],Pe=xt.INSIDE_GSUM[k];return new Cr(q*We+re+Pe,M)}}findFinderPattern(e,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),o=!1,l=0;for(;l<s&&(o=!e.get(l),n!==o);)l++;let u=0,f=l;for(let d=l;d<s;d++)if(e.get(d)!==o)r[u]++;else{if(u===3){if(Yt.isFinderPattern(r))return[f,d];f+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,o=!o}throw new W}parseFoundFinderPattern(e,n,r,s){let o=e.get(s[0]),l=s[0]-1;for(;l>=0&&o!==e.get(l);)l--;l++;const u=s[0]-l,f=this.getDecodeFinderCounters(),d=new Int32Array(f.length);we.arraycopy(f,0,d,1,f.length-1),d[0]=u;const p=this.parseFinderValue(d,xt.FINDER_PATTERNS);let m=l,y=s[1];return r&&(m=e.getSize()-1-m,y=e.getSize()-1-y),new Ei(p,[l,s[1]],m,y,n)}adjustOddEvenCounts(e,n){let r=Ze.sum(new Int32Array(this.getOddCounts())),s=Ze.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,u=!1,f=!1;e?(r>12?l=!0:r<4&&(o=!0),s>12?f=!0:s<4&&(u=!0)):(r>11?l=!0:r<5&&(o=!0),s>10?f=!0:s<4&&(u=!0));let d=r+s-n,p=(r&1)===(e?1:0),m=(s&1)===1;if(d===1)if(p){if(m)throw new W;l=!0}else{if(!m)throw new W;f=!0}else if(d===-1)if(p){if(m)throw new W;o=!0}else{if(!m)throw new W;u=!0}else if(d===0){if(p){if(!m)throw new W;r<s?(o=!0,f=!0):(l=!0,u=!0)}else if(m)throw new W}else throw new W;if(o){if(l)throw new W;Yt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&Yt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new W;Yt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Yt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}xt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],xt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],xt.OUTSIDE_GSUM=[0,161,961,2015,2715],xt.INSIDE_GSUM=[0,336,1036,1516],xt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],xt.INSIDE_ODD_WIDEST=[2,4,6,8],xt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Yr extends _t{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const r=e?e.get(Fe.POSSIBLE_FORMATS):null,s=e&&e.get(Fe.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(se.EAN_13)||r.includes(se.UPC_A)||r.includes(se.EAN_8)||r.includes(se.UPC_E))&&this.readers.push(new ji(e)),r.includes(se.CODE_39)&&this.readers.push(new Lt(s)),r.includes(se.CODE_128)&&this.readers.push(new oe),r.includes(se.ITF)&&this.readers.push(new it),r.includes(se.RSS_14)&&this.readers.push(new xt),r.includes(se.RSS_EXPANDED)&&this.readers.push(new Y(this.verbose))):(this.readers.push(new ji(e)),this.readers.push(new Lt),this.readers.push(new ji(e)),this.readers.push(new oe),this.readers.push(new it),this.readers.push(new xt),this.readers.push(new Y(this.verbose)))}decodeRow(e,n,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(e,n,r)}catch{}throw new W}reset(){this.readers.forEach(e=>e.reset())}}class go extends be{constructor(e=500,n){super(new Yr(n),e,n)}}class $e{constructor(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ze{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ke{constructor(e,n,r,s,o,l){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=l;let u=0;const f=l.getECCodewords(),d=l.getECBlocks();for(let p of d)u+=p.getCount()*(p.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if(e&1||n&1)throw new $;for(let r of Ke.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===n)return r;throw new $}toString(){return""+this.versionNumber}static buildVersions(){return[new Ke(1,10,10,8,8,new $e(5,new ze(1,3))),new Ke(2,12,12,10,10,new $e(7,new ze(1,5))),new Ke(3,14,14,12,12,new $e(10,new ze(1,8))),new Ke(4,16,16,14,14,new $e(12,new ze(1,12))),new Ke(5,18,18,16,16,new $e(14,new ze(1,18))),new Ke(6,20,20,18,18,new $e(18,new ze(1,22))),new Ke(7,22,22,20,20,new $e(20,new ze(1,30))),new Ke(8,24,24,22,22,new $e(24,new ze(1,36))),new Ke(9,26,26,24,24,new $e(28,new ze(1,44))),new Ke(10,32,32,14,14,new $e(36,new ze(1,62))),new Ke(11,36,36,16,16,new $e(42,new ze(1,86))),new Ke(12,40,40,18,18,new $e(48,new ze(1,114))),new Ke(13,44,44,20,20,new $e(56,new ze(1,144))),new Ke(14,48,48,22,22,new $e(68,new ze(1,174))),new Ke(15,52,52,24,24,new $e(42,new ze(2,102))),new Ke(16,64,64,14,14,new $e(56,new ze(2,140))),new Ke(17,72,72,16,16,new $e(36,new ze(4,92))),new Ke(18,80,80,18,18,new $e(48,new ze(4,114))),new Ke(19,88,88,20,20,new $e(56,new ze(4,144))),new Ke(20,96,96,22,22,new $e(68,new ze(4,174))),new Ke(21,104,104,24,24,new $e(56,new ze(6,136))),new Ke(22,120,120,18,18,new $e(68,new ze(6,175))),new Ke(23,132,132,20,20,new $e(62,new ze(8,163))),new Ke(24,144,144,22,22,new $e(62,new ze(8,156),new ze(2,155))),new Ke(25,8,18,6,16,new $e(7,new ze(1,5))),new Ke(26,8,32,6,14,new $e(11,new ze(1,10))),new Ke(27,12,26,10,24,new $e(14,new ze(1,16))),new Ke(28,12,36,10,16,new $e(18,new ze(1,22))),new Ke(29,16,36,14,16,new $e(24,new ze(1,32))),new Ke(30,16,48,14,22,new $e(28,new ze(1,49)))]}}Ke.VERSIONS=Ke.buildVersions();class Sn{constructor(e){const n=e.getHeight();if(n<8||n>144||n&1)throw new $;this.version=Sn.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ot(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),r=e.getWidth();return Ke.getVersionForDimensions(n,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,r=4,s=0;const o=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth();let u=!1,f=!1,d=!1,p=!1;do if(r===o&&s===0&&!u)e[n++]=this.readCorner1(o,l)&255,r-=2,s+=2,u=!0;else if(r===o-2&&s===0&&l&3&&!f)e[n++]=this.readCorner2(o,l)&255,r-=2,s+=2,f=!0;else if(r===o+4&&s===2&&!(l&7)&&!d)e[n++]=this.readCorner3(o,l)&255,r-=2,s+=2,d=!0;else if(r===o-2&&s===0&&(l&7)===4&&!p)e[n++]=this.readCorner4(o,l)&255,r-=2,s+=2,p=!0;else{do r<o&&s>=0&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,l)&255),r-=2,s+=2;while(r>=0&&s<l);r+=1,s+=3;do r>=0&&s<l&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,l)&255),r+=2,s-=2;while(r<o&&s>=0);r+=3,s+=1}while(r<o||s<l);if(n!==this.version.getTotalCodewords())throw new $;return e}readModule(e,n,r,s){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=s,e+=4-(s+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,r,s){let o=0;return this.readModule(e-2,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-2,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n,r,s)&&(o|=1),o<<=1,this.readModule(e,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e,n,r,s)&&(o|=1),o}readCorner1(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}readCorner2(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner3(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner4(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new G("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),l=n/s|0,u=r/o|0,f=l*s,d=u*o,p=new ot(d,f);for(let m=0;m<l;++m){const y=m*s;for(let v=0;v<u;++v){const O=v*o;for(let M=0;M<s;++M){const k=m*(s+2)+1+M,U=y+M;for(let te=0;te<o;++te){const re=v*(o+2)+1+te;if(e.get(re,k)){const q=O+te;p.set(q,U)}}}}}return p}}class _s{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const r=n.getECBlocks();let s=0;const o=r.getECBlocks();for(let M of o)s+=M.getCount();const l=new Array(s);let u=0;for(let M of o)for(let k=0;k<M.getCount();k++){const U=M.getDataCodewords(),te=r.getECCodewords()+U;l[u++]=new _s(U,new Uint8Array(te))}const d=l[0].codewords.length-r.getECCodewords(),p=d-1;let m=0;for(let M=0;M<p;M++)for(let k=0;k<u;k++)l[k].codewords[M]=e[m++];const y=n.getVersionNumber()===24,v=y?8:u;for(let M=0;M<v;M++)l[M].codewords[d-1]=e[m++];const O=l[0].codewords.length;for(let M=d;M<O;M++)for(let k=0;k<u;k++){const U=y?(k+8)%u:k,te=y&&U>7?M-1:M;l[U].codewords[te]=e[m++]}if(m!==e.length)throw new G;return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ns{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new G(""+e);let n=0,r=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(r>0){const l=8-r,u=e<l?e:l,f=l-u,d=255>>8-u<<f;n=(o[s]&d)>>f,e-=u,r+=u,r===8&&(r=0,s++)}if(e>0){for(;e>=8;)n=n<<8|o[s]&255,s++,e-=8;if(e>0){const l=8-e,u=255>>l<<l;n=n<<e|(o[s]&u)>>l,r+=e}}return this.bitOffset=r,this.byteOffset=s,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ft;(function(w){w[w.PAD_ENCODE=0]="PAD_ENCODE",w[w.ASCII_ENCODE=1]="ASCII_ENCODE",w[w.C40_ENCODE=2]="C40_ENCODE",w[w.TEXT_ENCODE=3]="TEXT_ENCODE",w[w.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",w[w.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",w[w.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ft||(Ft={}));class Vn{static decode(e){const n=new Ns(e),r=new Ve,s=new Ve,o=new Array;let l=Ft.ASCII_ENCODE;do if(l===Ft.ASCII_ENCODE)l=this.decodeAsciiSegment(n,r,s);else{switch(l){case Ft.C40_ENCODE:this.decodeC40Segment(n,r);break;case Ft.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Ft.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Ft.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Ft.BASE256_ENCODE:this.decodeBase256Segment(n,r,o);break;default:throw new $}l=Ft.ASCII_ENCODE}while(l!==Ft.PAD_ENCODE&&n.available()>0);return s.length()>0&&r.append(s.toString()),new at(e,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,n,r){let s=!1;do{let o=e.readBits(8);if(o===0)throw new $;if(o<=128)return s&&(o+=128),n.append(String.fromCharCode(o-1)),Ft.ASCII_ENCODE;if(o===129)return Ft.PAD_ENCODE;if(o<=229){const l=o-130;l<10&&n.append("0"),n.append(""+l)}else switch(o){case 230:return Ft.C40_ENCODE;case 231:return Ft.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Ft.ANSIX12_ENCODE;case 239:return Ft.TEXT_ENCODE;case 240:return Ft.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new $;break}}while(e.available()>0);return Ft.ASCII_ENCODE}static decodeC40Segment(e,n){let r=!1;const s=[];let o=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),s);for(let u=0;u<3;u++){const f=s[u];switch(o){case 0:if(f<3)o=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){const d=this.C40_BASIC_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else throw new $;break;case 1:r?(n.append(String.fromCharCode(f+128)),r=!1):n.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){const d=this.C40_SHIFT2_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else switch(f){case 27:n.append("");break;case 30:r=!0;break;default:throw new $}o=0;break;case 3:r?(n.append(String.fromCharCode(f+224)),r=!1):n.append(String.fromCharCode(f+96)),o=0;break;default:throw new $}}}while(e.available()>0)}static decodeTextSegment(e,n){let r=!1,s=[],o=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),s);for(let u=0;u<3;u++){const f=s[u];switch(o){case 0:if(f<3)o=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){const d=this.TEXT_BASIC_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else throw new $;break;case 1:r?(n.append(String.fromCharCode(f+128)),r=!1):n.append(String.fromCharCode(f)),o=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){const d=this.TEXT_SHIFT2_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d)}else switch(f){case 27:n.append("");break;case 30:r=!0;break;default:throw new $}o=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){const d=this.TEXT_SHIFT3_SET_CHARS[f];r?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),r=!1):n.append(d),o=0}else throw new $;break;default:throw new $}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const r=[];do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),r);for(let o=0;o<3;o++){const l=r[o];switch(l){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(l<14)n.append(String.fromCharCode(l+44));else if(l<40)n.append(String.fromCharCode(l+51));else throw new $;break}}}while(e.available()>0)}static parseTwoBytes(e,n,r){let s=(e<<8)+n-1,o=Math.floor(s/1600);r[0]=o,s-=o*1600,o=Math.floor(s/40),r[1]=o,r[2]=s-o*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let s=e.readBits(6);if(s===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}s&32||(s|=64),n.append(String.fromCharCode(s))}}while(e.available()>0)}static decodeBase256Segment(e,n,r){let s=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),s++);let l;if(o===0?l=e.available()/8|0:o<250?l=o:l=250*(o-249)+this.unrandomize255State(e.readBits(8),s++),l<0)throw new $;const u=new Uint8Array(l);for(let f=0;f<l;f++){if(e.available()<8)throw new $;u[f]=this.unrandomize255State(e.readBits(8),s++)}r.push(u);try{n.append(Mt.decode(u,Ae.ISO88591))}catch(f){throw new Pn("Platform does not support required encoding: "+f.message)}}static unrandomize255State(e,n){const r=149*n%255+1,s=e-r;return s>=0?s:s+256}}Vn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Vn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Vn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Vn.TEXT_SHIFT2_SET_CHARS=Vn.C40_SHIFT2_SET_CHARS,Vn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Yi{constructor(){this.rsDecoder=new Wr(qe.DATA_MATRIX_FIELD_256)}decode(e){const n=new Sn(e),r=n.getVersion(),s=n.readCodewords(),o=_s.getDataBlocks(s,r);let l=0;for(let d of o)l+=d.getNumDataCodewords();const u=new Uint8Array(l),f=o.length;for(let d=0;d<f;d++){const p=o[d],m=p.getCodewords(),y=p.getNumDataCodewords();this.correctErrors(m,y);for(let v=0;v<y;v++)u[v*f+d]=m[v]}return Vn.decode(u)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new Oe}for(let s=0;s<n;s++)e[s]=r[s]}}class pt{constructor(e){this.image=e,this.rectangleDetector=new Kn(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new W;n=this.shiftToModuleCenter(n);const r=n[0],s=n[1],o=n[2],l=n[3];let u=this.transitionsBetween(r,l)+1,f=this.transitionsBetween(o,l)+1;(u&1)===1&&(u+=1),(f&1)===1&&(f+=1),4*u<7*f&&4*f<7*u&&(u=f=Math.max(u,f));let d=pt.sampleGrid(this.image,r,s,o,l,u,f);return new Gr(d,[r,s,o,l])}static shiftPoint(e,n,r){let s=(n.getX()-e.getX())/(r+1),o=(n.getY()-e.getY())/(r+1);return new fe(e.getX()+s,e.getY()+o)}static moveAway(e,n,r){let s=e.getX(),o=e.getY();return s<n?s-=1:s+=1,o<r?o-=1:o+=1,new fe(s,o)}detectSolid1(e){let n=e[0],r=e[1],s=e[3],o=e[2],l=this.transitionsBetween(n,r),u=this.transitionsBetween(r,s),f=this.transitionsBetween(s,o),d=this.transitionsBetween(o,n),p=l,m=[o,n,r,s];return p>u&&(p=u,m[0]=n,m[1]=r,m[2]=s,m[3]=o),p>f&&(p=f,m[0]=r,m[1]=s,m[2]=o,m[3]=n),p>d&&(m[0]=s,m[1]=o,m[2]=n,m[3]=r),m}detectSolid2(e){let n=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(n,o),u=pt.shiftPoint(r,s,(l+1)*4),f=pt.shiftPoint(s,r,(l+1)*4),d=this.transitionsBetween(u,n),p=this.transitionsBetween(f,o);return d<p?(e[0]=n,e[1]=r,e[2]=s,e[3]=o):(e[0]=r,e[1]=s,e[2]=o,e[3]=n),e}correctTopRight(e){let n=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(n,o),u=this.transitionsBetween(r,o),f=pt.shiftPoint(n,r,(u+1)*4),d=pt.shiftPoint(s,r,(l+1)*4);l=this.transitionsBetween(f,o),u=this.transitionsBetween(d,o);let p=new fe(o.getX()+(s.getX()-r.getX())/(l+1),o.getY()+(s.getY()-r.getY())/(l+1)),m=new fe(o.getX()+(n.getX()-r.getX())/(u+1),o.getY()+(n.getY()-r.getY())/(u+1));if(!this.isValid(p))return this.isValid(m)?m:null;if(!this.isValid(m))return p;let y=this.transitionsBetween(f,p)+this.transitionsBetween(d,p),v=this.transitionsBetween(f,m)+this.transitionsBetween(d,m);return y>v?p:m}shiftToModuleCenter(e){let n=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(s,o)+1,f=pt.shiftPoint(n,r,u*4),d=pt.shiftPoint(s,r,l*4);l=this.transitionsBetween(f,o)+1,u=this.transitionsBetween(d,o)+1,(l&1)===1&&(l+=1),(u&1)===1&&(u+=1);let p=(n.getX()+r.getX()+s.getX()+o.getX())/4,m=(n.getY()+r.getY()+s.getY()+o.getY())/4;n=pt.moveAway(n,p,m),r=pt.moveAway(r,p,m),s=pt.moveAway(s,p,m),o=pt.moveAway(o,p,m);let y,v;return f=pt.shiftPoint(n,r,u*4),f=pt.shiftPoint(f,o,l*4),y=pt.shiftPoint(r,n,u*4),y=pt.shiftPoint(y,s,l*4),d=pt.shiftPoint(s,o,u*4),d=pt.shiftPoint(d,r,l*4),v=pt.shiftPoint(o,s,u*4),v=pt.shiftPoint(v,n,l*4),[f,y,d,v]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,r,s,o,l,u){return Ln.getInstance().sampleGrid(e,l,u,.5,.5,l-.5,.5,l-.5,u-.5,.5,u-.5,n.getX(),n.getY(),o.getX(),o.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(e,n){let r=Math.trunc(e.getX()),s=Math.trunc(e.getY()),o=Math.trunc(n.getX()),l=Math.trunc(n.getY()),u=Math.abs(l-s)>Math.abs(o-r);if(u){let M=r;r=s,s=M,M=o,o=l,l=M}let f=Math.abs(o-r),d=Math.abs(l-s),p=-f/2,m=s<l?1:-1,y=r<o?1:-1,v=0,O=this.image.get(u?s:r,u?r:s);for(let M=r,k=s;M!==o;M+=y){let U=this.image.get(u?k:M,u?M:k);if(U!==O&&(v++,O=U),p+=d,p>0){if(k===l)break;k+=m,p-=f}}return v}}class zn{constructor(){this.decoder=new Yi}decode(e,n=null){let r,s;if(n!=null&&n.has(Fe.PURE_BARCODE)){const d=zn.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(d),s=zn.NO_POINTS}else{const d=new pt(e.getBlackMatrix()).detect();r=this.decoder.decode(d.getBits()),s=d.getPoints()}const o=r.getRawBytes(),l=new ve(r.getText(),o,8*o.length,s,se.DATA_MATRIX,we.currentTimeMillis()),u=r.getByteSegments();u!=null&&l.putMetadata(Me.BYTE_SEGMENTS,u);const f=r.getECLevel();return f!=null&&l.putMetadata(Me.ERROR_CORRECTION_LEVEL,f),l}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new W;const s=this.moduleSize(n,e);let o=n[1];const l=r[1];let u=n[0];const d=(r[0]-u+1)/s,p=(l-o+1)/s;if(d<=0||p<=0)throw new W;const m=s/2;o+=m,u+=m;const y=new ot(d,p);for(let v=0;v<p;v++){const O=o+v*s;for(let M=0;M<d;M++)e.get(u+M*s,O)&&y.set(M,v)}return y}static moduleSize(e,n){const r=n.getWidth();let s=e[0];const o=e[1];for(;s<r&&n.get(s,o);)s++;if(s===r)throw new W;const l=s-e[0];if(l===0)throw new W;return l}}zn.NO_POINTS=[];class Al extends be{constructor(e=500){super(new zn,e)}}var Zr;(function(w){w[w.L=0]="L",w[w.M=1]="M",w[w.Q=2]="Q",w[w.H=3]="H"})(Zr||(Zr={}));class ct{constructor(e,n,r){this.value=e,this.stringValue=n,this.bits=r,ct.FOR_BITS.set(r,this),ct.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return ct.L;case"M":return ct.M;case"Q":return ct.Q;case"H":return ct.H;default:throw new Z(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof ct))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=ct.FOR_BITS.size)throw new G;return ct.FOR_BITS.get(e)}}ct.FOR_BITS=new Map,ct.FOR_VALUE=new Map,ct.L=new ct(Zr.L,"L",1),ct.M=new ct(Zr.M,"M",0),ct.Q=new ct(Zr.Q,"Q",3),ct.H=new ct(Zr.H,"H",2);class Zt{constructor(e){this.errorCorrectionLevel=ct.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return me.bitCount(e^n)}static decodeFormatInformation(e,n){const r=Zt.doDecodeFormatInformation(e,n);return r!==null?r:Zt.doDecodeFormatInformation(e^Zt.FORMAT_INFO_MASK_QR,n^Zt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let r=Number.MAX_SAFE_INTEGER,s=0;for(const o of Zt.FORMAT_INFO_DECODE_LOOKUP){const l=o[0];if(l===e||l===n)return new Zt(o[1]);let u=Zt.numBitsDiffering(e,l);u<r&&(s=o[1],r=u),e!==n&&(u=Zt.numBitsDiffering(n,l),u<r&&(s=o[1],r=u))}return r<=3?new Zt(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Zt))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}Zt.FORMAT_INFO_MASK_QR=21522,Zt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class P{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const r of n)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class I{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ye{constructor(e,n,...r){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=r;let s=0;const o=r[0].getECCodewordsPerBlock(),l=r[0].getECBlocks();for(const u of l)s+=u.getCount()*(u.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new $;try{return this.getVersionForNumber((e-17)/4)}catch{throw new $}}static getVersionForNumber(e){if(e<1||e>40)throw new G;return ye.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<ye.VERSION_DECODE_INFO.length;s++){const o=ye.VERSION_DECODE_INFO[s];if(o===e)return ye.getVersionForNumber(s+7);const l=Zt.numBitsDiffering(e,o);l<n&&(r=s+7,n=l)}return n<=3?ye.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new ot(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const o=this.alignmentPatternCenters[s]-2;for(let l=0;l<r;l++)s===0&&(l===0||l===r-1)||s===r-1&&l===0||n.setRegion(this.alignmentPatternCenters[l]-2,o,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ye.VERSIONS=[new ye(1,new Int32Array(0),new P(7,new I(1,19)),new P(10,new I(1,16)),new P(13,new I(1,13)),new P(17,new I(1,9))),new ye(2,Int32Array.from([6,18]),new P(10,new I(1,34)),new P(16,new I(1,28)),new P(22,new I(1,22)),new P(28,new I(1,16))),new ye(3,Int32Array.from([6,22]),new P(15,new I(1,55)),new P(26,new I(1,44)),new P(18,new I(2,17)),new P(22,new I(2,13))),new ye(4,Int32Array.from([6,26]),new P(20,new I(1,80)),new P(18,new I(2,32)),new P(26,new I(2,24)),new P(16,new I(4,9))),new ye(5,Int32Array.from([6,30]),new P(26,new I(1,108)),new P(24,new I(2,43)),new P(18,new I(2,15),new I(2,16)),new P(22,new I(2,11),new I(2,12))),new ye(6,Int32Array.from([6,34]),new P(18,new I(2,68)),new P(16,new I(4,27)),new P(24,new I(4,19)),new P(28,new I(4,15))),new ye(7,Int32Array.from([6,22,38]),new P(20,new I(2,78)),new P(18,new I(4,31)),new P(18,new I(2,14),new I(4,15)),new P(26,new I(4,13),new I(1,14))),new ye(8,Int32Array.from([6,24,42]),new P(24,new I(2,97)),new P(22,new I(2,38),new I(2,39)),new P(22,new I(4,18),new I(2,19)),new P(26,new I(4,14),new I(2,15))),new ye(9,Int32Array.from([6,26,46]),new P(30,new I(2,116)),new P(22,new I(3,36),new I(2,37)),new P(20,new I(4,16),new I(4,17)),new P(24,new I(4,12),new I(4,13))),new ye(10,Int32Array.from([6,28,50]),new P(18,new I(2,68),new I(2,69)),new P(26,new I(4,43),new I(1,44)),new P(24,new I(6,19),new I(2,20)),new P(28,new I(6,15),new I(2,16))),new ye(11,Int32Array.from([6,30,54]),new P(20,new I(4,81)),new P(30,new I(1,50),new I(4,51)),new P(28,new I(4,22),new I(4,23)),new P(24,new I(3,12),new I(8,13))),new ye(12,Int32Array.from([6,32,58]),new P(24,new I(2,92),new I(2,93)),new P(22,new I(6,36),new I(2,37)),new P(26,new I(4,20),new I(6,21)),new P(28,new I(7,14),new I(4,15))),new ye(13,Int32Array.from([6,34,62]),new P(26,new I(4,107)),new P(22,new I(8,37),new I(1,38)),new P(24,new I(8,20),new I(4,21)),new P(22,new I(12,11),new I(4,12))),new ye(14,Int32Array.from([6,26,46,66]),new P(30,new I(3,115),new I(1,116)),new P(24,new I(4,40),new I(5,41)),new P(20,new I(11,16),new I(5,17)),new P(24,new I(11,12),new I(5,13))),new ye(15,Int32Array.from([6,26,48,70]),new P(22,new I(5,87),new I(1,88)),new P(24,new I(5,41),new I(5,42)),new P(30,new I(5,24),new I(7,25)),new P(24,new I(11,12),new I(7,13))),new ye(16,Int32Array.from([6,26,50,74]),new P(24,new I(5,98),new I(1,99)),new P(28,new I(7,45),new I(3,46)),new P(24,new I(15,19),new I(2,20)),new P(30,new I(3,15),new I(13,16))),new ye(17,Int32Array.from([6,30,54,78]),new P(28,new I(1,107),new I(5,108)),new P(28,new I(10,46),new I(1,47)),new P(28,new I(1,22),new I(15,23)),new P(28,new I(2,14),new I(17,15))),new ye(18,Int32Array.from([6,30,56,82]),new P(30,new I(5,120),new I(1,121)),new P(26,new I(9,43),new I(4,44)),new P(28,new I(17,22),new I(1,23)),new P(28,new I(2,14),new I(19,15))),new ye(19,Int32Array.from([6,30,58,86]),new P(28,new I(3,113),new I(4,114)),new P(26,new I(3,44),new I(11,45)),new P(26,new I(17,21),new I(4,22)),new P(26,new I(9,13),new I(16,14))),new ye(20,Int32Array.from([6,34,62,90]),new P(28,new I(3,107),new I(5,108)),new P(26,new I(3,41),new I(13,42)),new P(30,new I(15,24),new I(5,25)),new P(28,new I(15,15),new I(10,16))),new ye(21,Int32Array.from([6,28,50,72,94]),new P(28,new I(4,116),new I(4,117)),new P(26,new I(17,42)),new P(28,new I(17,22),new I(6,23)),new P(30,new I(19,16),new I(6,17))),new ye(22,Int32Array.from([6,26,50,74,98]),new P(28,new I(2,111),new I(7,112)),new P(28,new I(17,46)),new P(30,new I(7,24),new I(16,25)),new P(24,new I(34,13))),new ye(23,Int32Array.from([6,30,54,78,102]),new P(30,new I(4,121),new I(5,122)),new P(28,new I(4,47),new I(14,48)),new P(30,new I(11,24),new I(14,25)),new P(30,new I(16,15),new I(14,16))),new ye(24,Int32Array.from([6,28,54,80,106]),new P(30,new I(6,117),new I(4,118)),new P(28,new I(6,45),new I(14,46)),new P(30,new I(11,24),new I(16,25)),new P(30,new I(30,16),new I(2,17))),new ye(25,Int32Array.from([6,32,58,84,110]),new P(26,new I(8,106),new I(4,107)),new P(28,new I(8,47),new I(13,48)),new P(30,new I(7,24),new I(22,25)),new P(30,new I(22,15),new I(13,16))),new ye(26,Int32Array.from([6,30,58,86,114]),new P(28,new I(10,114),new I(2,115)),new P(28,new I(19,46),new I(4,47)),new P(28,new I(28,22),new I(6,23)),new P(30,new I(33,16),new I(4,17))),new ye(27,Int32Array.from([6,34,62,90,118]),new P(30,new I(8,122),new I(4,123)),new P(28,new I(22,45),new I(3,46)),new P(30,new I(8,23),new I(26,24)),new P(30,new I(12,15),new I(28,16))),new ye(28,Int32Array.from([6,26,50,74,98,122]),new P(30,new I(3,117),new I(10,118)),new P(28,new I(3,45),new I(23,46)),new P(30,new I(4,24),new I(31,25)),new P(30,new I(11,15),new I(31,16))),new ye(29,Int32Array.from([6,30,54,78,102,126]),new P(30,new I(7,116),new I(7,117)),new P(28,new I(21,45),new I(7,46)),new P(30,new I(1,23),new I(37,24)),new P(30,new I(19,15),new I(26,16))),new ye(30,Int32Array.from([6,26,52,78,104,130]),new P(30,new I(5,115),new I(10,116)),new P(28,new I(19,47),new I(10,48)),new P(30,new I(15,24),new I(25,25)),new P(30,new I(23,15),new I(25,16))),new ye(31,Int32Array.from([6,30,56,82,108,134]),new P(30,new I(13,115),new I(3,116)),new P(28,new I(2,46),new I(29,47)),new P(30,new I(42,24),new I(1,25)),new P(30,new I(23,15),new I(28,16))),new ye(32,Int32Array.from([6,34,60,86,112,138]),new P(30,new I(17,115)),new P(28,new I(10,46),new I(23,47)),new P(30,new I(10,24),new I(35,25)),new P(30,new I(19,15),new I(35,16))),new ye(33,Int32Array.from([6,30,58,86,114,142]),new P(30,new I(17,115),new I(1,116)),new P(28,new I(14,46),new I(21,47)),new P(30,new I(29,24),new I(19,25)),new P(30,new I(11,15),new I(46,16))),new ye(34,Int32Array.from([6,34,62,90,118,146]),new P(30,new I(13,115),new I(6,116)),new P(28,new I(14,46),new I(23,47)),new P(30,new I(44,24),new I(7,25)),new P(30,new I(59,16),new I(1,17))),new ye(35,Int32Array.from([6,30,54,78,102,126,150]),new P(30,new I(12,121),new I(7,122)),new P(28,new I(12,47),new I(26,48)),new P(30,new I(39,24),new I(14,25)),new P(30,new I(22,15),new I(41,16))),new ye(36,Int32Array.from([6,24,50,76,102,128,154]),new P(30,new I(6,121),new I(14,122)),new P(28,new I(6,47),new I(34,48)),new P(30,new I(46,24),new I(10,25)),new P(30,new I(2,15),new I(64,16))),new ye(37,Int32Array.from([6,28,54,80,106,132,158]),new P(30,new I(17,122),new I(4,123)),new P(28,new I(29,46),new I(14,47)),new P(30,new I(49,24),new I(10,25)),new P(30,new I(24,15),new I(46,16))),new ye(38,Int32Array.from([6,32,58,84,110,136,162]),new P(30,new I(4,122),new I(18,123)),new P(28,new I(13,46),new I(32,47)),new P(30,new I(48,24),new I(14,25)),new P(30,new I(42,15),new I(32,16))),new ye(39,Int32Array.from([6,26,54,82,110,138,166]),new P(30,new I(20,117),new I(4,118)),new P(28,new I(40,47),new I(7,48)),new P(30,new I(43,24),new I(22,25)),new P(30,new I(10,15),new I(67,16))),new ye(40,Int32Array.from([6,30,58,86,114,142,170]),new P(30,new I(19,118),new I(6,119)),new P(28,new I(18,47),new I(31,48)),new P(30,new I(34,24),new I(34,25)),new P(30,new I(20,15),new I(61,16)))];var bt;(function(w){w[w.DATA_MASK_000=0]="DATA_MASK_000",w[w.DATA_MASK_001=1]="DATA_MASK_001",w[w.DATA_MASK_010=2]="DATA_MASK_010",w[w.DATA_MASK_011=3]="DATA_MASK_011",w[w.DATA_MASK_100=4]="DATA_MASK_100",w[w.DATA_MASK_101=5]="DATA_MASK_101",w[w.DATA_MASK_110=6]="DATA_MASK_110",w[w.DATA_MASK_111=7]="DATA_MASK_111"})(bt||(bt={}));class He{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let r=0;r<n;r++)for(let s=0;s<n;s++)this.isMasked(r,s)&&e.flip(s,r)}}He.values=new Map([[bt.DATA_MASK_000,new He(bt.DATA_MASK_000,(w,e)=>(w+e&1)===0)],[bt.DATA_MASK_001,new He(bt.DATA_MASK_001,(w,e)=>(w&1)===0)],[bt.DATA_MASK_010,new He(bt.DATA_MASK_010,(w,e)=>e%3===0)],[bt.DATA_MASK_011,new He(bt.DATA_MASK_011,(w,e)=>(w+e)%3===0)],[bt.DATA_MASK_100,new He(bt.DATA_MASK_100,(w,e)=>(Math.floor(w/2)+Math.floor(e/3)&1)===0)],[bt.DATA_MASK_101,new He(bt.DATA_MASK_101,(w,e)=>w*e%6===0)],[bt.DATA_MASK_110,new He(bt.DATA_MASK_110,(w,e)=>w*e%6<3)],[bt.DATA_MASK_111,new He(bt.DATA_MASK_111,(w,e)=>(w+e+w*e%3&1)===0)]]);class xo{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new $;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const n=this.bitMatrix.getHeight();let r=0;const s=n-7;for(let o=n-1;o>=s;o--)r=this.copyBit(8,o,r);for(let o=n-8;o<n;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=Zt.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new $}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return ye.getVersionForNumber(n);let r=0;const s=e-11;for(let l=5;l>=0;l--)for(let u=e-9;u>=s;u--)r=this.copyBit(u,l,r);let o=ye.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(let l=5;l>=0;l--)for(let u=e-9;u>=s;u--)r=this.copyBit(l,u,r);if(o=ye.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new $}copyBit(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),r=He.values.get(e.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const o=n.buildFunctionPattern();let l=!0;const u=new Uint8Array(n.getTotalCodewords());let f=0,d=0,p=0;for(let m=s-1;m>0;m-=2){m===6&&m--;for(let y=0;y<s;y++){const v=l?s-1-y:y;for(let O=0;O<2;O++)o.get(m-O,v)||(p++,d<<=1,this.bitMatrix.get(m-O,v)&&(d|=1),p===8&&(u[f++]=d,p=0,d=0))}l=!l}if(f!==n.getTotalCodewords())throw new $;return u}remask(){if(this.parsedFormatInfo===null)return;const e=He.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,r=e.getWidth();n<r;n++)for(let s=n+1,o=e.getHeight();s<o;s++)e.get(n,s)!==e.get(s,n)&&(e.flip(s,n),e.flip(n,s))}}class Zi{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,r){if(e.length!==n.getTotalCodewords())throw new G;const s=n.getECBlocksForLevel(r);let o=0;const l=s.getECBlocks();for(const O of l)o+=O.getCount();const u=new Array(o);let f=0;for(const O of l)for(let M=0;M<O.getCount();M++){const k=O.getDataCodewords(),U=s.getECCodewordsPerBlock()+k;u[f++]=new Zi(k,new Uint8Array(U))}const d=u[0].codewords.length;let p=u.length-1;for(;p>=0&&u[p].codewords.length!==d;)p--;p++;const m=d-s.getECCodewordsPerBlock();let y=0;for(let O=0;O<m;O++)for(let M=0;M<f;M++)u[M].codewords[O]=e[y++];for(let O=p;O<f;O++)u[O].codewords[m]=e[y++];const v=u[0].codewords.length;for(let O=m;O<v;O++)for(let M=0;M<f;M++){const k=M<p?O:O+1;u[M].codewords[k]=e[y++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var wn;(function(w){w[w.TERMINATOR=0]="TERMINATOR",w[w.NUMERIC=1]="NUMERIC",w[w.ALPHANUMERIC=2]="ALPHANUMERIC",w[w.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",w[w.BYTE=4]="BYTE",w[w.ECI=5]="ECI",w[w.KANJI=6]="KANJI",w[w.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",w[w.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",w[w.HANZI=9]="HANZI"})(wn||(wn={}));class Se{constructor(e,n,r,s){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=s,Se.FOR_BITS.set(s,this),Se.FOR_VALUE.set(e,this)}static forBits(e){const n=Se.FOR_BITS.get(e);if(n===void 0)throw new G;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Se))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Se.FOR_BITS=new Map,Se.FOR_VALUE=new Map,Se.TERMINATOR=new Se(wn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Se.NUMERIC=new Se(wn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Se.ALPHANUMERIC=new Se(wn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Se.STRUCTURED_APPEND=new Se(wn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Se.BYTE=new Se(wn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Se.ECI=new Se(wn.ECI,"ECI",Int32Array.from([0,0,0]),7),Se.KANJI=new Se(wn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Se.FNC1_FIRST_POSITION=new Se(wn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Se.FNC1_SECOND_POSITION=new Se(wn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Se.HANZI=new Se(wn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Et{static decode(e,n,r,s){const o=new Ns(e);let l=new Ve;const u=new Array;let f=-1,d=-1;try{let p=null,m=!1,y;do{if(o.available()<4)y=Se.TERMINATOR;else{const v=o.readBits(4);y=Se.forBits(v)}switch(y){case Se.TERMINATOR:break;case Se.FNC1_FIRST_POSITION:case Se.FNC1_SECOND_POSITION:m=!0;break;case Se.STRUCTURED_APPEND:if(o.available()<16)throw new $;f=o.readBits(8),d=o.readBits(8);break;case Se.ECI:const v=Et.parseECIValue(o);if(p=ne.getCharacterSetECIByValue(v),p===null)throw new $;break;case Se.HANZI:const O=o.readBits(4),M=o.readBits(y.getCharacterCountBits(n));O===Et.GB2312_SUBSET&&Et.decodeHanziSegment(o,l,M);break;default:const k=o.readBits(y.getCharacterCountBits(n));switch(y){case Se.NUMERIC:Et.decodeNumericSegment(o,l,k);break;case Se.ALPHANUMERIC:Et.decodeAlphanumericSegment(o,l,k,m);break;case Se.BYTE:Et.decodeByteSegment(o,l,k,p,u,s);break;case Se.KANJI:Et.decodeKanjiSegment(o,l,k);break;default:throw new $}break}}while(y!==Se.TERMINATOR)}catch{throw new $}return new at(e,l.toString(),u.length===0?null:u,r===null?null:r.toString(),f,d)}static decodeHanziSegment(e,n,r){if(r*13>e.available())throw new $;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const l=e.readBits(13);let u=l/96<<8&4294967295|l%96;u<959?u+=41377:u+=42657,s[o]=u>>8&255,s[o+1]=u&255,o+=2,r--}try{n.append(Mt.decode(s,Ae.GB2312))}catch(l){throw new $(l)}}static decodeKanjiSegment(e,n,r){if(r*13>e.available())throw new $;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const l=e.readBits(13);let u=l/192<<8&4294967295|l%192;u<7936?u+=33088:u+=49472,s[o]=u>>8,s[o+1]=u,o+=2,r--}try{n.append(Mt.decode(s,Ae.SHIFT_JIS))}catch(l){throw new $(l)}}static decodeByteSegment(e,n,r,s,o,l){if(8*r>e.available())throw new $;const u=new Uint8Array(r);for(let d=0;d<r;d++)u[d]=e.readBits(8);let f;s===null?f=Ae.guessEncoding(u,l):f=s.getName();try{n.append(Mt.decode(u,f))}catch(d){throw new $(d)}o.push(u)}static toAlphaNumericChar(e){if(e>=Et.ALPHANUMERIC_CHARS.length)throw new $;return Et.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,r,s){const o=n.length();for(;r>1;){if(e.available()<11)throw new $;const l=e.readBits(11);n.append(Et.toAlphaNumericChar(Math.floor(l/45))),n.append(Et.toAlphaNumericChar(l%45)),r-=2}if(r===1){if(e.available()<6)throw new $;n.append(Et.toAlphaNumericChar(e.readBits(6)))}if(s)for(let l=o;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,""))}static decodeNumericSegment(e,n,r){for(;r>=3;){if(e.available()<10)throw new $;const s=e.readBits(10);if(s>=1e3)throw new $;n.append(Et.toAlphaNumericChar(Math.floor(s/100))),n.append(Et.toAlphaNumericChar(Math.floor(s/10)%10)),n.append(Et.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(e.available()<7)throw new $;const s=e.readBits(7);if(s>=100)throw new $;n.append(Et.toAlphaNumericChar(Math.floor(s/10))),n.append(Et.toAlphaNumericChar(s%10))}else if(r===1){if(e.available()<4)throw new $;const s=e.readBits(4);if(s>=10)throw new $;n.append(Et.toAlphaNumericChar(s))}}static parseECIValue(e){const n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){const r=e.readBits(16);return(n&31)<<16&4294967295|r}throw new $}}Et.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Et.GB2312_SUBSET=1;class Rs{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Os{constructor(){this.rsDecoder=new Wr(qe.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(ot.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const r=new xo(e);let s=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){s=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,n);return o.setOther(new Rs(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(e,n){const r=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),l=Zi.getDataBlocks(o,r,s);let u=0;for(const p of l)u+=p.getNumDataCodewords();const f=new Uint8Array(u);let d=0;for(const p of l){const m=p.getCodewords(),y=p.getNumDataCodewords();this.correctErrors(m,y);for(let v=0;v<y;v++)f[d++]=m[v]}return Et.decode(f,r,s,n)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new Oe}for(let s=0;s<n;s++)e[s]=r[s]}}class Kr extends fe{constructor(e,n,r){super(e,n),this.estimatedModuleSize=r}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=(this.getX()+n)/2,o=(this.getY()+e)/2,l=(this.estimatedModuleSize+r)/2;return new Kr(s,o,l)}}class Hn{constructor(e,n,r,s,o,l,u){this.image=e,this.startX=n,this.startY=r,this.width=s,this.height=o,this.moduleSize=l,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,r=this.width,s=e+r,o=this.startY+n/2,l=new Int32Array(3),u=this.image;for(let f=0;f<n;f++){const d=o+(f&1?-Math.floor((f+1)/2):Math.floor((f+1)/2));l[0]=0,l[1]=0,l[2]=0;let p=e;for(;p<s&&!u.get(p,d);)p++;let m=0;for(;p<s;){if(u.get(p,d))if(m===1)l[1]++;else if(m===2){if(this.foundPatternCross(l)){const y=this.handlePossibleCenter(l,d,p);if(y!==null)return y}l[0]=l[2],l[1]=1,l[2]=0,m=1}else l[++m]++;else m===1&&m++,l[m]++;p++}if(this.foundPatternCross(l)){const y=this.handlePossibleCenter(l,d,s);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,r=n/2;for(let s=0;s<3;s++)if(Math.abs(n-e[s])>=r)return!1;return!0}crossCheckVertical(e,n,r,s){const o=this.image,l=o.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let f=e;for(;f>=0&&o.get(n,f)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&!o.get(n,f)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<l&&o.get(n,f)&&u[1]<=r;)u[1]++,f++;if(f===l||u[1]>r)return NaN;for(;f<l&&!o.get(n,f)&&u[2]<=r;)u[2]++,f++;if(u[2]>r)return NaN;const d=u[0]+u[1]+u[2];return 5*Math.abs(d-s)>=2*s?NaN:this.foundPatternCross(u)?Hn.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,r){const s=e[0]+e[1]+e[2],o=Hn.centerFromEnd(e,r),l=this.crossCheckVertical(n,o,2*e[1],s);if(!isNaN(l)){const u=(e[0]+e[1]+e[2])/3;for(const d of this.possibleCenters)if(d.aboutEquals(u,l,o))return d.combineEstimate(l,o,u);const f=new Kr(o,l,u);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}class Jn extends fe{constructor(e,n,r,s){super(e,n),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=this.count+1,o=(this.count*this.getX()+n)/s,l=(this.count*this.getY()+e)/s,u=(this.count*this.estimatedModuleSize+r)/s;return new Jn(o,l,u,s)}}class yr{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class vt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(Fe.TRY_HARDER)!==void 0,r=e!=null&&e.get(Fe.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),l=s.getWidth();let u=Math.floor(3*o/(4*vt.MAX_MODULES));(u<vt.MIN_SKIP||n)&&(u=vt.MIN_SKIP);let f=!1;const d=new Int32Array(5);for(let m=u-1;m<o&&!f;m+=u){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;let y=0;for(let v=0;v<l;v++)if(s.get(v,m))(y&1)===1&&y++,d[y]++;else if(y&1)d[y]++;else if(y===4)if(vt.foundPatternCross(d)){if(this.handlePossibleCenter(d,m,v,r)===!0)if(u=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{const M=this.findRowSkip();M>d[2]&&(m+=M-d[2]-u,v=l-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,y=3;continue}y=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,y=3;else d[++y]++;vt.foundPatternCross(d)&&this.handlePossibleCenter(d,m,l,r)===!0&&(u=d[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}const p=this.selectBestPatterns();return fe.orderBestPatterns(p),new yr(p)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let o=0;o<5;o++){const l=e[o];if(l===0)return!1;n+=l}if(n<7)return!1;const r=n/7,s=r/2;return Math.abs(r-e[0])<s&&Math.abs(r-e[1])<s&&Math.abs(3*r-e[2])<3*s&&Math.abs(r-e[3])<s&&Math.abs(r-e[4])<s}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,r,s){const o=this.getCrossCheckStateCount();let l=0;const u=this.image;for(;e>=l&&n>=l&&u.get(n-l,e-l);)o[2]++,l++;if(e<l||n<l)return!1;for(;e>=l&&n>=l&&!u.get(n-l,e-l)&&o[1]<=r;)o[1]++,l++;if(e<l||n<l||o[1]>r)return!1;for(;e>=l&&n>=l&&u.get(n-l,e-l)&&o[0]<=r;)o[0]++,l++;if(o[0]>r)return!1;const f=u.getHeight(),d=u.getWidth();for(l=1;e+l<f&&n+l<d&&u.get(n+l,e+l);)o[2]++,l++;if(e+l>=f||n+l>=d)return!1;for(;e+l<f&&n+l<d&&!u.get(n+l,e+l)&&o[3]<r;)o[3]++,l++;if(e+l>=f||n+l>=d||o[3]>=r)return!1;for(;e+l<f&&n+l<d&&u.get(n+l,e+l)&&o[4]<r;)o[4]++,l++;if(o[4]>=r)return!1;const p=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(p-s)<2*s&&vt.foundPatternCross(o)}crossCheckVertical(e,n,r,s){const o=this.image,l=o.getHeight(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&o.get(n,f);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(n,f)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&o.get(n,f)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<l&&o.get(n,f);)u[2]++,f++;if(f===l)return NaN;for(;f<l&&!o.get(n,f)&&u[3]<r;)u[3]++,f++;if(f===l||u[3]>=r)return NaN;for(;f<l&&o.get(n,f)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return NaN;const d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-s)>=2*s?NaN:vt.foundPatternCross(u)?vt.centerFromEnd(u,f):NaN}crossCheckHorizontal(e,n,r,s){const o=this.image,l=o.getWidth(),u=this.getCrossCheckStateCount();let f=e;for(;f>=0&&o.get(f,n);)u[2]++,f--;if(f<0)return NaN;for(;f>=0&&!o.get(f,n)&&u[1]<=r;)u[1]++,f--;if(f<0||u[1]>r)return NaN;for(;f>=0&&o.get(f,n)&&u[0]<=r;)u[0]++,f--;if(u[0]>r)return NaN;for(f=e+1;f<l&&o.get(f,n);)u[2]++,f++;if(f===l)return NaN;for(;f<l&&!o.get(f,n)&&u[3]<r;)u[3]++,f++;if(f===l||u[3]>=r)return NaN;for(;f<l&&o.get(f,n)&&u[4]<r;)u[4]++,f++;if(u[4]>=r)return NaN;const d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-s)>=s?NaN:vt.foundPatternCross(u)?vt.centerFromEnd(u,f):NaN}handlePossibleCenter(e,n,r,s){const o=e[0]+e[1]+e[2]+e[3]+e[4];let l=vt.centerFromEnd(e,r),u=this.crossCheckVertical(n,Math.floor(l),e[2],o);if(!isNaN(u)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(u),e[2],o),!isNaN(l)&&(!s||this.crossCheckDiagonal(Math.floor(u),Math.floor(l),e[2],o)))){const f=o/7;let d=!1;const p=this.possibleCenters;for(let m=0,y=p.length;m<y;m++){const v=p[m];if(v.aboutEquals(f,u,l)){p[m]=v.combineEstimate(u,l,f),d=!0;break}}if(!d){const m=new Jn(l,u,f);p.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const r of this.possibleCenters)if(r.getCount()>=vt.CENTER_QUORUM)if(n==null)n=r;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-r.getX())-Math.abs(n.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const r=this.possibleCenters.length;for(const l of this.possibleCenters)l.getCount()>=vt.CENTER_QUORUM&&(e++,n+=l.getEstimatedModuleSize());if(e<3)return!1;const s=n/r;let o=0;for(const l of this.possibleCenters)o+=Math.abs(l.getEstimatedModuleSize()-s);return o<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new W;const n=this.possibleCenters;let r;if(e>3){let s=0,o=0;for(const f of this.possibleCenters){const d=f.getEstimatedModuleSize();s+=d,o+=d*d}r=s/e;let l=Math.sqrt(o/e-r*r);n.sort((f,d)=>{const p=Math.abs(d.getEstimatedModuleSize()-r),m=Math.abs(f.getEstimatedModuleSize()-r);return p<m?-1:p>m?1:0});const u=Math.max(.2*r,l);for(let f=0;f<n.length&&n.length>3;f++){const d=n[f];Math.abs(d.getEstimatedModuleSize()-r)>u&&(n.splice(f,1),f--)}}if(n.length>3){let s=0;for(const o of n)s+=o.getEstimatedModuleSize();r=s/n.length,n.sort((o,l)=>{if(l.getCount()===o.getCount()){const u=Math.abs(l.getEstimatedModuleSize()-r),f=Math.abs(o.getEstimatedModuleSize()-r);return u<f?1:u>f?-1:0}else return l.getCount()-o.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}vt.CENTER_QUORUM=2,vt.MIN_SKIP=3,vt.MAX_MODULES=57;class ar{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Fe.NEED_RESULT_POINT_CALLBACK);const r=new vt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const n=e.getTopLeft(),r=e.getTopRight(),s=e.getBottomLeft(),o=this.calculateModuleSize(n,r,s);if(o<1)throw new W("No pattern found in proccess finder.");const l=ar.computeDimension(n,r,s,o),u=ye.getProvisionalVersionForDimension(l),f=u.getDimensionForVersion()-7;let d=null;if(u.getAlignmentPatternCenters().length>0){const v=r.getX()-n.getX()+s.getX(),O=r.getY()-n.getY()+s.getY(),M=1-3/f,k=Math.floor(n.getX()+M*(v-n.getX())),U=Math.floor(n.getY()+M*(O-n.getY()));for(let te=4;te<=16;te<<=1)try{d=this.findAlignmentInRegion(o,k,U,te);break}catch(re){if(!(re instanceof W))throw re}}const p=ar.createTransform(n,r,s,d,l),m=ar.sampleGrid(this.image,p,l);let y;return d===null?y=[s,n,r]:y=[s,n,r,d],new Gr(m,y)}static createTransform(e,n,r,s,o){const l=o-3.5;let u,f,d,p;return s!==null?(u=s.getX(),f=s.getY(),d=l-3,p=d):(u=n.getX()-e.getX()+r.getX(),f=n.getY()-e.getY()+r.getY(),d=l,p=l),Tn.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,d,p,3.5,l,e.getX(),e.getY(),n.getX(),n.getY(),u,f,r.getX(),r.getY())}static sampleGrid(e,n,r){return Ln.getInstance().sampleGridWithTransform(e,r,r,n)}static computeDimension(e,n,r,s){const o=Ze.round(fe.distance(e,n)/s),l=Ze.round(fe.distance(e,r)/s);let u=Math.floor((o+l)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new W("Dimensions could be not found.")}return u}calculateModuleSize(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,n){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,r,s){let o=this.sizeOfBlackWhiteBlackRun(e,n,r,s),l=1,u=e-(r-e);u<0?(l=e/(e-u),u=0):u>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let f=Math.floor(n-(s-n)*l);return l=1,f<0?(l=n/(n-f),f=0):f>=this.image.getHeight()&&(l=(this.image.getHeight()-1-n)/(f-n),f=this.image.getHeight()-1),u=Math.floor(e+(u-e)*l),o+=this.sizeOfBlackWhiteBlackRun(e,n,u,f),o-1}sizeOfBlackWhiteBlackRun(e,n,r,s){const o=Math.abs(s-n)>Math.abs(r-e);if(o){let v=e;e=n,n=v,v=r,r=s,s=v}const l=Math.abs(r-e),u=Math.abs(s-n);let f=-l/2;const d=e<r?1:-1,p=n<s?1:-1;let m=0;const y=r+d;for(let v=e,O=n;v!==y;v+=d){const M=o?O:v,k=o?v:O;if(m===1===this.image.get(M,k)){if(m===2)return Ze.distance(v,O,e,n);m++}if(f+=u,f>0){if(O===s)break;O+=p,f-=l}}return m===2?Ze.distance(r+d,s,e,n):NaN}findAlignmentInRegion(e,n,r,s){const o=Math.floor(s*e),l=Math.max(0,n-o),u=Math.min(this.image.getWidth()-1,n+o);if(u-l<e*3)throw new W("Alignment top exceeds estimated module size.");const f=Math.max(0,r-o),d=Math.min(this.image.getHeight()-1,r+o);if(d-f<e*3)throw new W("Alignment bottom exceeds estimated module size.");return new Hn(this.image,l,f,u-l,d-f,e,this.resultPointCallback).find()}}class un{constructor(){this.decoder=new Os}getDecoder(){return this.decoder}decode(e,n){let r,s;if(n!=null&&n.get(Fe.PURE_BARCODE)!==void 0){const f=un.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(f,n),s=un.NO_POINTS}else{const f=new ar(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(f.getBits(),n),s=f.getPoints()}r.getOther()instanceof Rs&&r.getOther().applyMirroredCorrection(s);const o=new ve(r.getText(),r.getRawBytes(),void 0,s,se.QR_CODE,void 0),l=r.getByteSegments();l!==null&&o.putMetadata(Me.BYTE_SEGMENTS,l);const u=r.getECLevel();return u!==null&&o.putMetadata(Me.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(o.putMetadata(Me.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Me.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new W;const s=this.moduleSize(n,e);let o=n[1],l=r[1],u=n[0],f=r[0];if(u>=f||o>=l)throw new W;if(l-o!==f-u&&(f=u+(l-o),f>=e.getWidth()))throw new W;const d=Math.round((f-u+1)/s),p=Math.round((l-o+1)/s);if(d<=0||p<=0)throw new W;if(p!==d)throw new W;const m=Math.floor(s/2);o+=m,u+=m;const y=u+Math.floor((d-1)*s)-f;if(y>0){if(y>m)throw new W;u-=y}const v=o+Math.floor((p-1)*s)-l;if(v>0){if(v>m)throw new W;o-=v}const O=new ot(d,p);for(let M=0;M<p;M++){const k=o+Math.floor(M*s);for(let U=0;U<d;U++)e.get(u+Math.floor(U*s),k)&&O.set(U,M)}return O}static moduleSize(e,n){const r=n.getHeight(),s=n.getWidth();let o=e[0],l=e[1],u=!0,f=0;for(;o<s&&l<r;){if(u!==n.get(o,l)){if(++f===5)break;u=!u}o++,l++}if(o===s||l===r)throw new W;return(o-e[0])/7}}un.NO_POINTS=new Array;class Re{PDF417Common(){}static getBitCountSum(e){return Ze.sum(e)}static toIntArray(e){if(e==null||!e.length)return Re.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let r=0;for(const s of e)n[r++]=s;return n}static getCodeword(e){const n=Ye.binarySearch(Re.SYMBOL_TABLE,e&262143);return n<0?-1:(Re.CODEWORD_TABLE[n]-1)%Re.NUMBER_OF_CODEWORDS}}Re.NUMBER_OF_CODEWORDS=929,Re.MAX_CODEWORDS_IN_BARCODE=Re.NUMBER_OF_CODEWORDS-1,Re.MIN_ROWS_IN_BARCODE=3,Re.MAX_ROWS_IN_BARCODE=90,Re.MODULES_IN_CODEWORD=17,Re.MODULES_IN_STOP_PATTERN=18,Re.BARS_IN_MODULE=8,Re.EMPTY_INT_ARRAY=new Int32Array([]),Re.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Re.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class po{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Be{static detectMultiple(e,n,r){let s=e.getBlackMatrix(),o=Be.detect(r,s);return o.length||(s=s.clone(),s.rotate180(),o=Be.detect(r,s)),new po(s,o)}static detect(e,n){const r=new Array;let s=0,o=0,l=!1;for(;s<n.getHeight();){const u=Be.findVertices(n,s,o);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,o=0;for(const f of r)f[1]!=null&&(s=Math.trunc(Math.max(s,f[1].getY()))),f[3]!=null&&(s=Math.max(s,Math.trunc(f[3].getY())));s+=Be.ROW_STEP;continue}if(l=!0,r.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return r}static findVertices(e,n,r){const s=e.getHeight(),o=e.getWidth(),l=new Array(8);return Be.copyToResult(l,Be.findRowsWithPattern(e,s,o,n,r,Be.START_PATTERN),Be.INDEXES_START_PATTERN),l[4]!=null&&(r=Math.trunc(l[4].getX()),n=Math.trunc(l[4].getY())),Be.copyToResult(l,Be.findRowsWithPattern(e,s,o,n,r,Be.STOP_PATTERN),Be.INDEXES_STOP_PATTERN),l}static copyToResult(e,n,r){for(let s=0;s<r.length;s++)e[r[s]]=n[s]}static findRowsWithPattern(e,n,r,s,o,l){const u=new Array(4);let f=!1;const d=new Int32Array(l.length);for(;s<n;s+=Be.ROW_STEP){let m=Be.findGuardPattern(e,o,s,r,!1,l,d);if(m!=null){for(;s>0;){const y=Be.findGuardPattern(e,o,--s,r,!1,l,d);if(y!=null)m=y;else{s++;break}}u[0]=new fe(m[0],s),u[1]=new fe(m[1],s),f=!0;break}}let p=s+1;if(f){let m=0,y=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;p<n;p++){const v=Be.findGuardPattern(e,y[0],p,r,!1,l,d);if(v!=null&&Math.abs(y[0]-v[0])<Be.MAX_PATTERN_DRIFT&&Math.abs(y[1]-v[1])<Be.MAX_PATTERN_DRIFT)y=v,m=0;else{if(m>Be.SKIPPED_ROW_COUNT_MAX)break;m++}}p-=m+1,u[2]=new fe(y[0],p),u[3]=new fe(y[1],p)}return p-s<Be.BARCODE_MIN_HEIGHT&&Ye.fill(u,null),u}static findGuardPattern(e,n,r,s,o,l,u){Ye.fillWithin(u,0,u.length,0);let f=n,d=0;for(;e.get(f,r)&&f>0&&d++<Be.MAX_PIXEL_DRIFT;)f--;let p=f,m=0,y=l.length;for(let v=o;p<s;p++)if(e.get(p,r)!==v)u[m]++;else{if(m===y-1){if(Be.patternMatchVariance(u,l,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE)return new Int32Array([f,p]);f+=u[0]+u[1],we.arraycopy(u,2,u,0,m-1),u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,v=!v}return m===y-1&&Be.patternMatchVariance(u,l,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE?new Int32Array([f,p-1]):null}static patternMatchVariance(e,n,r){let s=e.length,o=0,l=0;for(let d=0;d<s;d++)o+=e[d],l+=n[d];if(o<l)return 1/0;let u=o/l;r*=u;let f=0;for(let d=0;d<s;d++){let p=e[d],m=n[d]*u,y=p>m?p-m:m-p;if(y>r)return 1/0;f+=y}return f/o}}Be.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Be.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Be.MAX_AVG_VARIANCE=.42,Be.MAX_INDIVIDUAL_VARIANCE=.8,Be.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Be.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Be.MAX_PIXEL_DRIFT=3,Be.MAX_PATTERN_DRIFT=5,Be.SKIPPED_ROW_COUNT_MAX=25,Be.ROW_STEP=5,Be.BARCODE_MIN_HEIGHT=10;class Kt{constructor(e,n){if(n.length===0)throw new G;this.field=e;let r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),we.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let n=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)n=this.field.add(this.field.multiply(e,n),this.coefficients[s]);return n}add(e){if(!this.field.equals(e.field))throw new G("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){let l=n;n=r,r=l}let s=new Int32Array(r.length),o=r.length-n.length;we.arraycopy(r,0,s,0,o);for(let l=o;l<r.length;l++)s[l]=this.field.add(n[l-o],r[l]);return new Kt(this.field,s)}subtract(e){if(!this.field.equals(e.field))throw new G("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Kt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new G("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Kt(this.field,new Int32Array([0]));let n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,l=new Int32Array(r+o-1);for(let u=0;u<r;u++){let f=n[u];for(let d=0;d<o;d++)l[u+d]=this.field.add(l[u+d],this.field.multiply(f,s[d]))}return new Kt(this.field,l)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new Kt(this.field,n)}multiplyScalar(e){if(e===0)return new Kt(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,r=new Int32Array(n);for(let s=0;s<n;s++)r[s]=this.field.multiply(this.coefficients[s],e);return new Kt(this.field,r)}multiplyByMonomial(e,n){if(e<0)throw new G;if(n===0)return new Kt(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+e);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],n);return new Kt(this.field,s)}toString(){let e=new Ve;for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class wo{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new G;return this.logTable[e]}inverse(e){if(e===0)throw new wi;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Qr extends wo{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let s=0;s<e;s++)this.expTable[s]=r,r=r*n%e;for(let s=0;s<e-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Kt(this,new Int32Array([0])),this.one=new Kt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new G;if(n===0)return this.zero;let r=new Int32Array(e+1);return r[0]=n,new Kt(this,r)}}Qr.PDF417_GF=new Qr(Re.NUMBER_OF_CODEWORDS,3);class Ds{constructor(){this.field=Qr.PDF417_GF}decode(e,n,r){let s=new Kt(this.field,e),o=new Int32Array(n),l=!1;for(let O=n;O>0;O--){let M=s.evaluateAt(this.field.exp(O));o[n-O]=M,M!==0&&(l=!0)}if(!l)return 0;let u=this.field.getOne();if(r!=null)for(const O of r){let M=this.field.exp(e.length-1-O),k=new Kt(this.field,new Int32Array([this.field.subtract(0,M),1]));u=u.multiply(k)}let f=new Kt(this.field,o),d=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),f,n),p=d[0],m=d[1],y=this.findErrorLocations(p),v=this.findErrorMagnitudes(m,p,y);for(let O=0;O<y.length;O++){let M=e.length-1-this.field.log(y[O]);if(M<0)throw Oe.getChecksumInstance();e[M]=this.field.subtract(e[M],v[O])}return y.length}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){let y=e;e=n,n=y}let s=e,o=n,l=this.field.getZero(),u=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let y=s,v=l;if(s=o,l=u,s.isZero())throw Oe.getChecksumInstance();o=y;let O=this.field.getZero(),M=s.getCoefficient(s.getDegree()),k=this.field.inverse(M);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let U=o.getDegree()-s.getDegree(),te=this.field.multiply(o.getCoefficient(o.getDegree()),k);O=O.add(this.field.buildMonomial(U,te)),o=o.subtract(s.multiplyByMonomial(U,te))}u=O.multiply(l).subtract(v).negative()}let f=u.getCoefficient(0);if(f===0)throw Oe.getChecksumInstance();let d=this.field.inverse(f),p=u.multiply(d),m=o.multiply(d);return[p,m]}findErrorLocations(e){let n=e.getDegree(),r=new Int32Array(n),s=0;for(let o=1;o<this.field.getSize()&&s<n;o++)e.evaluateAt(o)===0&&(r[s]=this.field.inverse(o),s++);if(s!==n)throw Oe.getChecksumInstance();return r}findErrorMagnitudes(e,n,r){let s=n.getDegree(),o=new Int32Array(s);for(let d=1;d<=s;d++)o[s-d]=this.field.multiply(d,n.getCoefficient(d));let l=new Kt(this.field,o),u=r.length,f=new Int32Array(u);for(let d=0;d<u;d++){let p=this.field.inverse(r[d]),m=this.field.subtract(0,e.evaluateAt(p)),y=this.field.inverse(l.evaluateAt(p));f[d]=this.field.multiply(m,y)}return f}}class Rr{constructor(e,n,r,s,o){e instanceof Rr?this.constructor_2(e):this.constructor_1(e,n,r,s,o)}constructor_1(e,n,r,s,o){const l=n==null||r==null,u=s==null||o==null;if(l&&u)throw new W;l?(n=new fe(0,s.getY()),r=new fe(0,o.getY())):u&&(s=new fe(e.getWidth()-1,n.getY()),o=new fe(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(n.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Rr(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,r){let s=this.topLeft,o=this.bottomLeft,l=this.topRight,u=this.bottomRight;if(e>0){let f=r?this.topLeft:this.topRight,d=Math.trunc(f.getY()-e);d<0&&(d=0);let p=new fe(f.getX(),d);r?s=p:l=p}if(n>0){let f=r?this.bottomLeft:this.bottomRight,d=Math.trunc(f.getY()+n);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);let p=new fe(f.getX(),d);r?o=p:u=p}return new Rr(this.image,s,o,l,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ai{constructor(e,n,r,s){this.columnCount=e,this.errorCorrectionLevel=s,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ur{constructor(){this.buffer=""}static form(e,n){let r=-1;function s(l,u,f,d,p,m){if(l==="%%")return"%";if(n[++r]===void 0)return;l=d?parseInt(d.substr(1)):void 0;let y=p?parseInt(p.substr(1)):void 0,v;switch(m){case"s":v=n[r];break;case"c":v=n[r][0];break;case"f":v=parseFloat(n[r]).toFixed(l);break;case"p":v=parseFloat(n[r]).toPrecision(l);break;case"e":v=parseFloat(n[r]).toExponential(l);break;case"x":v=parseInt(n[r]).toString(y||16);break;case"d":v=parseFloat(parseInt(n[r],y||10).toPrecision(l)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(y);let O=parseInt(f),M=f&&f[0]+""=="0"?"0":" ";for(;v.length<O;)v=u!==void 0?v+M:M+v;return v}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}format(e,...n){this.buffer+=ur.form(e,n)}toString(){return this.buffer}}class $n{constructor(e){this.boundingBox=new Rr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let r=1;r<$n.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(e)-r;if(s>=0&&(n=this.codewords[s],n!=null)||(s=this.imageRowToCodewordIndex(e)+r,s<this.codewords.length&&(n=this.codewords[s],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new ur;let n=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,r.getRowNumber(),r.getValue())}return e.toString()}}$n.MAX_NEARBY_DISTANCE=5;class Ar{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[r,s]of this.values.entries()){const o={getKey:()=>r,getValue:()=>s};o.getValue()>e?(e=o.getValue(),n=[],n.push(o.getKey())):o.getValue()===e&&n.push(o.getKey())}return Re.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class mo extends $n{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,d=1,p=0;for(let m=l;m<u;m++){if(n[m]==null)continue;let y=n[m],v=y.getRowNumber()-f;if(v===0)p++;else if(v===1)d=Math.max(d,p),p=1,f=y.getRowNumber();else if(v<0||y.getRowNumber()>=e.getRowCount()||v>m)n[m]=null;else{let O;d>2?O=(d-2)*v:O=v;let M=O>=m;for(let k=1;k<=O&&!M;k++)M=n[m-k]!=null;M?n[m]=null:(f=y.getRowNumber(),p=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=n.length)continue;n[s]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),f=-1;for(let d=o;d<l;d++){if(u[d]==null)continue;let p=u[d];p.setRowNumberAsRowIndicatorColumn();let m=p.getRowNumber()-f;m===0||(m===1?f=p.getRowNumber():p.getRowNumber()>=e.getRowCount()?u[d]=null:f=p.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Ar,r=new Ar,s=new Ar,o=new Ar;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let f=u.getValue()%30,d=u.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:r.setValue(f*3+1);break;case 1:o.setValue(f/3),s.setValue(f%3);break;case 2:n.setValue(f+1);break}}if(n.getValue().length===0||r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||n.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<Re.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>Re.MAX_ROWS_IN_BARCODE)return null;let l=new Ai(n.getValue()[0],r.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,l),l}removeIncorrectCodewords(e,n){for(let r=0;r<e.length;r++){let s=e[r];if(e[r]==null)continue;let o=s.getValue()%30,l=s.getRowNumber();if(l>n.getRowCount()){e[r]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(e[r]=null);break;case 2:o+1!==n.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Si{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Re.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let r=this.detectionResultColumns[n].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(n,s,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let l=this.barcodeColumnCount+1;l>0&&o<this.ADJUST_ROW_NUMBER_SKIP;l--){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(o=Si.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let l=1;l<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;l++){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(o=Si.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,r){if(!this.detectionResultColumns[e-1])return;let s=r[n],o=this.detectionResultColumns[e-1].getCodewords(),l=o;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=o[n],u[3]=l[n],n>0&&(u[0]=r[n-1],u[4]=o[n-1],u[5]=l[n-1]),n>1&&(u[8]=r[n-2],u[10]=o[n-2],u[11]=l[n-2]),n<r.length-1&&(u[1]=r[n+1],u[6]=o[n+1],u[7]=l[n+1]),n<r.length-2&&(u[9]=r[n+2],u[12]=o[n+2],u[13]=l[n+2]);for(let f of u)if(Si.adjustRowNumber(s,f))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new ur;for(let r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){n.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[r];if(o==null){n.format("    |   ");continue}n.format(" %3d|%3d",o.getRowNumber(),o.getValue())}n.format("%n")}return n.toString()}}class Or{constructor(e,n,r,s){this.rowNumber=Or.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Or.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Or.BARCODE_ROW_UNKNOWN=-1;class Qt{static initialize(){for(let e=0;e<Re.SYMBOL_TABLE.length;e++){let n=Re.SYMBOL_TABLE[e],r=n&1;for(let s=0;s<Re.BARS_IN_MODULE;s++){let o=0;for(;(n&1)===r;)o+=1,n>>=1;r=n&1,Qt.RATIOS_TABLE[e]||(Qt.RATIOS_TABLE[e]=new Array(Re.BARS_IN_MODULE)),Qt.RATIOS_TABLE[e][Re.BARS_IN_MODULE-s-1]=Math.fround(o/Re.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=Qt.getDecodedCodewordValue(Qt.sampleBitCounts(e));return n!==-1?n:Qt.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=Ze.sum(e),r=new Int32Array(Re.BARS_IN_MODULE),s=0,o=0;for(let l=0;l<Re.MODULES_IN_CODEWORD;l++){let u=n/(2*Re.MODULES_IN_CODEWORD)+l*n/Re.MODULES_IN_CODEWORD;o+e[s]<=u&&(o+=e[s],s++),r[s]++}return r}static getDecodedCodewordValue(e){let n=Qt.getBitValue(e);return Re.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let r=0;r<e.length;r++)for(let s=0;s<e[r];s++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=Ze.sum(e),r=new Array(Re.BARS_IN_MODULE);if(n>1)for(let l=0;l<r.length;l++)r[l]=Math.fround(e[l]/n);let s=mr.MAX_VALUE,o=-1;this.bSymbolTableReady||Qt.initialize();for(let l=0;l<Qt.RATIOS_TABLE.length;l++){let u=0,f=Qt.RATIOS_TABLE[l];for(let d=0;d<Re.BARS_IN_MODULE;d++){let p=Math.fround(f[d]-r[d]);if(u+=Math.fround(p*p),u>=s)break}u<s&&(s=u,o=Re.SYMBOL_TABLE[l])}return o}}Qt.bSymbolTableReady=!1,Qt.RATIOS_TABLE=new Array(Re.SYMBOL_TABLE.length).map(w=>new Array(Re.BARS_IN_MODULE));class Ki{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ms{static parseLong(e,n=void 0){return parseInt(e,n)}}class cr extends T{}cr.kind="NullPointerException";class bs{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,r){if(e==null)throw new cr;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new Ge;if(r===0)return;for(let s=0;s<r;s++)this.write(e[n+s])}flush(){}close(){}}class Qi extends T{}class Eo extends bs{constructor(e=32){if(super(),this.count=0,e<0)throw new G("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new Qi;r=me.MAX_VALUE}this.buf=Ye.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,r){if(n<0||n>e.length||r<0||n+r-e.length>0)throw new Ge;this.ensureCapacity(this.count+r),we.arraycopy(e,n,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Ye.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var tt;(function(w){w[w.ALPHA=0]="ALPHA",w[w.LOWER=1]="LOWER",w[w.MIXED=2]="MIXED",w[w.PUNCT=3]="PUNCT",w[w.ALPHA_SHIFT=4]="ALPHA_SHIFT",w[w.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(tt||(tt={}));function Ii(){if(typeof window<"u")return window.BigInt||null;if(typeof pl<"u")return pl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let vi;function kt(w){if(typeof vi>"u"&&(vi=Ii()),vi===null)throw new Error("BigInt is not supported!");return vi(w)}function qr(){let w=[];w[0]=kt(1);let e=kt(900);w[1]=e;for(let n=2;n<16;n++)w[n]=w[n-1]*e;return w}class V{static decode(e,n){let r=new Ve(""),s=ne.ISO8859_1;r.enableDecoding(s);let o=1,l=e[o++],u=new Ki;for(;o<e[0];){switch(l){case V.TEXT_COMPACTION_MODE_LATCH:o=V.textCompaction(e,o,r);break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:o=V.byteCompaction(l,e,s,o,r);break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case V.NUMERIC_COMPACTION_MODE_LATCH:o=V.numericCompaction(e,o,r);break;case V.ECI_CHARSET:ne.getCharacterSetECIByValue(e[o++]);break;case V.ECI_GENERAL_PURPOSE:o+=2;break;case V.ECI_USER_DEFINED:o++;break;case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=V.decodeMacroBlock(e,o,u);break;case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:throw new $;default:o--,o=V.textCompaction(e,o,r);break}if(o<e.length)l=e[o++];else throw $.getFormatInstance()}if(r.length()===0)throw $.getFormatInstance();let f=new at(null,r.toString(),null,n);return f.setOther(u),f}static decodeMacroBlock(e,n,r){if(n+V.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw $.getFormatInstance();let s=new Int32Array(V.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<V.NUMBER_OF_SEQUENCE_CODEWORDS;u++,n++)s[u]=e[n];r.setSegmentIndex(me.parseInt(V.decodeBase900toBase10(s,V.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Ve;n=V.textCompaction(e,n,o),r.setFileId(o.toString());let l=-1;for(e[n]===V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<e[0];)switch(e[n]){case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Ve;n=V.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let f=new Ve;n=V.textCompaction(e,n+1,f),r.setSender(f.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let d=new Ve;n=V.textCompaction(e,n+1,d),r.setAddressee(d.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let p=new Ve;n=V.numericCompaction(e,n+1,p),r.setSegmentCount(me.parseInt(p.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let m=new Ve;n=V.numericCompaction(e,n+1,m),r.setTimestamp(Ms.parseLong(m.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let y=new Ve;n=V.numericCompaction(e,n+1,y),r.setChecksum(me.parseInt(y.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let v=new Ve;n=V.numericCompaction(e,n+1,v),r.setFileSize(Ms.parseLong(v.toString()));break;default:throw $.getFormatInstance()}break;case V.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw $.getFormatInstance()}if(l!==-1){let u=n-l;r.isLastSegment()&&u--,r.setOptionalData(Ye.copyOfRange(e,l,l+u))}return n}static textCompaction(e,n,r){let s=new Int32Array((e[0]-n)*2),o=new Int32Array((e[0]-n)*2),l=0,u=!1;for(;n<e[0]&&!u;){let f=e[n++];if(f<V.TEXT_COMPACTION_MODE_LATCH)s[l]=f/30,s[l+1]=f%30,l+=2;else switch(f){case V.TEXT_COMPACTION_MODE_LATCH:s[l++]=V.TEXT_COMPACTION_MODE_LATCH;break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:n--,u=!0;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[l]=V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[n++],o[l]=f,l++;break}}return V.decodeTextCompaction(s,o,l,r),n}static decodeTextCompaction(e,n,r,s){let o=tt.ALPHA,l=tt.ALPHA,u=0;for(;u<r;){let f=e[u],d="";switch(o){case tt.ALPHA:if(f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case V.LL:o=tt.LOWER;break;case V.ML:o=tt.MIXED;break;case V.PS:l=o,o=tt.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case V.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.LOWER:if(f<26)d=String.fromCharCode(97+f);else switch(f){case 26:d=" ";break;case V.AS:l=o,o=tt.ALPHA_SHIFT;break;case V.ML:o=tt.MIXED;break;case V.PS:l=o,o=tt.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case V.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.MIXED:if(f<V.PL)d=V.MIXED_CHARS[f];else switch(f){case V.PL:o=tt.PUNCT;break;case 26:d=" ";break;case V.LL:o=tt.LOWER;break;case V.AL:o=tt.ALPHA;break;case V.PS:l=o,o=tt.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case V.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.PUNCT:if(f<V.PAL)d=V.PUNCT_CHARS[f];else switch(f){case V.PAL:o=tt.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case V.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.ALPHA_SHIFT:if(o=l,f<26)d=String.fromCharCode(65+f);else switch(f){case 26:d=" ";break;case V.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break;case tt.PUNCT_SHIFT:if(o=l,f<V.PAL)d=V.PUNCT_CHARS[f];else switch(f){case V.PAL:o=tt.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case V.TEXT_COMPACTION_MODE_LATCH:o=tt.ALPHA;break}break}d!==""&&s.append(d),u++}}static byteCompaction(e,n,r,s,o){let l=new Eo,u=0,f=0,d=!1;switch(e){case V.BYTE_COMPACTION_MODE_LATCH:let p=new Int32Array(6),m=n[s++];for(;s<n[0]&&!d;)switch(p[u++]=m,f=900*f+m,m=n[s++],m){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:s--,d=!0;break;default:if(u%5===0&&u>0){for(let y=0;y<6;++y)l.write(Number(kt(f)>>kt(8*(5-y))));f=0,u=0}break}s===n[0]&&m<V.TEXT_COMPACTION_MODE_LATCH&&(p[u++]=m);for(let y=0;y<u;y++)l.write(p[y]);break;case V.BYTE_COMPACTION_MODE_LATCH_6:for(;s<n[0]&&!d;){let y=n[s++];if(y<V.TEXT_COMPACTION_MODE_LATCH)u++,f=900*f+y;else switch(y){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:s--,d=!0;break}if(u%5===0&&u>0){for(let v=0;v<6;++v)l.write(Number(kt(f)>>kt(8*(5-v))));f=0,u=0}}break}return o.append(Mt.decode(l.toByteArray(),r)),s}static numericCompaction(e,n,r){let s=0,o=!1,l=new Int32Array(V.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!o;){let u=e[n++];if(n===e[0]&&(o=!0),u<V.TEXT_COMPACTION_MODE_LATCH)l[s]=u,s++;else switch(u){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:n--,o=!0;break}(s%V.MAX_NUMERIC_CODEWORDS===0||u===V.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(r.append(V.decodeBase900toBase10(l,s)),s=0)}return n}static decodeBase900toBase10(e,n){let r=kt(0);for(let o=0;o<n;o++)r+=V.EXP900[n-o-1]*kt(e[o]);let s=r.toString();if(s.charAt(0)!=="1")throw new $;return s.substring(1)}}V.TEXT_COMPACTION_MODE_LATCH=900,V.BYTE_COMPACTION_MODE_LATCH=901,V.NUMERIC_COMPACTION_MODE_LATCH=902,V.BYTE_COMPACTION_MODE_LATCH_6=924,V.ECI_USER_DEFINED=925,V.ECI_GENERAL_PURPOSE=926,V.ECI_CHARSET=927,V.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,V.MACRO_PDF417_TERMINATOR=922,V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,V.MAX_NUMERIC_CODEWORDS=15,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,V.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,V.PL=25,V.LL=27,V.AS=27,V.ML=28,V.AL=28,V.PS=29,V.PAL=29,V.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,V.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",V.EXP900=Ii()?qr():[],V.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Le{constructor(){}static decode(e,n,r,s,o,l,u){let f=new Rr(e,n,r,s,o),d=null,p=null,m;for(let O=!0;;O=!1){if(n!=null&&(d=Le.getRowIndicatorColumn(e,f,n,!0,l,u)),s!=null&&(p=Le.getRowIndicatorColumn(e,f,s,!1,l,u)),m=Le.merge(d,p),m==null)throw W.getNotFoundInstance();let M=m.getBoundingBox();if(O&&M!=null&&(M.getMinY()<f.getMinY()||M.getMaxY()>f.getMaxY()))f=M;else break}m.setBoundingBox(f);let y=m.getBarcodeColumnCount()+1;m.setDetectionResultColumn(0,d),m.setDetectionResultColumn(y,p);let v=d!=null;for(let O=1;O<=y;O++){let M=v?O:y-O;if(m.getDetectionResultColumn(M)!==void 0)continue;let k;M===0||M===y?k=new mo(f,M===0):k=new $n(f),m.setDetectionResultColumn(M,k);let U=-1,te=U;for(let re=f.getMinY();re<=f.getMaxY();re++){if(U=Le.getStartColumn(m,M,re,v),U<0||U>f.getMaxX()){if(te===-1)continue;U=te}let q=Le.detectCodeword(e,f.getMinX(),f.getMaxX(),v,U,re,l,u);q!=null&&(k.setCodeword(re,q),te=U,l=Math.min(l,q.getWidth()),u=Math.max(u,q.getWidth()))}}return Le.createDecoderResult(m)}static merge(e,n){if(e==null&&n==null)return null;let r=Le.getBarcodeMetadata(e,n);if(r==null)return null;let s=Rr.merge(Le.adjustBoundingBox(e),Le.adjustBoundingBox(n));return new Si(r,s)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let r=Le.getMax(n),s=0;for(let u of n)if(s+=r-u,u>0)break;let o=e.getCodewords();for(let u=0;s>0&&o[u]==null;u++)s--;let l=0;for(let u=n.length-1;u>=0&&(l+=r-n[u],!(n[u]>0));u--);for(let u=o.length-1;l>0&&o[u]==null;u--)l--;return e.getBoundingBox().addMissingRows(s,l,e.isLeft())}static getMax(e){let n=-1;for(let r of e)n=Math.max(n,r);return n}static getBarcodeMetadata(e,n){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let s;return n==null||(s=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(e,n,r,s,o,l){let u=new mo(n,s);for(let f=0;f<2;f++){let d=f===0?1:-1,p=Math.trunc(Math.trunc(r.getX()));for(let m=Math.trunc(Math.trunc(r.getY()));m<=n.getMaxY()&&m>=n.getMinY();m+=d){let y=Le.detectCodeword(e,0,e.getWidth(),s,p,m,o,l);y!=null&&(u.setCodeword(m,y),s?p=y.getStartX():p=y.getEndX())}}return u}static adjustCodewordCount(e,n){let r=n[0][1],s=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Le.getNumberOfECCodeWords(e.getBarcodeECLevel());if(s.length===0){if(o<1||o>Re.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();r.setValue(o)}else s[0]!==o&&r.setValue(o)}static createDecoderResult(e){let n=Le.createBarcodeMatrix(e);Le.adjustCodewordCount(e,n);let r=new Array,s=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],l=new Array;for(let f=0;f<e.getBarcodeRowCount();f++)for(let d=0;d<e.getBarcodeColumnCount();d++){let p=n[f][d+1].getValue(),m=f*e.getBarcodeColumnCount()+d;p.length===0?r.push(m):p.length===1?s[m]=p[0]:(l.push(m),o.push(p))}let u=new Array(o.length);for(let f=0;f<u.length;f++)u[f]=o[f];return Le.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),s,Re.toIntArray(r),Re.toIntArray(l),u)}static createDecoderResultFromAmbiguousValues(e,n,r,s,o){let l=new Int32Array(s.length),u=100;for(;u-- >0;){for(let f=0;f<l.length;f++)n[s[f]]=o[f][l[f]];try{return Le.decodeCodewords(n,e,r)}catch(f){if(!(f instanceof Oe))throw f}if(l.length===0)throw Oe.getChecksumInstance();for(let f=0;f<l.length;f++)if(l[f]<o[f].length-1){l[f]++;break}else if(l[f]=0,f===l.length-1)throw Oe.getChecksumInstance()}throw Oe.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let s=0;s<n.length;s++)for(let o=0;o<n[s].length;o++)n[s][o]=new Ar;let r=0;for(let s of e.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=0){if(l>=n.length)continue;n[l][r].setValue(o.getValue())}}}r++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,r,s){let o=s?1:-1,l=null;if(Le.isValidBarcodeColumn(e,n-o)&&(l=e.getDetectionResultColumn(n-o).getCodeword(r)),l!=null)return s?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(n).getCodewordNearby(r),l!=null)return s?l.getStartX():l.getEndX();if(Le.isValidBarcodeColumn(e,n-o)&&(l=e.getDetectionResultColumn(n-o).getCodewordNearby(r)),l!=null)return s?l.getEndX():l.getStartX();let u=0;for(;Le.isValidBarcodeColumn(e,n-o);){n-=o;for(let f of e.getDetectionResultColumn(n).getCodewords())if(f!=null)return(s?f.getEndX():f.getStartX())+o*u*(f.getEndX()-f.getStartX());u++}return s?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,r,s,o,l,u,f){o=Le.adjustCodewordStartColumn(e,n,r,s,o,l);let d=Le.getModuleBitCount(e,n,r,s,o,l);if(d==null)return null;let p,m=Ze.sum(d);if(s)p=o+m;else{for(let O=0;O<d.length/2;O++){let M=d[O];d[O]=d[d.length-1-O],d[d.length-1-O]=M}p=o,o=p-m}if(!Le.checkCodewordSkew(m,u,f))return null;let y=Qt.getDecodedValue(d),v=Re.getCodeword(y);return v===-1?null:new Or(o,p,Le.getCodewordBucketNumber(y),v)}static getModuleBitCount(e,n,r,s,o,l){let u=o,f=new Int32Array(8),d=0,p=s?1:-1,m=s;for(;(s?u<r:u>=n)&&d<f.length;)e.get(u,l)===m?(f[d]++,u+=p):(d++,m=!m);return d===f.length||u===(s?r:n)&&d===f.length-1?f:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,r,s,o,l){let u=o,f=s?-1:1;for(let d=0;d<2;d++){for(;(s?u>=n:u<r)&&s===e.get(u,l);){if(Math.abs(o-u)>Le.CODEWORD_SKEW_SIZE)return o;u+=f}f=-f,s=!s}return u}static checkCodewordSkew(e,n,r){return n-Le.CODEWORD_SKEW_SIZE<=e&&e<=r+Le.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,r){if(e.length===0)throw $.getFormatInstance();let s=1<<n+1,o=Le.correctErrors(e,r,s);Le.verifyCodewordCount(e,s);let l=V.decode(e,""+n);return l.setErrorsCorrected(o),l.setErasures(r.length),l}static correctErrors(e,n,r){if(n!=null&&n.length>r/2+Le.MAX_ERRORS||r<0||r>Le.MAX_EC_CODEWORDS)throw Oe.getChecksumInstance();return Le.errorCorrection.decode(e,r,n)}static verifyCodewordCount(e,n){if(e.length<4)throw $.getFormatInstance();let r=e[0];if(r>e.length)throw $.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw $.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),r=0,s=n.length-1;for(;!((e&1)!==r&&(r=e&1,s--,s<0));)n[s]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Le.getCodewordBucketNumber(Le.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new ur;for(let r=0;r<e.length;r++){n.format("Row %2d: ",r);for(let s=0;s<e[r].length;s++){let o=e[r][s];o.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}n.format("%n")}return n.toString()}}Le.CODEWORD_SKEW_SIZE=2,Le.MAX_ERRORS=3,Le.MAX_EC_CODEWORDS=512,Le.errorCorrection=new Ds;class qt{decode(e,n=null){let r=qt.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw W.getNotFoundInstance();return r[0]}decodeMultiple(e,n=null){try{return qt.decode(e,n,!0)}catch(r){throw r instanceof $||r instanceof Oe?W.getNotFoundInstance():r}}static decode(e,n,r){const s=new Array,o=Be.detectMultiple(e,n,r);for(const l of o.getPoints()){const u=Le.decode(o.getBits(),l[4],l[5],l[6],l[7],qt.getMinCodewordWidth(l),qt.getMaxCodewordWidth(l)),f=new ve(u.getText(),u.getRawBytes(),void 0,l,se.PDF_417);f.putMetadata(Me.ERROR_CORRECTION_LEVEL,u.getECLevel());const d=u.getOther();d!=null&&f.putMetadata(Me.PDF417_EXTRA_METADATA,d),s.push(f)}return s.map(l=>l)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?me.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(qt.getMaxWidth(e[0],e[4]),qt.getMaxWidth(e[6],e[2])*Re.MODULES_IN_CODEWORD/Re.MODULES_IN_STOP_PATTERN),Math.max(qt.getMaxWidth(e[1],e[5]),qt.getMaxWidth(e[7],e[3])*Re.MODULES_IN_CODEWORD/Re.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(qt.getMinWidth(e[0],e[4]),qt.getMinWidth(e[6],e[2])*Re.MODULES_IN_CODEWORD/Re.MODULES_IN_STOP_PATTERN),Math.min(qt.getMinWidth(e[1],e[5]),qt.getMinWidth(e[7],e[3])*Re.MODULES_IN_CODEWORD/Re.MODULES_IN_STOP_PATTERN)))}reset(){}}class Jr extends T{}Jr.kind="ReaderException";class qi{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!N(e)&&e.get(Fe.TRY_HARDER)===!0,r=N(e)?null:e.get(Fe.POSSIBLE_FORMATS),s=new Array;if(!N(r)){const o=r.some(l=>l===se.UPC_A||l===se.UPC_E||l===se.EAN_13||l===se.EAN_8||l===se.CODABAR||l===se.CODE_39||l===se.CODE_93||l===se.CODE_128||l===se.ITF||l===se.RSS_14||l===se.RSS_EXPANDED);o&&!n&&s.push(new Yr(e,this.verbose)),r.includes(se.QR_CODE)&&s.push(new un),r.includes(se.DATA_MATRIX)&&s.push(new zn),r.includes(se.AZTEC)&&s.push(new Er),r.includes(se.PDF_417)&&s.push(new qt),o&&n&&s.push(new Yr(e,this.verbose))}s.length===0&&(n||s.push(new Yr(e,this.verbose)),s.push(new un),s.push(new zn),s.push(new Er),s.push(new qt),n&&s.push(new Yr(e,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Jr("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(r){if(r instanceof Jr)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class Ti extends be{constructor(e=null,n=500){const r=new qi;r.setHints(e),super(r,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Ji extends be{constructor(e=500){super(new qt,e)}}class Co extends be{constructor(e=500){super(new un,e)}}var ks;(function(w){w[w.ERROR_CORRECTION=0]="ERROR_CORRECTION",w[w.CHARACTER_SET=1]="CHARACTER_SET",w[w.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",w[w.MIN_SIZE=3]="MIN_SIZE",w[w.MAX_SIZE=4]="MAX_SIZE",w[w.MARGIN=5]="MARGIN",w[w.PDF417_COMPACT=6]="PDF417_COMPACT",w[w.PDF417_COMPACTION=7]="PDF417_COMPACTION",w[w.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",w[w.AZTEC_LAYERS=9]="AZTEC_LAYERS",w[w.QR_VERSION=10]="QR_VERSION"})(ks||(ks={}));var Ut=ks;class Bs{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new jt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let r=n[n.length-1];const s=this.field;for(let o=n.length;o<=e;o++){const l=r.multiply(new jt(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));n.push(l),r=l}}return n[e]}encode(e,n){if(n===0)throw new G("No error correction bytes");const r=e.length-n;if(r<=0)throw new G("No data bytes provided");const s=this.buildGenerator(n),o=new Int32Array(r);we.arraycopy(e,0,o,0,r);let l=new jt(this.field,o);l=l.multiplyByMonomial(n,1);const f=l.divide(s)[1].getCoefficients(),d=n-f.length;for(let p=0;p<d;p++)e[r+p]=0;we.arraycopy(f,0,e,r+d,f.length)}}class Ct{constructor(){}static applyMaskPenaltyRule1(e){return Ct.applyMaskPenaltyRule1Internal(e,!0)+Ct.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let l=0;l<o-1;l++){const u=r[l];for(let f=0;f<s-1;f++){const d=u[f];d===u[f+1]&&d===r[l+1][f]&&d===r[l+1][f+1]&&n++}}return Ct.N2*n}static applyMaskPenaltyRule3(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let l=0;l<o;l++)for(let u=0;u<s;u++){const f=r[l];u+6<s&&f[u]===1&&f[u+1]===0&&f[u+2]===1&&f[u+3]===1&&f[u+4]===1&&f[u+5]===0&&f[u+6]===1&&(Ct.isWhiteHorizontal(f,u-4,u)||Ct.isWhiteHorizontal(f,u+7,u+11))&&n++,l+6<o&&r[l][u]===1&&r[l+1][u]===0&&r[l+2][u]===1&&r[l+3][u]===1&&r[l+4][u]===1&&r[l+5][u]===0&&r[l+6][u]===1&&(Ct.isWhiteVertical(r,u,l-4,l)||Ct.isWhiteVertical(r,u,l+7,l+11))&&n++}return n*Ct.N3}static isWhiteHorizontal(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let s=n;s<r;s++)if(e[s]===1)return!1;return!0}static isWhiteVertical(e,n,r,s){r=Math.max(r,0),s=Math.min(s,e.length);for(let o=r;o<s;o++)if(e[o][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let f=0;f<o;f++){const d=r[f];for(let p=0;p<s;p++)d[p]===1&&n++}const l=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-l)*10/l)*Ct.N4}static getDataMaskBit(e,n,r){let s,o;switch(e){case 0:s=r+n&1;break;case 1:s=r&1;break;case 2:s=n%3;break;case 3:s=(r+n)%3;break;case 4:s=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:o=r*n,s=(o&1)+o%3;break;case 6:o=r*n,s=(o&1)+o%3&1;break;case 7:o=r*n,s=o%3+(r+n&1)&1;break;default:throw new G("Invalid mask pattern: "+e)}return s===0}static applyMaskPenaltyRule1Internal(e,n){let r=0;const s=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),l=e.getArray();for(let u=0;u<s;u++){let f=0,d=-1;for(let p=0;p<o;p++){const m=n?l[u][p]:l[p][u];m===d?f++:(f>=5&&(r+=Ct.N1+(f-5)),f=1,d=m)}f>=5&&(r+=Ct.N1+(f-5))}return r}}Ct.N1=3,Ct.N2=3,Ct.N3=40,Ct.N4=10;class $i{constructor(e,n){this.width=e,this.height=n;const r=new Array(n);for(let s=0;s!==n;s++)r[s]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,r){this.bytes[n][e]=r}setBoolean(e,n,r){this.bytes[n][e]=r?1:0}clear(e){for(const n of this.bytes)Ye.fill(n,e)}equals(e){if(!(e instanceof $i))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r],l=n.bytes[r];for(let u=0,f=this.width;u<f;++u)if(o[u]!==l[u])return!1}return!0}toString(){const e=new Ve;for(let n=0,r=this.height;n<r;++n){const s=this.bytes[n];for(let o=0,l=this.width;o<l;++o)switch(s[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Dr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ve;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Dr.NUM_MASK_PATTERNS}}Dr.NUM_MASK_PATTERNS=8;class dt extends T{}dt.kind="WriterException";class Te{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,r,s,o){Te.clearMatrix(o),Te.embedBasicPatterns(r,o),Te.embedTypeInfo(n,s,o),Te.maybeEmbedVersionInfo(r,o),Te.embedDataBits(e,s,o)}static embedBasicPatterns(e,n){Te.embedPositionDetectionPatternsAndSeparators(n),Te.embedDarkDotAtLeftBottomCorner(n),Te.maybeEmbedPositionAdjustmentPatterns(e,n),Te.embedTimingPatterns(n)}static embedTypeInfo(e,n,r){const s=new De;Te.makeTypeInfoBits(e,n,s);for(let o=0,l=s.getSize();o<l;++o){const u=s.get(s.getSize()-1-o),f=Te.TYPE_INFO_COORDINATES[o],d=f[0],p=f[1];if(r.setBoolean(d,p,u),o<8){const m=r.getWidth()-o-1;r.setBoolean(m,8,u)}else{const y=r.getHeight()-7+(o-8);r.setBoolean(8,y,u)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const r=new De;Te.makeVersionInfoBits(e,r);let s=6*3-1;for(let o=0;o<6;++o)for(let l=0;l<3;++l){const u=r.get(s);s--,n.setBoolean(o,n.getHeight()-11+l,u),n.setBoolean(n.getHeight()-11+l,o,u)}}static embedDataBits(e,n,r){let s=0,o=-1,l=r.getWidth()-1,u=r.getHeight()-1;for(;l>0;){for(l===6&&(l-=1);u>=0&&u<r.getHeight();){for(let f=0;f<2;++f){const d=l-f;if(!Te.isEmpty(r.get(d,u)))continue;let p;s<e.getSize()?(p=e.get(s),++s):p=!1,n!==255&&Ct.getDataMaskBit(n,d,u)&&(p=!p),r.setBoolean(d,u,p)}u+=o}o=-o,u+=o,l-=2}if(s!==e.getSize())throw new dt("Not all bits consumed: "+s+"/"+e.getSize())}static findMSBSet(e){return 32-me.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new G("0 polynomial");const r=Te.findMSBSet(n);for(e<<=r-1;Te.findMSBSet(e)>=r;)e^=n<<Te.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,n,r){if(!Dr.isValidMaskPattern(n))throw new dt("Invalid mask pattern");const s=e.getBits()<<3|n;r.appendBits(s,5);const o=Te.calculateBCHCode(s,Te.TYPE_INFO_POLY);r.appendBits(o,10);const l=new De;if(l.appendBits(Te.TYPE_INFO_MASK_PATTERN,15),r.xor(l),r.getSize()!==15)throw new dt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const r=Te.calculateBCHCode(e.getVersionNumber(),Te.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new dt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const r=(n+1)%2;Te.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),Te.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new dt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,r){for(let s=0;s<8;++s){if(!Te.isEmpty(r.get(e+s,n)))throw new dt;r.setNumber(e+s,n,0)}}static embedVerticalSeparationPattern(e,n,r){for(let s=0;s<7;++s){if(!Te.isEmpty(r.get(e,n+s)))throw new dt;r.setNumber(e,n+s,0)}}static embedPositionAdjustmentPattern(e,n,r){for(let s=0;s<5;++s){const o=Te.POSITION_ADJUSTMENT_PATTERN[s];for(let l=0;l<5;++l)r.setNumber(e+l,n+s,o[l])}}static embedPositionDetectionPattern(e,n,r){for(let s=0;s<7;++s){const o=Te.POSITION_DETECTION_PATTERN[s];for(let l=0;l<7;++l)r.setNumber(e+l,n+s,o[l])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Te.POSITION_DETECTION_PATTERN[0].length;Te.embedPositionDetectionPattern(0,0,e),Te.embedPositionDetectionPattern(e.getWidth()-n,0,e),Te.embedPositionDetectionPattern(0,e.getWidth()-n,e);const r=8;Te.embedHorizontalSeparationPattern(0,r-1,e),Te.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Te.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const s=7;Te.embedVerticalSeparationPattern(s,0,e),Te.embedVerticalSeparationPattern(e.getHeight()-s-1,0,e),Te.embedVerticalSeparationPattern(s,e.getHeight()-s,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,s=Te.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,l=s.length;o!==l;o++){const u=s[o];if(u>=0)for(let f=0;f!==l;f++){const d=s[f];d>=0&&Te.isEmpty(n.get(d,u))&&Te.embedPositionAdjustmentPattern(d-2,u-2,n)}}}}Te.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Te.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Te.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Te.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Te.VERSION_INFO_POLY=7973,Te.TYPE_INFO_POLY=1335,Te.TYPE_INFO_MASK_PATTERN=21522;class Sl{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class gt{constructor(){}static calculateMaskPenalty(e){return Ct.applyMaskPenaltyRule1(e)+Ct.applyMaskPenaltyRule2(e)+Ct.applyMaskPenaltyRule3(e)+Ct.applyMaskPenaltyRule4(e)}static encode(e,n,r=null){let s=gt.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(Ut.CHARACTER_SET)!==void 0;o&&(s=r.get(Ut.CHARACTER_SET).toString());const l=this.chooseMode(e,s),u=new De;if(l===Se.BYTE&&(o||gt.DEFAULT_BYTE_MODE_ENCODING!==s)){const re=ne.getCharacterSetECIByName(s);re!==void 0&&this.appendECI(re,u)}this.appendModeInfo(l,u);const f=new De;this.appendBytes(e,l,f,s);let d;if(r!==null&&r.get(Ut.QR_VERSION)!==void 0){const re=Number.parseInt(r.get(Ut.QR_VERSION).toString(),10);d=ye.getVersionForNumber(re);const q=this.calculateBitsNeeded(l,u,f,d);if(!this.willFit(q,d,n))throw new dt("Data too big for requested version")}else d=this.recommendVersion(n,l,u,f);const p=new De;p.appendBitArray(u);const m=l===Se.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(m,d,l,p),p.appendBitArray(f);const y=d.getECBlocksForLevel(n),v=d.getTotalCodewords()-y.getTotalECCodewords();this.terminateBits(v,p);const O=this.interleaveWithECBytes(p,d.getTotalCodewords(),v,y.getNumBlocks()),M=new Dr;M.setECLevel(n),M.setMode(l),M.setVersion(d);const k=d.getDimensionForVersion(),U=new $i(k,k),te=this.chooseMaskPattern(O,n,d,U);return M.setMaskPattern(te),Te.buildMatrix(O,n,d,te,U),M.setMatrix(U),M}static recommendVersion(e,n,r,s){const o=this.calculateBitsNeeded(n,r,s,ye.getVersionForNumber(1)),l=this.chooseVersion(o,e),u=this.calculateBitsNeeded(n,r,s,l);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,n,r,s){return n.getSize()+e.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(e){return e<gt.ALPHANUMERIC_TABLE.length?gt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(ne.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Se.KANJI;let r=!1,s=!1;for(let o=0,l=e.length;o<l;++o){const u=e.charAt(o);if(gt.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)s=!0;else return Se.BYTE}return s?Se.ALPHANUMERIC:r?Se.NUMERIC:Se.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Mt.encode(e,ne.SJIS)}catch{return!1}const r=n.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const o=n[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,n,r,s){let o=Number.MAX_SAFE_INTEGER,l=-1;for(let u=0;u<Dr.NUM_MASK_PATTERNS;u++){Te.buildMatrix(e,n,r,u,s);let f=this.calculateMaskPenalty(s);f<o&&(o=f,l=u)}return l}static chooseVersion(e,n){for(let r=1;r<=40;r++){const s=ye.getVersionForNumber(r);if(gt.willFit(e,s,n))return s}throw new dt("Data too big")}static willFit(e,n,r){const s=n.getTotalCodewords(),l=n.getECBlocksForLevel(r).getTotalECCodewords(),u=s-l,f=(e+7)/8;return u>=f}static terminateBits(e,n){const r=e*8;if(n.getSize()>r)throw new dt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(let l=0;l<4&&n.getSize()<r;++l)n.appendBit(!1);const s=n.getSize()&7;if(s>0)for(let l=s;l<8;l++)n.appendBit(!1);const o=e-n.getSizeInBytes();for(let l=0;l<o;++l)n.appendBits(l&1?17:236,8);if(n.getSize()!==r)throw new dt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,r,s,o,l){if(s>=r)throw new dt("Block ID too large");const u=e%r,f=r-u,d=Math.floor(e/r),p=d+1,m=Math.floor(n/r),y=m+1,v=d-m,O=p-y;if(v!==O)throw new dt("EC bytes mismatch");if(r!==f+u)throw new dt("RS blocks mismatch");if(e!==(m+v)*f+(y+O)*u)throw new dt("Total bytes mismatch");s<f?(o[0]=m,l[0]=v):(o[0]=y,l[0]=O)}static interleaveWithECBytes(e,n,r,s){if(e.getSizeInBytes()!==r)throw new dt("Number of bits and data bytes does not match");let o=0,l=0,u=0;const f=new Array;for(let p=0;p<s;++p){const m=new Int32Array(1),y=new Int32Array(1);gt.getNumDataBytesAndNumECBytesForBlockID(n,r,s,p,m,y);const v=m[0],O=new Uint8Array(v);e.toBytes(8*o,O,0,v);const M=gt.generateECBytes(O,y[0]);f.push(new Sl(O,M)),l=Math.max(l,v),u=Math.max(u,M.length),o+=m[0]}if(r!==o)throw new dt("Data bytes does not match offset");const d=new De;for(let p=0;p<l;++p)for(const m of f){const y=m.getDataBytes();p<y.length&&d.appendBits(y[p],8)}for(let p=0;p<u;++p)for(const m of f){const y=m.getErrorCorrectionBytes();p<y.length&&d.appendBits(y[p],8)}if(n!==d.getSizeInBytes())throw new dt("Interleaving error: "+n+" and "+d.getSizeInBytes()+" differ.");return d}static generateECBytes(e,n){const r=e.length,s=new Int32Array(r+n);for(let l=0;l<r;l++)s[l]=e[l]&255;new Bs(qe.QR_CODE_FIELD_256).encode(s,n);const o=new Uint8Array(n);for(let l=0;l<n;l++)o[l]=s[r+l];return o}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,r,s){const o=r.getCharacterCountBits(n);if(e>=1<<o)throw new dt(e+" is bigger than "+((1<<o)-1));s.appendBits(e,o)}static appendBytes(e,n,r,s){switch(n){case Se.NUMERIC:gt.appendNumericBytes(e,r);break;case Se.ALPHANUMERIC:gt.appendAlphanumericBytes(e,r);break;case Se.BYTE:gt.append8BitBytes(e,r,s);break;case Se.KANJI:gt.appendKanjiBytes(e,r);break;default:throw new dt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=gt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=gt.getDigit(e.charAt(s));if(s+2<r){const l=gt.getDigit(e.charAt(s+1)),u=gt.getDigit(e.charAt(s+2));n.appendBits(o*100+l*10+u,10),s+=3}else if(s+1<r){const l=gt.getDigit(e.charAt(s+1));n.appendBits(o*10+l,7),s+=2}else n.appendBits(o,4),s++}}static appendAlphanumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=gt.getAlphanumericCode(e.charCodeAt(s));if(o===-1)throw new dt;if(s+1<r){const l=gt.getAlphanumericCode(e.charCodeAt(s+1));if(l===-1)throw new dt;n.appendBits(o*45+l,11),s+=2}else n.appendBits(o,6),s++}}static append8BitBytes(e,n,r){let s;try{s=Mt.encode(e,r)}catch(o){throw new dt(o)}for(let o=0,l=s.length;o!==l;o++){const u=s[o];n.appendBits(u,8)}}static appendKanjiBytes(e,n){let r;try{r=Mt.encode(e,ne.SJIS)}catch(o){throw new dt(o)}const s=r.length;for(let o=0;o<s;o+=2){const l=r[o]&255,u=r[o+1]&255,f=l<<8&4294967295|u;let d=-1;if(f>=33088&&f<=40956?d=f-33088:f>=57408&&f<=60351&&(d=f-49472),d===-1)throw new dt("Invalid byte sequence");const p=(d>>8)*192+(d&255);n.appendBits(p,13)}}static appendECI(e,n){n.appendBits(Se.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}gt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),gt.DEFAULT_BYTE_MODE_ENCODING=ne.UTF8.getName();class Mr{write(e,n,r,s=null){if(e.length===0)throw new G("Found empty contents");if(n<0||r<0)throw new G("Requested dimensions are too small: "+n+"x"+r);let o=ct.L,l=Mr.QUIET_ZONE_SIZE;s!==null&&(s.get(Ut.ERROR_CORRECTION)!==void 0&&(o=ct.fromString(s.get(Ut.ERROR_CORRECTION).toString())),s.get(Ut.MARGIN)!==void 0&&(l=Number.parseInt(s.get(Ut.MARGIN).toString(),10)));const u=gt.encode(e,o,s);return this.renderResult(u,n,r,l)}writeToDom(e,n,r,s,o=null){typeof e=="string"&&(e=document.querySelector(e));const l=this.write(n,r,s,o);e&&e.appendChild(l)}renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new Pn;const l=o.getWidth(),u=o.getHeight(),f=l+s*2,d=u+s*2,p=Math.max(n,f),m=Math.max(r,d),y=Math.min(Math.floor(p/f),Math.floor(m/d)),v=Math.floor((p-l*y)/2),O=Math.floor((m-u*y)/2),M=this.createSVGElement(p,m);for(let k=0,U=O;k<u;k++,U+=y)for(let te=0,re=v;te<l;te++,re+=y)if(o.get(te,k)===1){const q=this.createSvgRectElement(re,U,y,y);M.appendChild(q)}return M}createSVGElement(e,n){const r=document.createElementNS(Mr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}createSvgRectElement(e,n,r,s){const o=document.createElementNS(Mr.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}Mr.QUIET_ZONE_SIZE=4,Mr.SVG_NS="http://www.w3.org/2000/svg";class $r{encode(e,n,r,s,o){if(e.length===0)throw new G("Found empty contents");if(n!==se.QR_CODE)throw new G("Can only encode QR_CODE, but got "+n);if(r<0||s<0)throw new G(`Requested dimensions are too small: ${r}x${s}`);let l=ct.L,u=$r.QUIET_ZONE_SIZE;o!==null&&(o.get(Ut.ERROR_CORRECTION)!==void 0&&(l=ct.fromString(o.get(Ut.ERROR_CORRECTION).toString())),o.get(Ut.MARGIN)!==void 0&&(u=Number.parseInt(o.get(Ut.MARGIN).toString(),10)));const f=gt.encode(e,l,o);return $r.renderResult(f,r,s,u)}static renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new Pn;const l=o.getWidth(),u=o.getHeight(),f=l+s*2,d=u+s*2,p=Math.max(n,f),m=Math.max(r,d),y=Math.min(Math.floor(p/f),Math.floor(m/d)),v=Math.floor((p-l*y)/2),O=Math.floor((m-u*y)/2),M=new ot(p,m);for(let k=0,U=O;k<u;k++,U+=y)for(let te=0,re=v;te<l;te++,re+=y)o.get(te,k)===1&&M.setRegion(re,U,y,y);return M}}$r.QUIET_ZONE_SIZE=4;class Il{encode(e,n,r,s,o){let l;switch(n){case se.QR_CODE:l=new $r;break;default:throw new G("No encoder available for format "+n)}return l.encode(e,n,r,s,o)}}class er extends le{constructor(e,n,r,s,o,l,u,f){if(super(l,u),this.yuvData=e,this.dataWidth=n,this.dataHeight=r,this.left=s,this.top=o,s+l>n||o+u>r)throw new G("Crop rectangle does not fit within image data.");f&&this.reverseHorizontal(l,u)}getRow(e,n){if(e<0||e>=this.getHeight())throw new G("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return we.arraycopy(this.yuvData,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return we.arraycopy(this.yuvData,o,s,0,r),s;for(let l=0;l<n;l++){const u=l*e;we.arraycopy(this.yuvData,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new er(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,s,!1)}renderThumbnail(){const e=this.getWidth()/er.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/er.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let l=0;l<n;l++){const u=l*e;for(let f=0;f<e;f++){const d=s[o+f*er.THUMBNAIL_SCALE_FACTOR]&255;r[u+f]=4278190080|d*65793}o+=this.dataWidth*er.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/er.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/er.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const r=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<n;s++,o+=this.dataWidth){const l=o+e/2;for(let u=o,f=o+e-1;u<l;u++,f--){const d=r[u];r[u]=r[f],r[f]=d}}}invert(){return new Ce(this)}}er.THUMBNAIL_SCALE_FACTOR=2;class _i extends le{constructor(e,n,r,s,o,l,u){if(super(n,r),this.dataWidth=s,this.dataHeight=o,this.left=l,this.top=u,e.BYTES_PER_ELEMENT===4){const f=n*r,d=new Uint8ClampedArray(f);for(let p=0;p<f;p++){const m=e[p],y=m>>16&255,v=m>>7&510,O=m&255;d[p]=(y+v+O)/4&255}this.luminances=d}else this.luminances=e;if(s===void 0&&(this.dataWidth=n),o===void 0&&(this.dataHeight=r),l===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+r>this.dataHeight)throw new G("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new G("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return we.arraycopy(this.luminances,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return we.arraycopy(this.luminances,o,s,0,r),s;for(let l=0;l<n;l++){const u=l*e;we.arraycopy(this.luminances,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new _i(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Ce(this)}}class yo extends ne{static forName(e){return this.getCharacterSetECIByName(e)}}class Ps{}Ps.ISO_8859_1=ne.ISO8859_1;class Ao{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Ls{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class vl{constructor(e){this.previous=e}getPrevious(){return this.previous}}class ei extends vl{constructor(e,n,r){super(e),this.value=n,this.bitCount=r}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new ei(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ei(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+me.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Fs extends ei{constructor(e,n,r){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=r}appendTo(e,n){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+r],8)}addBinaryShift(e,n){return new Fs(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Tl(w,e,n){return new Fs(w,e,n)}function Ni(w,e,n){return new ei(w,e,n)}const _l=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Sr=0,ti=1,rn=2,So=3,Wn=4,Io=new ei(null,0,0),es=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function vo(w){for(let e of w)Ye.fill(e,-1);return w[Sr][Wn]=0,w[ti][Wn]=0,w[ti][Sr]=28,w[So][Wn]=0,w[rn][Wn]=0,w[rn][Sr]=15,w}const Us=vo(Ye.createInt32Array(6,6));class cn{constructor(e,n,r,s){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let r=this.bitCount,s=this.token;if(e!==this.mode){let l=es[this.mode][e];s=Ni(s,l&65535,l>>16),r+=l>>16}let o=e===rn?4:5;return s=Ni(s,n,o),new cn(s,e,0,r+o)}shiftAndAppend(e,n){let r=this.token,s=this.mode===rn?4:5;return r=Ni(r,Us[this.mode][e],s),r=Ni(r,n,5),new cn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(e){let n=this.token,r=this.mode,s=this.bitCount;if(this.mode===Wn||this.mode===rn){let u=es[r][Sr];n=Ni(n,u&65535,u>>16),s+=u>>16,r=Sr}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new cn(n,r,this.binaryShiftByteCount+1,s+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Tl(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new cn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(es[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=cn.calculateBinaryShiftCost(e)-cn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())n.unshift(s);let r=new De;for(const s of n)s.appendTo(r,e);return r}toString(){return Ae.format("%s bits=%d bytes=%d",_l[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}cn.INITIAL_STATE=new cn(Io,Sr,0,0);function Nl(w){const e=Ae.getCharCode(" "),n=Ae.getCharCode("."),r=Ae.getCharCode(",");w[Sr][e]=1;const s=Ae.getCharCode("Z"),o=Ae.getCharCode("A");for(let y=o;y<=s;y++)w[Sr][y]=y-o+2;w[ti][e]=1;const l=Ae.getCharCode("z"),u=Ae.getCharCode("a");for(let y=u;y<=l;y++)w[ti][y]=y-u+2;w[rn][e]=1;const f=Ae.getCharCode("9"),d=Ae.getCharCode("0");for(let y=d;y<=f;y++)w[rn][y]=y-d+2;w[rn][r]=12,w[rn][n]=13;const p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let y=0;y<p.length;y++)w[So][Ae.getCharCode(p[y])]=y;const m=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let y=0;y<m.length;y++)Ae.getCharCode(m[y])>0&&(w[Wn][Ae.getCharCode(m[y])]=y);return w}const Vs=Nl(Ye.createInt32Array(5,256));class Ri{constructor(e){this.text=e}encode(){const e=Ae.getCharCode(" "),n=Ae.getCharCode(`
`);let r=Ls.singletonList(cn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let l,u=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case Ae.getCharCode("\r"):l=u===n?2:0;break;case Ae.getCharCode("."):l=u===e?3:0;break;case Ae.getCharCode(","):l=u===e?4:0;break;case Ae.getCharCode(":"):l=u===e?5:0;break;default:l=0}l>0?(r=Ri.updateStateListForPair(r,o,l),o++):r=this.updateStateListForChar(r,o)}return Ls.min(r,(o,l)=>o.getBitCount()-l.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const r=[];for(let s of e)this.updateStateForChar(s,n,r);return Ri.simplifyStates(r)}updateStateForChar(e,n,r){let s=this.text[n]&255,o=Vs[e.getMode()][s]>0,l=null;for(let u=0;u<=Wn;u++){let f=Vs[u][s];if(f>0){if(l==null&&(l=e.endBinaryShift(n)),!o||u===e.getMode()||u===rn){const d=l.latchAndAppend(u,f);r.push(d)}if(!o&&Us[e.getMode()][u]>=0){const d=l.shiftAndAppend(u,f);r.push(d)}}}if(e.getBinaryShiftByteCount()>0||Vs[e.getMode()][s]===0){let u=e.addBinaryShiftChar(n);r.push(u)}}static updateStateListForPair(e,n,r){const s=[];for(let o of e)this.updateStateForPair(o,n,r,s);return this.simplifyStates(s)}static updateStateForPair(e,n,r,s){let o=e.endBinaryShift(n);if(s.push(o.latchAndAppend(Wn,r)),e.getMode()!==Wn&&s.push(o.shiftAndAppend(Wn,r)),r===3||r===4){let l=o.latchAndAppend(rn,16-r).latchAndAppend(rn,1);s.push(l)}if(e.getBinaryShiftByteCount()>0){let l=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);s.push(l)}}static simplifyStates(e){let n=[];for(const r of e){let s=!0;for(const o of n){if(o.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(o)&&(n=n.filter(l=>l!==o))}s&&n.push(r)}return n}}class Je{constructor(){}static encodeBytes(e){return Je.encode(e,Je.DEFAULT_EC_PERCENT,Je.DEFAULT_AZTEC_LAYERS)}static encode(e,n,r){let s=new Ri(e).encode(),o=me.truncDivision(s.getSize()*n,100)+11,l=s.getSize()+o,u,f,d,p,m;if(r!==Je.DEFAULT_AZTEC_LAYERS){if(u=r<0,f=Math.abs(r),f>(u?Je.MAX_NB_BITS_COMPACT:Je.MAX_NB_BITS))throw new G(Ae.format("Illegal value %s for layers",r));d=Je.totalBitsInLayer(f,u),p=Je.WORD_SIZE[f];let q=d-d%p;if(m=Je.stuffBits(s,p),m.getSize()+o>q)throw new G("Data to large for user specified layer");if(u&&m.getSize()>p*64)throw new G("Data to large for user specified layer")}else{p=0,m=null;for(let q=0;;q++){if(q>Je.MAX_NB_BITS)throw new G("Data too large for an Aztec code");if(u=q<=3,f=u?q+1:q,d=Je.totalBitsInLayer(f,u),l>d)continue;(m==null||p!==Je.WORD_SIZE[f])&&(p=Je.WORD_SIZE[f],m=Je.stuffBits(s,p));let We=d-d%p;if(!(u&&m.getSize()>p*64)&&m.getSize()+o<=We)break}}let y=Je.generateCheckWords(m,d,p),v=m.getSize()/p,O=Je.generateModeMessage(u,f,v),M=(u?11:14)+f*4,k=new Int32Array(M),U;if(u){U=M;for(let q=0;q<k.length;q++)k[q]=q}else{U=M+1+2*me.truncDivision(me.truncDivision(M,2)-1,15);let q=me.truncDivision(M,2),We=me.truncDivision(U,2);for(let Pe=0;Pe<q;Pe++){let mn=Pe+me.truncDivision(Pe,15);k[q-Pe-1]=We-mn-1,k[q+Pe]=We+mn+1}}let te=new ot(U);for(let q=0,We=0;q<f;q++){let Pe=(f-q)*4+(u?9:12);for(let mn=0;mn<Pe;mn++){let Gn=mn*2;for(let Vt=0;Vt<2;Vt++)y.get(We+Gn+Vt)&&te.set(k[q*2+Vt],k[q*2+mn]),y.get(We+Pe*2+Gn+Vt)&&te.set(k[q*2+mn],k[M-1-q*2-Vt]),y.get(We+Pe*4+Gn+Vt)&&te.set(k[M-1-q*2-Vt],k[M-1-q*2-mn]),y.get(We+Pe*6+Gn+Vt)&&te.set(k[M-1-q*2-mn],k[q*2+Vt])}We+=Pe*8}if(Je.drawModeMessage(te,u,U,O),u)Je.drawBullsEye(te,me.truncDivision(U,2),5);else{Je.drawBullsEye(te,me.truncDivision(U,2),7);for(let q=0,We=0;q<me.truncDivision(M,2)-1;q+=15,We+=16)for(let Pe=me.truncDivision(U,2)&1;Pe<U;Pe+=2)te.set(me.truncDivision(U,2)-We,Pe),te.set(me.truncDivision(U,2)+We,Pe),te.set(Pe,me.truncDivision(U,2)-We),te.set(Pe,me.truncDivision(U,2)+We)}let re=new Ao;return re.setCompact(u),re.setSize(U),re.setLayers(f),re.setCodeWords(v),re.setMatrix(te),re}static drawBullsEye(e,n,r){for(let s=0;s<r;s+=2)for(let o=n-s;o<=n+s;o++)e.set(o,n-s),e.set(o,n+s),e.set(n-s,o),e.set(n+s,o);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)}static generateModeMessage(e,n,r){let s=new De;return e?(s.appendBits(n-1,2),s.appendBits(r-1,6),s=Je.generateCheckWords(s,28,4)):(s.appendBits(n-1,5),s.appendBits(r-1,11),s=Je.generateCheckWords(s,40,4)),s}static drawModeMessage(e,n,r,s){let o=me.truncDivision(r,2);if(n)for(let l=0;l<7;l++){let u=o-3+l;s.get(l)&&e.set(u,o-5),s.get(l+7)&&e.set(o+5,u),s.get(20-l)&&e.set(u,o+5),s.get(27-l)&&e.set(o-5,u)}else for(let l=0;l<10;l++){let u=o-5+l+me.truncDivision(l,5);s.get(l)&&e.set(u,o-7),s.get(l+10)&&e.set(o+7,u),s.get(29-l)&&e.set(u,o+7),s.get(39-l)&&e.set(o-7,u)}}static generateCheckWords(e,n,r){let s=e.getSize()/r,o=new Bs(Je.getGF(r)),l=me.truncDivision(n,r),u=Je.bitsToWords(e,r,l);o.encode(u,l-s);let f=n%r,d=new De;d.appendBits(0,f);for(const p of Array.from(u))d.appendBits(p,r);return d}static bitsToWords(e,n,r){let s=new Int32Array(r),o,l;for(o=0,l=e.getSize()/n;o<l;o++){let u=0;for(let f=0;f<n;f++)u|=e.get(o*n+f)?1<<n-f-1:0;s[o]=u}return s}static getGF(e){switch(e){case 4:return qe.AZTEC_PARAM;case 6:return qe.AZTEC_DATA_6;case 8:return qe.AZTEC_DATA_8;case 10:return qe.AZTEC_DATA_10;case 12:return qe.AZTEC_DATA_12;default:throw new G("Unsupported word size "+e)}}static stuffBits(e,n){let r=new De,s=e.getSize(),o=(1<<n)-2;for(let l=0;l<s;l+=n){let u=0;for(let f=0;f<n;f++)(l+f>=s||e.get(l+f))&&(u|=1<<n-1-f);(u&o)===o?(r.appendBits(u&o,n),l--):u&o?r.appendBits(u,n):(r.appendBits(u|1,n),l--)}return r}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Je.DEFAULT_EC_PERCENT=33,Je.DEFAULT_AZTEC_LAYERS=0,Je.MAX_NB_BITS=32,Je.MAX_NB_BITS_COMPACT=4,Je.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Oi{encode(e,n,r,s){return this.encodeWithHints(e,n,r,s,null)}encodeWithHints(e,n,r,s,o){let l=Ps.ISO_8859_1,u=Je.DEFAULT_EC_PERCENT,f=Je.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(Ut.CHARACTER_SET)&&(l=yo.forName(o.get(Ut.CHARACTER_SET).toString())),o.has(Ut.ERROR_CORRECTION)&&(u=me.parseInt(o.get(Ut.ERROR_CORRECTION).toString())),o.has(Ut.AZTEC_LAYERS)&&(f=me.parseInt(o.get(Ut.AZTEC_LAYERS).toString()))),Oi.encodeLayers(e,n,r,s,l,u,f)}static encodeLayers(e,n,r,s,o,l,u){if(n!==se.AZTEC)throw new G("Can only encode AZTEC, but got "+n);let f=Je.encode(Ae.getBytes(e,o),l,u);return Oi.renderResult(f,r,s)}static renderResult(e,n,r){let s=e.getMatrix();if(s==null)throw new Pn;let o=s.getWidth(),l=s.getHeight(),u=Math.max(n,o),f=Math.max(r,l),d=Math.min(u/o,f/l),p=(u-o*d)/2,m=(f-l*d)/2,y=new ot(u,f);for(let v=0,O=m;v<l;v++,O+=d)for(let M=0,k=p;M<o;M++,k+=d)s.get(M,v)&&y.setRegion(k,O,d,d);return y}}x.AbstractExpandedDecoder=vs,x.ArgumentException=Z,x.ArithmeticException=wi,x.AztecCode=Ao,x.AztecCodeReader=Er,x.AztecCodeWriter=Oi,x.AztecDecoder=ft,x.AztecDetector=Xr,x.AztecDetectorResult=Cs,x.AztecEncoder=Je,x.AztecHighLevelEncoder=Ri,x.AztecPoint=tn,x.BarcodeFormat=se,x.Binarizer=ht,x.BinaryBitmap=Ie,x.BitArray=De,x.BitMatrix=ot,x.BitSource=Ns,x.BrowserAztecCodeReader=yl,x.BrowserBarcodeReader=go,x.BrowserCodeReader=be,x.BrowserDatamatrixCodeReader=Al,x.BrowserMultiFormatReader=Ti,x.BrowserPDF417Reader=Ji,x.BrowserQRCodeReader=Co,x.BrowserQRCodeSvgWriter=Mr,x.CharacterSetECI=ne,x.ChecksumException=Oe,x.Code128Reader=oe,x.Code39Reader=Lt,x.DataMatrixDecodedBitStreamParser=Vn,x.DataMatrixReader=zn,x.DecodeHintType=Fe,x.DecoderResult=at,x.DefaultGridSampler=Gi,x.DetectorResult=Gr,x.EAN13Reader=_n,x.EncodeHintType=Ut,x.Exception=T,x.FormatException=$,x.GenericGF=qe,x.GenericGFPoly=jt,x.GlobalHistogramBinarizer=et,x.GridSampler=Wi,x.GridSamplerInstance=Ln,x.HTMLCanvasElementLuminanceSource=ae,x.HybridBinarizer=xe,x.ITFReader=it,x.IllegalArgumentException=G,x.IllegalStateException=Pn,x.InvertedLuminanceSource=Ce,x.LuminanceSource=le,x.MathUtils=Ze,x.MultiFormatOneDReader=Yr,x.MultiFormatReader=qi,x.MultiFormatWriter=Il,x.NotFoundException=W,x.OneDReader=_t,x.PDF417DecodedBitStreamParser=V,x.PDF417DecoderErrorCorrection=Ds,x.PDF417Reader=qt,x.PDF417ResultMetadata=Ki,x.PerspectiveTransform=Tn,x.PlanarYUVLuminanceSource=er,x.QRCodeByteMatrix=$i,x.QRCodeDataMask=He,x.QRCodeDecodedBitStreamParser=Et,x.QRCodeDecoderErrorCorrectionLevel=ct,x.QRCodeDecoderFormatInformation=Zt,x.QRCodeEncoder=gt,x.QRCodeEncoderQRCode=Dr,x.QRCodeMaskUtil=Ct,x.QRCodeMatrixUtil=Te,x.QRCodeMode=Se,x.QRCodeReader=un,x.QRCodeVersion=ye,x.QRCodeWriter=$r,x.RGBLuminanceSource=_i,x.RSS14Reader=xt,x.RSSExpandedReader=Y,x.ReaderException=Jr,x.ReedSolomonDecoder=Wr,x.ReedSolomonEncoder=Bs,x.ReedSolomonException=wr,x.Result=ve,x.ResultMetadataType=Me,x.ResultPoint=fe,x.StringUtils=Ae,x.UnsupportedOperationException=gn,x.VideoInputDevice=B,x.WhiteRectangleDetector=Kn,x.WriterException=dt,x.ZXingArrays=Ye,x.ZXingCharset=yo,x.ZXingInteger=me,x.ZXingStandardCharsets=Ps,x.ZXingStringBuilder=Ve,x.ZXingStringEncoding=Mt,x.ZXingSystem=we,x.createAbstractExpandedDecoder=fo,Object.defineProperty(x,"__esModule",{value:!0})})}(ao,ao.exports)),ao.exports}var It=w0();const m0=n0(It),E0=t0({__proto__:null,default:m0},[It]);var tc=function(){function A(C,x,N){if(this.formatMap=new Map([[de.QR_CODE,It.BarcodeFormat.QR_CODE],[de.AZTEC,It.BarcodeFormat.AZTEC],[de.CODABAR,It.BarcodeFormat.CODABAR],[de.CODE_39,It.BarcodeFormat.CODE_39],[de.CODE_93,It.BarcodeFormat.CODE_93],[de.CODE_128,It.BarcodeFormat.CODE_128],[de.DATA_MATRIX,It.BarcodeFormat.DATA_MATRIX],[de.MAXICODE,It.BarcodeFormat.MAXICODE],[de.ITF,It.BarcodeFormat.ITF],[de.EAN_13,It.BarcodeFormat.EAN_13],[de.EAN_8,It.BarcodeFormat.EAN_8],[de.PDF_417,It.BarcodeFormat.PDF_417],[de.RSS_14,It.BarcodeFormat.RSS_14],[de.RSS_EXPANDED,It.BarcodeFormat.RSS_EXPANDED],[de.UPC_A,It.BarcodeFormat.UPC_A],[de.UPC_E,It.BarcodeFormat.UPC_E],[de.UPC_EAN_EXTENSION,It.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!E0)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=x,this.logger=N;var R=this.createZXingFormats(C),S=new Map;S.set(It.DecodeHintType.POSSIBLE_FORMATS,R),S.set(It.DecodeHintType.TRY_HARDER,!1),this.hints=S}return A.prototype.decodeAsync=function(C){var x=this;return new Promise(function(N,R){try{N(x.decode(C))}catch(S){R(S)}})},A.prototype.decode=function(C){var x=new It.MultiFormatReader(this.verbose,this.hints),N=new It.HTMLCanvasElementLuminanceSource(C),R=new It.BinaryBitmap(new It.HybridBinarizer(N)),S=x.decode(R);return{text:S.text,format:ac.create(this.toHtml5QrcodeSupportedFormats(S.format)),debugData:this.createDebugData()}},A.prototype.createReverseFormatMap=function(){var C=new Map;return this.formatMap.forEach(function(x,N,R){C.set(x,N)}),C},A.prototype.toHtml5QrcodeSupportedFormats=function(C){if(!this.reverseFormatMap.has(C))throw"reverseFormatMap doesn't have ".concat(C);return this.reverseFormatMap.get(C)},A.prototype.createZXingFormats=function(C){for(var x=[],N=0,R=C;N<R.length;N++){var S=R[N];this.formatMap.has(S)?x.push(this.formatMap.get(S)):this.logger.logError("".concat(S," is not supported by")+"ZXingHtml5QrcodeShim")}return x},A.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},A}(),C0=function(A,C,x,N){function R(S){return S instanceof x?S:new x(function(H){H(S)})}return new(x||(x=Promise))(function(S,H){function K(Z){try{T(N.next(Z))}catch(G){H(G)}}function X(Z){try{T(N.throw(Z))}catch(G){H(G)}}function T(Z){Z.done?S(Z.value):R(Z.value).then(K,X)}T((N=N.apply(A,C||[])).next())})},y0=function(A,C){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},N,R,S,H;return H={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function K(T){return function(Z){return X([T,Z])}}function X(T){if(N)throw new TypeError("Generator is already executing.");for(;H&&(H=0,T[0]&&(x=0)),x;)try{if(N=1,R&&(S=T[0]&2?R.return:T[0]?R.throw||((S=R.return)&&S.call(R),0):R.next)&&!(S=S.call(R,T[1])).done)return S;switch(R=0,S&&(T=[T[0]&2,S.value]),T[0]){case 0:case 1:S=T;break;case 4:return x.label++,{value:T[1],done:!1};case 5:x.label++,R=T[1],T=[0];continue;case 7:T=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(T[0]===6||T[0]===2)){x=0;continue}if(T[0]===3&&(!S||T[1]>S[0]&&T[1]<S[3])){x.label=T[1];break}if(T[0]===6&&x.label<S[1]){x.label=S[1],S=T;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(T);break}S[2]&&x.ops.pop(),x.trys.pop();continue}T=C.call(A,x)}catch(Z){T=[6,Z],R=0}finally{N=S=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},nc=function(){function A(C,x,N){if(this.formatMap=new Map([[de.QR_CODE,"qr_code"],[de.AZTEC,"aztec"],[de.CODABAR,"codabar"],[de.CODE_39,"code_39"],[de.CODE_93,"code_93"],[de.CODE_128,"code_128"],[de.DATA_MATRIX,"data_matrix"],[de.ITF,"itf"],[de.EAN_13,"ean_13"],[de.EAN_8,"ean_8"],[de.PDF_417,"pdf417"],[de.UPC_A,"upc_a"],[de.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!A.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=x,this.logger=N;var R=this.createBarcodeDetectorFormats(C);if(this.detector=new BarcodeDetector(R),!this.detector)throw"BarcodeDetector detector not supported"}return A.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var C=new BarcodeDetector({formats:["qr_code"]});return typeof C<"u"},A.prototype.decodeAsync=function(C){return C0(this,void 0,void 0,function(){var x,N;return y0(this,function(R){switch(R.label){case 0:return[4,this.detector.detect(C)];case 1:if(x=R.sent(),!x||x.length===0)throw"No barcode or QR code detected.";return N=this.selectLargestBarcode(x),[2,{text:N.rawValue,format:ac.create(this.toHtml5QrcodeSupportedFormats(N.format)),debugData:this.createDebugData()}]}})})},A.prototype.selectLargestBarcode=function(C){for(var x=null,N=0,R=0,S=C;R<S.length;R++){var H=S[R],K=H.boundingBox.width*H.boundingBox.height;K>N&&(N=K,x=H)}if(!x)throw"No largest barcode found";return x},A.prototype.createBarcodeDetectorFormats=function(C){for(var x=[],N=0,R=C;N<R.length;N++){var S=R[N];this.formatMap.has(S)?x.push(this.formatMap.get(S)):this.logger.warn("".concat(S," is not supported by")+"BarcodeDetectorDelegate")}return{formats:x}},A.prototype.toHtml5QrcodeSupportedFormats=function(C){if(!this.reverseFormatMap.has(C))throw"reverseFormatMap doesn't have ".concat(C);return this.reverseFormatMap.get(C)},A.prototype.createReverseFormatMap=function(){var C=new Map;return this.formatMap.forEach(function(x,N,R){C.set(x,N)}),C},A.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},A}(),rc=function(A,C,x,N){function R(S){return S instanceof x?S:new x(function(H){H(S)})}return new(x||(x=Promise))(function(S,H){function K(Z){try{T(N.next(Z))}catch(G){H(G)}}function X(Z){try{T(N.throw(Z))}catch(G){H(G)}}function T(Z){Z.done?S(Z.value):R(Z.value).then(K,X)}T((N=N.apply(A,C||[])).next())})},ic=function(A,C){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},N,R,S,H;return H={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function K(T){return function(Z){return X([T,Z])}}function X(T){if(N)throw new TypeError("Generator is already executing.");for(;H&&(H=0,T[0]&&(x=0)),x;)try{if(N=1,R&&(S=T[0]&2?R.return:T[0]?R.throw||((S=R.return)&&S.call(R),0):R.next)&&!(S=S.call(R,T[1])).done)return S;switch(R=0,S&&(T=[T[0]&2,S.value]),T[0]){case 0:case 1:S=T;break;case 4:return x.label++,{value:T[1],done:!1};case 5:x.label++,R=T[1],T=[0];continue;case 7:T=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(T[0]===6||T[0]===2)){x=0;continue}if(T[0]===3&&(!S||T[1]>S[0]&&T[1]<S[3])){x.label=T[1];break}if(T[0]===6&&x.label<S[1]){x.label=S[1],S=T;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(T);break}S[2]&&x.ops.pop(),x.trys.pop();continue}T=C.call(A,x)}catch(Z){T=[6,Z],R=0}finally{N=S=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},A0=function(){function A(C,x,N,R){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=N,x&&nc.isSupported()?(this.primaryDecoder=new nc(C,N,R),this.secondaryDecoder=new tc(C,N,R)):this.primaryDecoder=new tc(C,N,R)}return A.prototype.decodeAsync=function(C){return rc(this,void 0,void 0,function(){var x;return ic(this,function(N){switch(N.label){case 0:x=performance.now(),N.label=1;case 1:return N.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(C)];case 2:return[2,N.sent()];case 3:return this.possiblyLogPerformance(x),[7];case 4:return[2]}})})},A.prototype.decodeRobustlyAsync=function(C){return rc(this,void 0,void 0,function(){var x,N;return ic(this,function(R){switch(R.label){case 0:x=performance.now(),R.label=1;case 1:return R.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(C)];case 2:return[2,R.sent()];case 3:if(N=R.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(C)];throw N;case 4:return this.possiblyLogPerformance(x),[7];case 5:return[2]}})})},A.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},A.prototype.possiblyLogPerformance=function(C){if(this.verbose){var x=performance.now()-C;this.executionResults.push(x),this.executions++,this.possiblyFlushPerformanceReport()}},A.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var C=0,x=0,N=this.executionResults;x<N.length;x++){var R=N[x];C+=R}var S=C/this.executionResults.length;console.log("".concat(S," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},A}(),Ka=function(){var A=function(C,x){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,R){N.__proto__=R}||function(N,R){for(var S in R)Object.prototype.hasOwnProperty.call(R,S)&&(N[S]=R[S])},A(C,x)};return function(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");A(C,x);function N(){this.constructor=C}C.prototype=x===null?Object.create(x):(N.prototype=x.prototype,new N)}}(),El=function(A,C,x,N){function R(S){return S instanceof x?S:new x(function(H){H(S)})}return new(x||(x=Promise))(function(S,H){function K(Z){try{T(N.next(Z))}catch(G){H(G)}}function X(Z){try{T(N.throw(Z))}catch(G){H(G)}}function T(Z){Z.done?S(Z.value):R(Z.value).then(K,X)}T((N=N.apply(A,C||[])).next())})},Cl=function(A,C){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},N,R,S,H;return H={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function K(T){return function(Z){return X([T,Z])}}function X(T){if(N)throw new TypeError("Generator is already executing.");for(;H&&(H=0,T[0]&&(x=0)),x;)try{if(N=1,R&&(S=T[0]&2?R.return:T[0]?R.throw||((S=R.return)&&S.call(R),0):R.next)&&!(S=S.call(R,T[1])).done)return S;switch(R=0,S&&(T=[T[0]&2,S.value]),T[0]){case 0:case 1:S=T;break;case 4:return x.label++,{value:T[1],done:!1};case 5:x.label++,R=T[1],T=[0];continue;case 7:T=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(T[0]===6||T[0]===2)){x=0;continue}if(T[0]===3&&(!S||T[1]>S[0]&&T[1]<S[3])){x.label=T[1];break}if(T[0]===6&&x.label<S[1]){x.label=S[1],S=T;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(T);break}S[2]&&x.ops.pop(),x.trys.pop();continue}T=C.call(A,x)}catch(Z){T=[6,Z],R=0}finally{N=S=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},cc=function(){function A(C,x){this.name=C,this.track=x}return A.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},A.prototype.apply=function(C){var x={};x[this.name]=C;var N={advanced:[x]};return this.track.applyConstraints(N)},A.prototype.value=function(){var C=this.track.getSettings();if(this.name in C){var x=C[this.name];return x}return null},A}(),S0=function(A){Ka(C,A);function C(x,N){return A.call(this,x,N)||this}return C.prototype.min=function(){return this.getCapabilities().min},C.prototype.max=function(){return this.getCapabilities().max},C.prototype.step=function(){return this.getCapabilities().step},C.prototype.apply=function(x){var N={};N[this.name]=x;var R={advanced:[N]};return this.track.applyConstraints(R)},C.prototype.getCapabilities=function(){this.failIfNotSupported();var x=this.track.getCapabilities(),N=x[this.name];return{min:N.min,max:N.max,step:N.step}},C.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},C}(cc),I0=function(A){Ka(C,A);function C(x){return A.call(this,"zoom",x)||this}return C}(S0),v0=function(A){Ka(C,A);function C(x){return A.call(this,"torch",x)||this}return C}(cc),T0=function(){function A(C){this.track=C}return A.prototype.zoomFeature=function(){return new I0(this.track)},A.prototype.torchFeature=function(){return new v0(this.track)},A}(),_0=function(){function A(C,x,N){this.isClosed=!1,this.parentElement=C,this.mediaStream=x,this.callbacks=N,this.surface=this.createVideoElement(this.parentElement.clientWidth),C.append(this.surface)}return A.prototype.createVideoElement=function(C){var x=document.createElement("video");return x.style.width="".concat(C,"px"),x.style.display="block",x.muted=!0,x.setAttribute("muted","true"),x.playsInline=!0,x},A.prototype.setupSurface=function(){var C=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var x=function(){var N=C.surface.clientWidth,R=C.surface.clientHeight;C.callbacks.onRenderSurfaceReady(N,R),C.surface.removeEventListener("playing",x)};this.surface.addEventListener("playing",x),this.surface.srcObject=this.mediaStream,this.surface.play()},A.create=function(C,x,N,R){return El(this,void 0,void 0,function(){var S,H;return Cl(this,function(K){switch(K.label){case 0:return S=new A(C,x,R),N.aspectRatio?(H={aspectRatio:N.aspectRatio},[4,S.getFirstTrackOrFail().applyConstraints(H)]):[3,2];case 1:K.sent(),K.label=2;case 2:return S.setupSurface(),[2,S]}})})},A.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},A.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},A.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},A.prototype.resume=function(C){this.failIfClosed();var x=this,N=function(){setTimeout(C,200),x.surface.removeEventListener("playing",N)};this.surface.addEventListener("playing",N),this.surface.play()},A.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},A.prototype.getSurface=function(){return this.failIfClosed(),this.surface},A.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},A.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},A.prototype.applyVideoConstraints=function(C){return El(this,void 0,void 0,function(){return Cl(this,function(x){if("aspectRatio"in C)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(C)]})})},A.prototype.close=function(){if(this.isClosed)return Promise.resolve();var C=this;return new Promise(function(x,N){var R=C.mediaStream.getVideoTracks(),S=R.length,H=0;C.mediaStream.getVideoTracks().forEach(function(K){C.mediaStream.removeTrack(K),K.stop(),++H,H>=S&&(C.isClosed=!0,C.parentElement.removeChild(C.surface),x())})})},A.prototype.getCapabilities=function(){return new T0(this.getFirstTrackOrFail())},A}(),N0=function(){function A(C){this.mediaStream=C}return A.prototype.render=function(C,x,N){return El(this,void 0,void 0,function(){return Cl(this,function(R){return[2,_0.create(C,this.mediaStream,x,N)]})})},A.create=function(C){return El(this,void 0,void 0,function(){var x,N;return Cl(this,function(R){switch(R.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return x={audio:!1,video:C},[4,navigator.mediaDevices.getUserMedia(x)];case 1:return N=R.sent(),[2,new A(N)]}})})},A}(),sc=function(A,C,x,N){function R(S){return S instanceof x?S:new x(function(H){H(S)})}return new(x||(x=Promise))(function(S,H){function K(Z){try{T(N.next(Z))}catch(G){H(G)}}function X(Z){try{T(N.throw(Z))}catch(G){H(G)}}function T(Z){Z.done?S(Z.value):R(Z.value).then(K,X)}T((N=N.apply(A,C||[])).next())})},oc=function(A,C){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},N,R,S,H;return H={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function K(T){return function(Z){return X([T,Z])}}function X(T){if(N)throw new TypeError("Generator is already executing.");for(;H&&(H=0,T[0]&&(x=0)),x;)try{if(N=1,R&&(S=T[0]&2?R.return:T[0]?R.throw||((S=R.return)&&S.call(R),0):R.next)&&!(S=S.call(R,T[1])).done)return S;switch(R=0,S&&(T=[T[0]&2,S.value]),T[0]){case 0:case 1:S=T;break;case 4:return x.label++,{value:T[1],done:!1};case 5:x.label++,R=T[1],T=[0];continue;case 7:T=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(T[0]===6||T[0]===2)){x=0;continue}if(T[0]===3&&(!S||T[1]>S[0]&&T[1]<S[3])){x.label=T[1];break}if(T[0]===6&&x.label<S[1]){x.label=S[1],S=T;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(T);break}S[2]&&x.ops.pop(),x.trys.pop();continue}T=C.call(A,x)}catch(Z){T=[6,Z],R=0}finally{N=S=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},R0=function(){function A(){}return A.failIfNotSupported=function(){return sc(this,void 0,void 0,function(){return oc(this,function(C){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new A]})})},A.prototype.create=function(C){return sc(this,void 0,void 0,function(){return oc(this,function(x){return[2,N0.create(C)]})})},A}(),O0=function(A,C,x,N){function R(S){return S instanceof x?S:new x(function(H){H(S)})}return new(x||(x=Promise))(function(S,H){function K(Z){try{T(N.next(Z))}catch(G){H(G)}}function X(Z){try{T(N.throw(Z))}catch(G){H(G)}}function T(Z){Z.done?S(Z.value):R(Z.value).then(K,X)}T((N=N.apply(A,C||[])).next())})},D0=function(A,C){var x={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},N,R,S,H;return H={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function K(T){return function(Z){return X([T,Z])}}function X(T){if(N)throw new TypeError("Generator is already executing.");for(;H&&(H=0,T[0]&&(x=0)),x;)try{if(N=1,R&&(S=T[0]&2?R.return:T[0]?R.throw||((S=R.return)&&S.call(R),0):R.next)&&!(S=S.call(R,T[1])).done)return S;switch(R=0,S&&(T=[T[0]&2,S.value]),T[0]){case 0:case 1:S=T;break;case 4:return x.label++,{value:T[1],done:!1};case 5:x.label++,R=T[1],T=[0];continue;case 7:T=x.ops.pop(),x.trys.pop();continue;default:if(S=x.trys,!(S=S.length>0&&S[S.length-1])&&(T[0]===6||T[0]===2)){x=0;continue}if(T[0]===3&&(!S||T[1]>S[0]&&T[1]<S[3])){x.label=T[1];break}if(T[0]===6&&x.label<S[1]){x.label=S[1],S=T;break}if(S&&x.label<S[2]){x.label=S[2],x.ops.push(T);break}S[2]&&x.ops.pop(),x.trys.pop();continue}T=C.call(A,x)}catch(Z){T=[6,Z],R=0}finally{N=S=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},M0=function(){function A(){}return A.retrieve=function(){if(navigator.mediaDevices)return A.getCamerasFromMediaDevices();var C=MediaStreamTrack;return MediaStreamTrack&&C.getSources?A.getCamerasFromMediaStreamTrack():A.rejectWithError()},A.rejectWithError=function(){var C=Es.unableToQuerySupportedDevices();return A.isHttpsOrLocalhost()||(C=Es.insecureContextCameraQueryError()),Promise.reject(C)},A.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var C=location.host.split(":")[0];return C==="127.0.0.1"||C==="localhost"},A.getCamerasFromMediaDevices=function(){return O0(this,void 0,void 0,function(){var C,x,N,R,S,H,K;return D0(this,function(X){switch(X.label){case 0:return C=function(T){for(var Z=T.getVideoTracks(),G=0,Ie=Z;G<Ie.length;G++){var Oe=Ie[G];Oe.enabled=!1,Oe.stop(),T.removeTrack(Oe)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return x=X.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(N=X.sent(),R=[],S=0,H=N;S<H.length;S++)K=H[S],K.kind==="videoinput"&&R.push({id:K.deviceId,label:K.label});return C(x),[2,R]}})})},A.getCamerasFromMediaStreamTrack=function(){return new Promise(function(C,x){var N=function(S){for(var H=[],K=0,X=S;K<X.length;K++){var T=X[K];T.kind==="video"&&H.push({id:T.id,label:T.label})}C(H)},R=MediaStreamTrack;R.getSources(N)})},A}(),Dt;(function(A){A[A.UNKNOWN=0]="UNKNOWN",A[A.NOT_STARTED=1]="NOT_STARTED",A[A.SCANNING=2]="SCANNING",A[A.PAUSED=3]="PAUSED"})(Dt||(Dt={}));var b0=function(){function A(){this.state=Dt.NOT_STARTED,this.onGoingTransactionNewState=Dt.UNKNOWN}return A.prototype.directTransition=function(C){this.failIfTransitionOngoing(),this.validateTransition(C),this.state=C},A.prototype.startTransition=function(C){return this.failIfTransitionOngoing(),this.validateTransition(C),this.onGoingTransactionNewState=C,this},A.prototype.execute=function(){if(this.onGoingTransactionNewState===Dt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var C=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Dt.UNKNOWN,this.directTransition(C)},A.prototype.cancel=function(){if(this.onGoingTransactionNewState===Dt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Dt.UNKNOWN},A.prototype.getState=function(){return this.state},A.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Dt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},A.prototype.validateTransition=function(C){switch(this.state){case Dt.UNKNOWN:throw"Transition from unknown is not allowed";case Dt.NOT_STARTED:this.failIfNewStateIs(C,[Dt.PAUSED]);break;case Dt.SCANNING:break;case Dt.PAUSED:break}},A.prototype.failIfNewStateIs=function(C,x){for(var N=0,R=x;N<R.length;N++){var S=R[N];if(C===S)throw"Cannot transition from ".concat(this.state," to ").concat(C)}},A}(),k0=function(){function A(C){this.stateManager=C}return A.prototype.startTransition=function(C){return this.stateManager.startTransition(C)},A.prototype.directTransition=function(C){this.stateManager.directTransition(C)},A.prototype.getState=function(){return this.stateManager.getState()},A.prototype.canScanFile=function(){return this.stateManager.getState()===Dt.NOT_STARTED},A.prototype.isScanning=function(){return this.stateManager.getState()!==Dt.NOT_STARTED},A.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Dt.SCANNING},A.prototype.isPaused=function(){return this.stateManager.getState()===Dt.PAUSED},A}(),B0=function(){function A(){}return A.create=function(){return new k0(new b0)},A}(),P0=function(){var A=function(C,x){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,R){N.__proto__=R}||function(N,R){for(var S in R)Object.prototype.hasOwnProperty.call(R,S)&&(N[S]=R[S])},A(C,x)};return function(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");A(C,x);function N(){this.constructor=C}C.prototype=x===null?Object.create(x):(N.prototype=x.prototype,new N)}}(),Zn=function(A){P0(C,A);function C(){return A!==null&&A.apply(this,arguments)||this}return C.DEFAULT_WIDTH=300,C.DEFAULT_WIDTH_OFFSET=2,C.FILE_SCAN_MIN_HEIGHT=300,C.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,C.MIN_QR_BOX_SIZE=50,C.SHADED_LEFT=1,C.SHADED_RIGHT=2,C.SHADED_TOP=3,C.SHADED_BOTTOM=4,C.SHADED_REGION_ELEMENT_ID="qr-shaded-region",C.VERBOSE=!1,C.BORDER_SHADER_DEFAULT_COLOR="#ffffff",C.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",C}(h0),L0=function(){function A(C,x){this.logger=x,this.fps=Zn.SCAN_DEFAULT_FPS,C?(C.fps&&(this.fps=C.fps),this.disableFlip=C.disableFlip===!0,this.qrbox=C.qrbox,this.aspectRatio=C.aspectRatio,this.videoConstraints=C.videoConstraints):this.disableFlip=Zn.DEFAULT_DISABLE_FLIP}return A.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?uc.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},A.prototype.isShadedBoxEnabled=function(){return!Hr(this.qrbox)},A.create=function(C,x){return new A(C,x)},A}(),F0=function(){function A(C,x){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(C))throw"HTML Element with id=".concat(C," not found");this.elementId=C,this.verbose=!1;var N;typeof x=="boolean"?this.verbose=x===!0:x&&(N=x,this.verbose=N.verbose===!0,N.experimentalFeatures),this.logger=new x0(this.verbose),this.qrcode=new A0(this.getSupportedFormats(x),this.getUseBarCodeDetectorIfSupported(N),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=B0.create()}return A.prototype.start=function(C,x,N,R){var S=this;if(!C)throw"cameraIdOrConfig is required";if(!N||typeof N!="function")throw"qrCodeSuccessCallback is required and should be a function.";var H;R?H=R:H=this.verbose?this.logger.log:function(){};var K=L0.create(x,this.logger);this.clearElement();var X=!1;K.videoConstraints&&(K.isMediaStreamConstraintsValid()?X=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var T=X,Z=document.getElementById(this.elementId);Z.clientWidth?Z.clientWidth:Zn.DEFAULT_WIDTH,Z.style.position="relative",this.shouldScan=!0,this.element=Z;var G=this,Ie=this.stateManagerProxy.startTransition(Dt.SCANNING);return new Promise(function(Oe,ht){var we=T?K.videoConstraints:G.createVideoConstraints(C);if(!we){Ie.cancel(),ht("videoConstraints should be defined");return}var Ge={};(!T||K.aspectRatio)&&(Ge.aspectRatio=K.aspectRatio);var en={onRenderSurfaceReady:function(Ye,me){G.setupUi(Ye,me,K),G.isScanning=!0,G.foreverScan(K,N,H)}};R0.failIfNotSupported().then(function(Ye){Ye.create(we).then(function(me){return me.render(S.element,Ge,en).then(function(De){G.renderedCamera=De,Ie.execute(),Oe(null)}).catch(function(De){Ie.cancel(),ht(De)})}).catch(function(me){Ie.cancel(),ht(Es.errorGettingUserMedia(me))})}).catch(function(Ye){Ie.cancel(),ht(Es.cameraStreamingNotSupported())})})},A.prototype.pause=function(C){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Dt.PAUSED),this.showPausedState(),(Hr(C)||C!==!0)&&(C=!1),C&&this.renderedCamera&&this.renderedCamera.pause()},A.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var C=this,x=function(){C.stateManagerProxy.directTransition(Dt.SCANNING),C.hidePausedState()};if(!this.renderedCamera.isPaused()){x();return}this.renderedCamera.resume(function(){x()})},A.prototype.getState=function(){return this.stateManagerProxy.getState()},A.prototype.stop=function(){var C=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var x=this.stateManagerProxy.startTransition(Dt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var N=function(){if(C.element){var S=document.getElementById(Zn.SHADED_REGION_ELEMENT_ID);S&&C.element.removeChild(S)}},R=this;return this.renderedCamera.close().then(function(){return R.renderedCamera=null,R.element&&(R.element.removeChild(R.canvasElement),R.canvasElement=null),N(),R.qrRegion&&(R.qrRegion=null),R.context&&(R.context=null),x.execute(),R.hidePausedState(),R.isScanning=!1,Promise.resolve()})},A.prototype.scanFile=function(C,x){return this.scanFileV2(C,x).then(function(N){return N.decodedText})},A.prototype.scanFileV2=function(C,x){var N=this;if(!C||!(C instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Hr(x)&&(x=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(R,S){N.possiblyCloseLastScanImageFile(),N.clearElement(),N.lastScanImageFile=URL.createObjectURL(C);var H=new Image;H.onload=function(){var K=H.width,X=H.height,T=document.getElementById(N.elementId),Z=T.clientWidth?T.clientWidth:Zn.DEFAULT_WIDTH,G=Math.max(T.clientHeight?T.clientHeight:X,Zn.FILE_SCAN_MIN_HEIGHT),Ie=N.computeCanvasDrawConfig(K,X,Z,G);if(x){var Oe=N.createCanvasElement(Z,G,"qr-canvas-visible");Oe.style.display="inline-block",T.appendChild(Oe);var ht=Oe.getContext("2d");if(!ht)throw"Unable to get 2d context from canvas";ht.canvas.width=Z,ht.canvas.height=G,ht.drawImage(H,0,0,K,X,Ie.x,Ie.y,Ie.width,Ie.height)}var we=Zn.FILE_SCAN_HIDDEN_CANVAS_PADDING,Ge=Math.max(H.width,Ie.width),en=Math.max(H.height,Ie.height),Ye=Ge+2*we,me=en+2*we,De=N.createCanvasElement(Ye,me);T.appendChild(De);var Ht=De.getContext("2d");if(!Ht)throw"Unable to get 2d context from canvas";Ht.canvas.width=Ye,Ht.canvas.height=me,Ht.drawImage(H,0,0,K,X,we,we,Ge,en);try{N.qrcode.decodeRobustlyAsync(De).then(function(Fe){R($1.createFromQrcodeResult(Fe))}).catch(S)}catch(Fe){S("QR code parse error, error = ".concat(Fe))}},H.onerror=S,H.onabort=S,H.onstalled=S,H.onsuspend=S,H.src=URL.createObjectURL(C)})},A.prototype.clear=function(){this.clearElement()},A.getCameras=function(){return M0.retrieve()},A.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},A.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},A.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},A.prototype.applyVideoConstraints=function(C){if(C){if(!uc.isMediaStreamConstraintsValid(C,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(C)},A.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},A.prototype.getSupportedFormats=function(C){var x=[de.QR_CODE,de.AZTEC,de.CODABAR,de.CODE_39,de.CODE_93,de.CODE_128,de.DATA_MATRIX,de.MAXICODE,de.ITF,de.EAN_13,de.EAN_8,de.PDF_417,de.RSS_14,de.RSS_EXPANDED,de.UPC_A,de.UPC_E,de.UPC_EAN_EXTENSION];if(!C||typeof C=="boolean"||!C.formatsToSupport)return x;if(!Array.isArray(C.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(C.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var N=[],R=0,S=C.formatsToSupport;R<S.length;R++){var H=S[R];d0(H)?N.push(H):this.logger.warn("Invalid format: ".concat(H," passed in config, ignoring."))}if(N.length===0)throw"None of formatsToSupport match supported values.";return N},A.prototype.getUseBarCodeDetectorIfSupported=function(C){if(Hr(C))return!0;if(!Hr(C.useBarCodeDetectorIfSupported))return C.useBarCodeDetectorIfSupported!==!1;if(Hr(C.experimentalFeatures))return!0;var x=C.experimentalFeatures;return Hr(x.useBarCodeDetectorIfSupported)?!0:x.useBarCodeDetectorIfSupported!==!1},A.prototype.validateQrboxSize=function(C,x,N){var R=this,S=N.qrbox;this.validateQrboxConfig(S);var H=this.toQrdimensions(C,x,S),K=function(T){if(T<Zn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Zn.MIN_QR_BOX_SIZE,"px.")},X=function(T){return T>C&&(R.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),T=C),T};K(H.width),K(H.height),H.width=X(H.width)},A.prototype.validateQrboxConfig=function(C){if(typeof C!="number"&&typeof C!="function"&&(C.width===void 0||C.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},A.prototype.toQrdimensions=function(C,x,N){if(typeof N=="number")return{width:N,height:N};if(typeof N=="function")try{return N(C,x)}catch(R){throw new Error("qrbox config was passed as a function but it failed with unknown error"+R)}return N},A.prototype.setupUi=function(C,x,N){N.isShadedBoxEnabled()&&this.validateQrboxSize(C,x,N);var R=Hr(N.qrbox)?{width:C,height:x}:N.qrbox;this.validateQrboxConfig(R);var S=this.toQrdimensions(C,x,R);S.height>x&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var H=N.isShadedBoxEnabled()&&S.height<=x,K={x:0,y:0,width:C,height:x},X=H?this.getShadedRegionBounds(C,x,S):K,T=this.createCanvasElement(X.width,X.height),Z={willReadFrequently:!0},G=T.getContext("2d",Z);G.canvas.width=X.width,G.canvas.height=X.height,this.element.append(T),H&&this.possiblyInsertShadingElement(this.element,C,x,S),this.createScannerPausedUiElement(this.element),this.qrRegion=X,this.context=G,this.canvasElement=T},A.prototype.createScannerPausedUiElement=function(C){var x=document.createElement("div");x.innerText=Es.scannerPaused(),x.style.display="none",x.style.position="absolute",x.style.top="0px",x.style.zIndex="1",x.style.background="rgba(9, 9, 9, 0.46)",x.style.color="#FFECEC",x.style.textAlign="center",x.style.width="100%",C.appendChild(x),this.scannerPausedUiElement=x},A.prototype.scanContext=function(C,x){var N=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(R){return C(R.text,$1.createFromQrcodeResult(R)),N.possiblyUpdateShaders(!0),!0}).catch(function(R){N.possiblyUpdateShaders(!1);var S=Es.codeParseError(R);return x(S,g0.createFrom(S)),!1})},A.prototype.foreverScan=function(C,x,N){var R=this;if(this.shouldScan&&this.renderedCamera){var S=this.renderedCamera.getSurface(),H=S.videoWidth/S.clientWidth,K=S.videoHeight/S.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var X=this.qrRegion.width*H,T=this.qrRegion.height*K,Z=this.qrRegion.x*H,G=this.qrRegion.y*K;this.context.drawImage(S,Z,G,X,T,0,0,this.qrRegion.width,this.qrRegion.height);var Ie=function(){R.foreverScanTimeout=setTimeout(function(){R.foreverScan(C,x,N)},R.getTimeoutFps(C.fps))};this.scanContext(x,N).then(function(Oe){!Oe&&C.disableFlip!==!0?(R.context.translate(R.context.canvas.width,0),R.context.scale(-1,1),R.scanContext(x,N).finally(function(){Ie()})):Ie()}).catch(function(Oe){R.logger.logError("Error happend while scanning context",Oe),Ie()})}},A.prototype.createVideoConstraints=function(C){if(typeof C=="string")return{deviceId:{exact:C}};if(typeof C=="object"){var x="facingMode",N="deviceId",R={user:!0,environment:!0},S="exact",H=function(ht){if(ht in R)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ht,"'")},K=Object.keys(C);if(K.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(K.length," keys");var X=Object.keys(C)[0];if(X!==x&&X!==N)throw"Only '".concat(x,"' and '").concat(N,"' ")+" are supported for 'cameraIdOrConfig'";if(X===x){var T=C.facingMode;if(typeof T=="string"){if(H(T))return{facingMode:T}}else if(typeof T=="object")if(S in T){if(H(T["".concat(S)]))return{facingMode:{exact:T["".concat(S)]}}}else throw"'facingMode' should be string or object with"+" ".concat(S," as key.");else{var Z=typeof T;throw"Invalid type of 'facingMode' = ".concat(Z)}}else{var G=C.deviceId;if(typeof G=="string")return{deviceId:G};if(typeof G=="object"){if(S in G)return{deviceId:{exact:G["".concat(S)]}};throw"'deviceId' should be string or object with"+" ".concat(S," as key.")}else{var Ie=typeof G;throw"Invalid type of 'deviceId' = ".concat(Ie)}}}var Oe=typeof C;throw"Invalid type of 'cameraIdOrConfig' = ".concat(Oe)},A.prototype.computeCanvasDrawConfig=function(C,x,N,R){if(C<=N&&x<=R){var S=(N-C)/2,H=(R-x)/2;return{x:S,y:H,width:C,height:x}}else{var K=C,X=x;return C>N&&(x=N/C*x,C=N),x>R&&(C=R/x*C,x=R),this.logger.log("Image downsampled from "+"".concat(K,"X").concat(X)+" to ".concat(C,"X").concat(x,".")),this.computeCanvasDrawConfig(C,x,N,R)}},A.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var C=document.getElementById(this.elementId);C&&(C.innerHTML="")},A.prototype.possiblyUpdateShaders=function(C){this.qrMatch!==C&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(x){x.style.backgroundColor=C?Zn.BORDER_SHADER_MATCH_COLOR:Zn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=C)},A.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},A.prototype.createCanvasElement=function(C,x,N){var R=C,S=x,H=document.createElement("canvas");return H.style.width="".concat(R,"px"),H.style.height="".concat(S,"px"),H.style.display="none",H.id=Hr(N)?"qr-canvas":N,H},A.prototype.getShadedRegionBounds=function(C,x,N){if(N.width>C||N.height>x)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(C-N.width)/2,y:(x-N.height)/2,width:N.width,height:N.height}},A.prototype.possiblyInsertShadingElement=function(C,x,N,R){if(!(x-R.width<1||N-R.height<1)){var S=document.createElement("div");S.style.position="absolute";var H=(x-R.width)/2,K=(N-R.height)/2;if(S.style.borderLeft="".concat(H,"px solid rgba(0, 0, 0, 0.48)"),S.style.borderRight="".concat(H,"px solid rgba(0, 0, 0, 0.48)"),S.style.borderTop="".concat(K,"px solid rgba(0, 0, 0, 0.48)"),S.style.borderBottom="".concat(K,"px solid rgba(0, 0, 0, 0.48)"),S.style.boxSizing="border-box",S.style.top="0px",S.style.bottom="0px",S.style.left="0px",S.style.right="0px",S.id="".concat(Zn.SHADED_REGION_ELEMENT_ID),x-R.width<11||N-R.height<11)this.hasBorderShaders=!1;else{var X=5,T=40;this.insertShaderBorders(S,T,X,-X,null,0,!0),this.insertShaderBorders(S,T,X,-X,null,0,!1),this.insertShaderBorders(S,T,X,null,-X,0,!0),this.insertShaderBorders(S,T,X,null,-X,0,!1),this.insertShaderBorders(S,X,T+X,-X,null,-X,!0),this.insertShaderBorders(S,X,T+X,null,-X,-X,!0),this.insertShaderBorders(S,X,T+X,-X,null,-X,!1),this.insertShaderBorders(S,X,T+X,null,-X,-X,!1),this.hasBorderShaders=!0}C.append(S)}},A.prototype.insertShaderBorders=function(C,x,N,R,S,H,K){var X=document.createElement("div");X.style.position="absolute",X.style.backgroundColor=Zn.BORDER_SHADER_DEFAULT_COLOR,X.style.width="".concat(x,"px"),X.style.height="".concat(N,"px"),R!==null&&(X.style.top="".concat(R,"px")),S!==null&&(X.style.bottom="".concat(S,"px")),K?X.style.left="".concat(H,"px"):X.style.right="".concat(H,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(X),C.appendChild(X)},A.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},A.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},A.prototype.getTimeoutFps=function(C){return 1e3/C},A}(),lc;(function(A){A[A.STATUS_DEFAULT=0]="STATUS_DEFAULT",A[A.STATUS_SUCCESS=1]="STATUS_SUCCESS",A[A.STATUS_WARNING=2]="STATUS_WARNING",A[A.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(lc||(lc={}));const U0=()=>{const[A,C]=ms.useState(null),[x,N]=ms.useState(!1),R=ms.useRef(null),S=ms.useRef(null),H=async()=>{if(!R.current||x)return;const X=new F0(R.current.id);try{await X.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},(T,Z)=>{C(T),K()},void 0),S.current=X,N(!0)}catch(T){console.error("Scanning failed",T)}},K=()=>{var X;((X=S.current)==null?void 0:X.getState())===Dt.SCANNING&&(S.current.stop(),S.current.clear()),S.current=null,N(!1)};return ms.useEffect(()=>()=>{K()},[]),lr.jsxs("div",{style:{textAlign:"center",marginTop:"20px"},children:[lr.jsx("h1",{children:""}),lr.jsx("div",{id:"video-container",ref:R,style:{width:"300px",height:"300px",border:"1px solid black",margin:"20px auto"}}),A&&lr.jsxs("div",{children:[lr.jsx("h3",{children:":"}),lr.jsx("p",{children:A})]}),lr.jsx("button",{onClick:x?K:H,children:x?"":""})]})};function V0(){return lr.jsx(lr.Fragment,{children:lr.jsx(U0,{})})}f0.createRoot(document.getElementById("root")).render(lr.jsx(ms.StrictMode,{children:lr.jsx(V0,{})}));
